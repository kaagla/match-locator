(this["webpackJsonpmatch-locator"]=this["webpackJsonpmatch-locator"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(19),r=a.n(c),i=a(22),o=a(44),m=a(2),s=(a(56),a(10)),u=a(7),d=a(17),E=a.n(d),p=a(21),f=a(14),h=a.n(f),v=function(e){return function(){var t=Object(p.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.get("api/"+e);case 2:n=t.sent,"teams"===e&&a({type:"ADD_TEAMS",data:n.data}),"cities"===e&&a({type:"ADD_CITIES",data:n.data}),"levels"===e&&a({type:"ADD_LEVELS",data:n.data}),"info"===e&&a({type:"ADD_INFO",data:n.data[0]});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=function(e,t){return function(){var a=Object(p.a)(E.a.mark((function a(n){var l,c,r,i,o,m,s;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"SET_IS_LOADING",data:!0}),n({type:"SET_SELECTED_LOCATION",data:null}),l={},""!==e&&(l.dates=e),t.length>0&&t.map((function(e){l[e.type]=[],l[e.type].push({name:e.name})})),(c={}).dates=e,c.filters=t,n({type:"SET_SEARCH_CONDITIONS",data:c}),r=null,1===t.length&&["level","team"].includes(t[0].type)&&(r=t[0]),n({type:"SET_SELECTED_ITEM",data:r}),a.next=14,h.a.post("/api/matches",l);case 14:if(i=a.sent,o=new Set([]),i.data.map((function(e){return o.add(e.location_id)})),m=Array.from(o),(s={}).data=[],!(m.length>0)){a.next=24;break}return a.next=23,h.a.get("/api/locations?ids="+m.join(","));case 23:s=a.sent;case 24:n({type:"ADD_MATCHES",data:i.data}),n({type:"ADD_LOCATIONS",data:s.data}),n({type:"SET_IS_LOADING",data:!1});case 27:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},g=(a(75),function(e){return window.localStorage.setItem("filters",JSON.stringify(e)),{type:"SET_FILTERS",data:e}}),w=function(e){return window.localStorage.setItem("favourites",JSON.stringify(e)),{type:"SET_FAVOURITES",data:e}},y=a(104),b=a(105),O=a(103),S=a(106),T=a(107),k=a(8),j=a.n(k),_=(a(76),a(4));a(77),a(78);function I(e){return l.a.createElement("div",{className:"searchfield2-component"},l.a.createElement("div",{className:"searchfield2-items"},l.a.createElement("i",{className:"fas fa-".concat(e.icon," icon")}),e.isActive?l.a.createElement("input",{type:"search",value:e.searchText,placeholder:e.placeholder,onChange:function(t){return e.handleText(t.target.value)},onFocus:function(){return e.handleSelect("search")},autoFocus:!0}):l.a.createElement("div",{className:"search-field-iconmode"})))}var D=a(46);a(79);function C(e){var t=Object(m.c)((function(e){return e.citySearchText})),a=[{type:"city",name:"Suomi"}].concat(Object(m.c)((function(e){return e.cities}))).filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})),n=Object(m.b)();function c(e){n(function(e){return function(){var t=Object(p.a)(E.a.mark((function t(a){var n,l;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Suomi"!==e.name){t.next=4;break}a({type:"SET_MAP_CENTER",data:{city:"Suomi",lat:63,lon:25}}),t.next=9;break;case 4:return n={city:Object(D.a)({},e)},t.next=7,h.a.post("/api/citycoordinates",n);case 7:l=t.sent,a({type:"SET_MAP_CENTER",data:l.data[0]});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))}return l.a.createElement("div",{className:"city-list-component"},l.a.createElement("ul",null,a.map((function(e){return l.a.createElement("li",{key:e.name,onClick:function(){return c(e)}},l.a.createElement(s.b,{to:"/"},e.name))}))))}function A(){var e=Object(n.useState)(!1),t=Object(_.a)(e,2),a=t[0],c=t[1],r=Object(m.c)((function(e){return e})).citySearchText,i=Object(m.b)();return l.a.createElement("div",{className:"locate-component"},l.a.createElement("div",{className:"locate-search"},l.a.createElement("div",{onClick:function(){c(!0)}},l.a.createElement(I,{value:r,handleText:function(e){i(function(e){return{type:"SET_CITY_SEARCH_TEXT",data:e}}(e))},icon:"eye",handleSelect:function(){},isActive:a})),a?l.a.createElement("div",{className:"locate-close-btn",onClick:function(){c(!1)}},"X"):null),a?l.a.createElement("div",{className:"locate-list"},l.a.createElement(C,null)):l.a.createElement("div",null))}a(81),a(82);function L(e){return l.a.createElement("div",{className:"icon-component"},l.a.createElement("div",null,l.a.createElement("i",{className:"fas fa-"+e.icon})),l.a.createElement("div",{className:"icon-component--definition"},e.definition))}function x(e){var t=e.location;return l.a.createElement("div",{className:"location-details-component"},l.a.createElement("div",{className:"location-address"},l.a.createElement("div",null,t.address),l.a.createElement("div",null,t.postalcode," ",t.city)),l.a.createElement("div",{className:"location-directions",onClick:function(){return window.open((e=t.lat,a=t.lon,"https://www.google.fi/maps/dir//".concat(e,",").concat(a,"/@").concat(e,",").concat(a,",11z")));var e,a}},l.a.createElement(L,{icon:"directions",definition:"REITTIOHJE"})))}function J(){var e=Object(m.c)((function(e){return e.mapCenter})),t=Object(m.c)((function(e){return e.matches})),a=Object(m.c)((function(e){return e.locations})),n=Object(u.f)(),c=Object(m.b)();function r(e){return e.length>8?e.slice(0,8)+"...":e}return l.a.createElement("div",{className:"map-container"},l.a.createElement(A,null),l.a.createElement("link",{rel:"stylesheet",href:"//cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/leaflet.css"}),l.a.createElement(y.a,{center:[e.lat,e.lon],zoom:function(){var t;return t="Suomi"!==e.city?11:6,window.innerWidth<=600?t-1:t}(),attributionControl:!0,zoomControl:!1,doubleClickZoom:!0,scrollWheelZoom:!0,dragging:!0,animate:!0,easeLinearity:.35},l.a.createElement(b.a,{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}),a.map((function(e){return l.a.createElement(O.a,{key:e._id,position:[e.lat,e.lon],opacity:.9,onclick:function(){return function(e){c({type:"SET_SELECTED_LOCATION",data:e}),n.push("/locationmatchlist",e)}(e)}},l.a.createElement(S.a,{className:"request-popup"},l.a.createElement(x,{location:e}),l.a.createElement("div",{className:"matches-list"},t.filter((function(t){return t.location_id===e._id})).map((function(e){return l.a.createElement("div",{className:"matches-item"},l.a.createElement("span",null,r(e.home_name)),l.a.createElement("span",null,e.score.split(" ")[0]),l.a.createElement("span",null,r(e.away_name)))}))),l.a.createElement(s.b,{to:"/locationmatchlist",style:{textDecoration:"none"}},l.a.createElement("div",{className:"go-to-details",onClick:function(){document.getElementById("content-menu").scrollIntoView({behavior:"smooth",block:"start"})}},"N\xe4yt\xe4 tarkat ottelutiedot"))))})),l.a.createElement(T.a,{position:"bottomright"})))}delete j.a.Icon.Default.prototype._getIconUrl,j.a.Icon.Default.mergeOptions({iconRetinaUrl:a(83),iconUrl:a(84),shadowUrl:a(85)});var M=a(15),R=function(e){return parseInt(e.split("-")[2])+"."},F=function(e){var t=parseInt(e.split("-")[1]);return parseInt(e.split("-")[2])+"."+t+"."},U=function(e){var t=e.split("-")[0],a=parseInt(e.split("-")[1]);return parseInt(e.split("-")[2])+"."+a+"."+t},H=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e===t?a?U(e):F(e):e.split("-")[0]===t.split("-")[0]?e.split("-")[1]===t.split("-")[1]?a?R(e)+" - "+U(t):R(e)+" - "+F(t):a?F(e)+" - "+U(t):F(e)+" - "+F(t):a?U(e)+" - "+U(t):F(e)+" - "+F(t)};a(86),a(87);function V(e){var t=Object(n.useState)(!1),a=Object(_.a)(t,2),c=a[0],r=a[1];return l.a.createElement("div",{className:"menu-item-component"},l.a.createElement("div",{className:"menu-item",onClick:function(){return e.onClick?e.onClick():void r(!c)}},l.a.createElement("div",{className:"menu-item-header"},l.a.createElement("div",{className:"menu-item-icon"},l.a.createElement("i",{className:"fas fa-"+e.icon})),l.a.createElement("div",{className:"menu-item-definition"},e.definition)),l.a.createElement("div",{className:"menu-item-content-indicator"},l.a.createElement("i",{className:e.children?c?"arrow-up":"arrow-down":""}))),e.children&&c?l.a.createElement("div",{className:"menu-item-content"},e.children):null)}a(88);function K(e){var t=Object(n.useState)(!1),a=Object(_.a)(t,2),c=a[0],r=a[1],i=Object(m.c)((function(e){return e.filters})),o=Object(m.c)((function(e){return e.favourites})),u=Object(m.b)();function d(e,t){if("favourites"===e)if(0===o.filter((function(e){return e.name===t.name})).length){var a=Object(M.a)(o);a.push(t),u(w(a))}else{var n=Object(M.a)(o).filter((function(e){return e.name!==t.name}));u(w(n))}if("filters"===e)if(0===i.filter((function(e){return e.name===t.name})).length){var l=Object(M.a)(i);l.push(t),u(g(l))}else{var c=Object(M.a)(i).filter((function(e){return e.name!==t.name}));u(g(c))}}function E(t){u(N("",[t])),document.getElementById("content-menu").scrollIntoView({behavior:"smooth",block:"start"}),e.handleClose()}return l.a.createElement("div",{className:"list-item-component"},l.a.createElement("div",{className:"list-item-component--header",onClick:function(){return r(!c)}},l.a.createElement("span",null,e.item.name),l.a.createElement("span",null,l.a.createElement("i",{className:c?"arrow-up":"arrow-down"}))),c?l.a.createElement("div",{className:"list-item-component--options"},l.a.createElement("div",null,l.a.createElement("div",null,"VALINNAT"),l.a.createElement("div",{className:"list-item-component--options-group"},l.a.createElement("span",{className:o.filter((function(t){return t.name===e.item.name})).length>0?"list-item-component--options-selected":"",onClick:function(){return d("favourites",e.item)}},l.a.createElement(L,{icon:"star",definition:"SUOSIKKI"})),l.a.createElement("span",{className:i.filter((function(t){return t.name===e.item.name})).length>0?"list-item-component--options-selected":"",onClick:function(){return d("filters",e.item)}},l.a.createElement(L,{icon:"filter",definition:"SUODATIN"})))),l.a.createElement("div",null,l.a.createElement("div",null,"N\xc4YT\xc4"),l.a.createElement("div",{className:"list-item-component--options-group"},l.a.createElement(s.b,{to:"/"},l.a.createElement("span",{onClick:function(){return E(e.item)}},l.a.createElement(L,{icon:"list-ul",definition:"OTTELUT"}))),["level","team"].includes(e.item.type)?l.a.createElement(s.b,{to:"/standings"},l.a.createElement("span",{onClick:function(){return E(e.item)}},l.a.createElement(L,{icon:"trophy",definition:"SARJATILANNE"}))):null))):l.a.createElement("div",null))}a(89);function Y(e){var t=Object(n.useState)(20),a=Object(_.a)(t,2),c=a[0],r=a[1];return l.a.createElement("div",{className:"list-component"},l.a.createElement("ul",null,e.items.slice(0,c).map((function(t){return l.a.createElement("li",{key:t.name},l.a.createElement(K,{item:t,handleClose:e.handleClose}))})),e.items.length>c?l.a.createElement("li",{className:"show-all",onClick:function(){r(1/0)}},l.a.createElement("span",null,"N\xc4YT\xc4 KAIKKI"),l.a.createElement("span",null,l.a.createElement("i",{className:"arrow-down"}))):null))}var P=function(e){return{type:"SET_DATE_FROM",data:e}},X=function(e){return{type:"SET_DATE_TO",data:e}};a(90);function B(e){var t=(new Date).toJSON().split("T")[0],a=[(new Date).getFullYear()-1,(new Date).getFullYear(),(new Date).getFullYear()+1],c=Object(m.c)((function(e){return e.dateFrom})),r=Object(m.c)((function(e){return e.dateTo})),i=Object(m.b)();function o(e){var t=new Date(e).getTime(),a=new Date(c).getTime(),n=new Date(r).getTime();t<a||a!==n?(i(P(e)),i(X(e))):a===n&&i(X(e))}function s(e,t){return parseInt(e.split("-")[1])!==parseInt(t)}return Object(n.useEffect)((function(){console.log(r),document.getElementById(r.split("-").slice(0,2).join("-")).scrollIntoView({behavior:"auto",block:"center"})}),[]),Object(n.useEffect)((function(){document.getElementById(r.split("-").slice(0,2).join("-")).scrollIntoView({behavior:"smooth",block:"center"})}),[r]),l.a.createElement("div",{className:"calendar-container"},l.a.createElement("div",{className:"calendar-component"},l.a.createElement("div",{className:"calendar-component--shortcut"},l.a.createElement("form",null,l.a.createElement("label",null,l.a.createElement("select",{value:"",onChange:function(e){return function(e){if("today"===e&&(i(P(t)),i(X(t))),"this-week"===e){var a=new Date;i(P(t)),0!==a.getDay()?i(X(new Date(a.setDate(a.getDate()+(7-(new Date).getDay()))).toJSON().split("T")[0])):i(X(t))}if("next-week"===e){var n=new Date((new Date).setDate((new Date).getDate()+(8-(new Date).getDay()))),l=new Date(n);l.setDate(l.getDate()+6),i(P(n.toJSON().split("T")[0])),i(X(l.toJSON().split("T")[0]))}if("this-month"===e){i(P(t));var c=new Date(t),r=new Date(c.setDate(32));r=new Date(c.setDate(0)).toJSON().split("T")[0],i(X(r))}if("next-month"===e){var o=new Date((new Date).setDate(32)).toJSON().split("T")[0],m=new Date(new Date((new Date).setDate(64)).setDate(0)).toJSON().split("T")[0];i(P(o)),i(X(m))}if("this-year"===e){var s=new Date((new Date).getFullYear(),11,32).toJSON().split("T")[0];i(P(t)),i(X(s))}}(e.target.value)}},l.a.createElement("option",{value:""},"Ajanjakson pikavalinta"),l.a.createElement("option",{value:"today"},"T\xe4n\xe4\xe4n"),l.a.createElement("option",{value:"this-week"},"Tulevat t\xe4ll\xe4 viikolla"),l.a.createElement("option",{value:"next-week"},"Ensi viikolla"),l.a.createElement("option",{value:"this-month"},"Tulevat t\xe4ss\xe4 kuussa"),l.a.createElement("option",{value:"next-month"},"Ensi kuussa"),l.a.createElement("option",{value:"this-year"},"Tulevat t\xe4n\xe4 vuonna"))))),l.a.createElement("div",{className:"calendar-component--table-headings"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"MA"),l.a.createElement("th",null,"TI"),l.a.createElement("th",null,"KE"),l.a.createElement("th",null,"TO"),l.a.createElement("th",null,"PE"),l.a.createElement("th",null,"LA"),l.a.createElement("th",null,"SU"))))),l.a.createElement("div",{className:"calendar-component--tables"},function(){var e=[];return a.map((function(t){[1,2,3,4,5,6,7,8,9,10,11,12].map((function(a){var n={year:t,month:a<=9?"0"+a:a.toString()};n.monthDays=function(e,t){var a=e-1,n=t,l=new Date(n,a+1,0).getDate(),c=-(new Date(n,a,1).getDay()-2);0===new Date(n,a,1).getDay()&&(c=-5);for(var r=l+(7-new Date(n,a,l).getDay()),i=[],o=c;o<=r;o++){var m=new Date(n,a,o),s=m.getDate();s=s<=9?"0"+s:s;m.getDay();var u=m.getMonth()+1;u=u<=9?"0"+u:u;var d=m.getFullYear();i.push({date:d+"-"+u+"-"+s})}for(var E=[],p=0;p<i.length/7;p++)E.push(i.slice(7*p,7*(p+1)));return E}(a,t),e.push(n)}))})),e}().map((function(e){return l.a.createElement("div",{className:"calendar-component--month",key:e.year+"-"+e.month,id:e.year+"-"+e.month},l.a.createElement("h5",null,{"01":"tammikuu","02":"helmikuu","03":"maaliskuu","04":"huhtikuu","05":"toukokuu","06":"kes\xe4kuu","07":"hein\xe4kuu","08":"elokuu","09":"syyskuu",10:"lokakuu",11:"marraskuu",12:"joulukuu"}[e.month]+" "+e.year),l.a.createElement("table",null,l.a.createElement("tbody",null,e.monthDays.map((function(t,a){return l.a.createElement("tr",{key:a},t.map((function(t){return function(e){if(null===r){if(e===c)return!0}else if(e>=c&&e<=r)return!0;return!1}(t.date)&&!s(t.date,e.month)?t.date===c||t.date===r?l.a.createElement("td",{key:t.date,className:"calendar-component--item-selected",onClick:function(){return o(t.date)}},t.date.split("-")[2]):l.a.createElement("td",{key:t.date,className:"calendar-component--item-selected-range",onClick:function(){return o(t.date)}},t.date.split("-")[2]):s(t.date,e.month)?function(e,t){return parseInt(e.split("-")[0])!==parseInt(t)}(t.date,e.year)?l.a.createElement("td",{key:t.date}):l.a.createElement("td",{key:t.date,className:"calendar-component--item-difmonth",onClick:function(){return o(t.date)}},t.date.split("-")[2]):l.a.createElement("td",{key:t.date,className:"calendar-component--item",onClick:function(){return o(t.date)}},t.date.split("-")[2])})))})))))})))))}a(91);function G(){var e=Object(m.c)((function(e){return e})).info;return console.log(e),l.a.createElement("div",{className:"info-component"},l.a.createElement("div",null,l.a.createElement("h3",null,"miss\xe4 pelaa?")),l.a.createElement("div",null,'"Jalkapallo-ottelut helposti kartalle."'),l.a.createElement("div",null,l.a.createElement("span",null,"Ottelu-, lokaatio- ja sarjatilannetiedot on ker\xe4tty Suomen Palloliiton sivuilta"),l.a.createElement("span",{className:"info-link",onClick:function(){return window.open("https://www.palloliitto.fi")}}," (www.palloliitto.fi).")),l.a.createElement("div",{className:"info-details"},e.updated?l.a.createElement("div",null,l.a.createElement("span",null,"Ottelutietokanta p\xe4ivitetty: ",U(e.updated))):null,l.a.createElement("div",null,l.a.createElement("span",null,"Sovelluksen l\xe4hdekoodi: "),l.a.createElement("span",{className:"info-link",onClick:function(){return window.open("https://www.github.com/kaagla/match-locator")}},l.a.createElement("i",{className:"fab fa-github"})))))}function z(){var e=Object(n.useState)(!1),t=Object(_.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(null),i=Object(_.a)(r,2),o=i[0],s=i[1],d=Object(n.useState)(!1),E=Object(_.a)(d,2),p=E[0],f=E[1],h=Object(m.c)((function(e){return e})),v=h.itemSearchText,g=h.filters,w=h.favourites,y=h.dateFrom,b=h.dateTo,O=h.cities,S=h.levels,T=h.teams,k=[].concat(Object(M.a)(O),Object(M.a)(S),Object(M.a)(T)),j=Object(m.b)(),D=Object(u.f)();function C(){c(!a)}function A(e){s(e===o&&"search"!==e?null:e)}function x(){p&&f(!1),s(null)}return l.a.createElement("div",{className:"top-menu-component"},l.a.createElement("div",{className:"top-menu-box"},l.a.createElement("div",{className:"top-menu-left"},l.a.createElement("div",{className:"top-menu-left-title",onClick:function(){return A("info")}},"miss\xe4 pelaa?")),l.a.createElement("div",{className:"top-menu-center",onClick:function(){f(!0)}},l.a.createElement(I,{searchText:v,handleText:function(e){j(function(e){return{type:"SET_ITEM_SEARCH_TEXT",data:e}}(e))},handleSelect:A,icon:"search",isActive:p,definition:"Etsi sarjaa, joukkuetta tai kaupunkia"})),l.a.createElement("div",{className:"top-menu-right"},l.a.createElement("span",{className:a?"menu-items-btn-active":"menu-items-btn",onClick:function(){return C()}},l.a.createElement(L,{icon:"sliders-h",definition:"HAKUVALINNAT"}))),a?l.a.createElement("div",{className:"menu-items"},l.a.createElement(V,{icon:"redo",definition:"P\xc4IVIT\xc4 HAKU",onClick:function(){return j(N(y+","+b,g)),c(!a),void D.push("/")}}),l.a.createElement(V,{icon:"calendar",definition:H(y,b)},l.a.createElement(B,null)),l.a.createElement(V,{icon:"filter",definition:"SUODATTIMET "+g.length},0!==g.length?l.a.createElement(Y,{items:g,handleClose:C}):l.a.createElement("div",{className:"no-items"},"Lis\xe4\xe4 suodattimia hakutoiminnolla.")),l.a.createElement(V,{icon:"star",definition:"SUOSIKIT "+w.length},0!==w.length?l.a.createElement(Y,{items:w,handleClose:C}):l.a.createElement("div",{className:"no-items"},"Lis\xe4\xe4 suosikkeja hakutoiminnolla."))):null,"search"===o?l.a.createElement("div",{className:"item-container"},l.a.createElement("div",{className:"item-box"},l.a.createElement("div",{className:"item-close",onClick:function(){return x()}},"X"),""!==v?l.a.createElement(Y,{items:k.filter((function(e){return v.split(" ").every((function(t){return e.name.toLowerCase().includes(t.toLowerCase())}))})),handleClose:x}):l.a.createElement("div",{className:"search-instructions"},"Etsi sarjaa, joukkuetta tai kaupunkia"))):l.a.createElement("span",null),"info"===o?l.a.createElement("div",{className:"item-container"},l.a.createElement("div",{className:"item-box"},l.a.createElement("div",{className:"item-close",onClick:function(){return x()}},"X"),l.a.createElement(G,null))):l.a.createElement("span",null),"filters"===o?l.a.createElement("div",{className:"item-container"},l.a.createElement("div",{className:"item-box"},l.a.createElement("div",{className:"item-close",onClick:function(){return x()}},"X"),l.a.createElement(Y,{items:g}))):l.a.createElement("span",null),"favourites"===o?l.a.createElement("div",{className:"item-container"},l.a.createElement("div",{className:"item-box"},l.a.createElement("div",{className:"item-close",onClick:function(){return x()}},"X"),l.a.createElement(Y,{items:w}))):l.a.createElement("span",null)))}a(92);function W(e){var t=Object(m.c)((function(e){return e})),a=t.matches,c=t.searchConditions,r=t.selectedLocation,i=t.selectedItem,o=Object(n.useState)("all-matches"),d=Object(_.a)(o,2),E=d[0],p=d[1],f=Object(u.g)();function h(e){e!==E&&p(e),document.getElementById("content-menu").scrollIntoView({behavior:"smooth",block:"start"})}return l.a.createElement("div",{id:"content-menu",className:"content-menu-component"},null!==c?l.a.createElement("div",{className:"content-menu-details"},l.a.createElement("div",null,"Hakuehdot:"),""!==c.dates?l.a.createElement("div",null,l.a.createElement("div",null,H(c.dates.split(",")[0],c.dates.split(",")[1])),c.filters.map((function(e){return l.a.createElement("div",null,e.name)}))):l.a.createElement("div",null,c.filters[0].name)):null,l.a.createElement("div",{className:"content-menu"},c?l.a.createElement(s.b,{to:"/"},l.a.createElement("div",{className:"/"===f.pathname?"all-matches selected-menu-item":"all-matches",onClick:function(){return h("all-matches")}},l.a.createElement(L,{icon:"list-ul",definition:"OTTELUT "+a.length}))):null,r?l.a.createElement(s.b,{to:"/locationmatchlist"},l.a.createElement("div",{className:"/locationmatchlist"===f.pathname?"selected-menu-item":"",onClick:function(){return h("location")}},l.a.createElement(L,{icon:"map-marker-alt",definition:"OTTELUT KOHTEESSA"}))):null,i?l.a.createElement(s.b,{to:"/standings"},l.a.createElement("div",{className:"/standings"===f.pathname?"selected-menu-item":"",onClick:function(){return h("standings")}},l.a.createElement(L,{icon:"trophy",definition:"SARJATILANNE"}))):null))}a(93);function Z(e){return l.a.createElement("div",{className:"content-component"},l.a.createElement("div",{className:"content"},e.children))}a(94),a(95),a(96);function q(e){return l.a.createElement("div",{className:"count-badge-component"},l.a.createElement("div",{className:"count-badge-component--item"},e.count))}a(97),a(98);function $(e){var t=Object(n.useState)("points"),a=Object(_.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(!0),o=Object(_.a)(i,2),m=o[0],s=o[1],u=e.standings,d=e.selectedGroup,E={played:"O",wins:"V",draws:"T",losses:"H",scored:"TM",conceded:"PM",difference:"+/-",points:"P"};function p(e){c===e?s(!m):(r(e),s(!0))}return l.a.createElement("div",{className:"standingstable-component"},function(){var e=u.filter((function(e){return e.name===d})),t={name:d,standings:[]};return e[0].standings.sort((function(e,t){return m?t[c]-e[c]:e[c]-t[c]})).map((function(e){t.standings.push(e)})),[t]}().map((function(e){return l.a.createElement("div",{key:e.name,className:"group-component"},l.a.createElement("table",{className:"standings-group-table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null),l.a.createElement("th",null),Object.keys(E).map((function(e){return e===c?l.a.createElement("th",{onClick:function(){return p(e)}},l.a.createElement("span",null,E[e]," "),m?l.a.createElement("span",null,"\u2193"):l.a.createElement("span",null,"\u2191")):l.a.createElement("th",{onClick:function(){return p(e)}},l.a.createElement("span",null,E[e]))})))),l.a.createElement("tbody",null,e.standings.map((function(t){return l.a.createElement("tr",{key:t.name,name:t.name},l.a.createElement("td",null,e.standings.indexOf(t)+1,"."),l.a.createElement("td",{id:t.name},t.team),l.a.createElement("td",null,t.played),l.a.createElement("td",null,t.wins),l.a.createElement("td",null,t.draws),l.a.createElement("td",null,t.losses),l.a.createElement("td",null,t.scored),l.a.createElement("td",null,t.conceded),l.a.createElement("td",null,t.difference),l.a.createElement("td",null,t.points))})))))})))}function Q(e){var t=Object(n.useState)(!1),a=Object(_.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)([]),o=Object(_.a)(i,2),m=o[0],s=o[1],u=Object(n.useState)([]),d=Object(_.a)(u,2),E=d[0],p=d[1],f=Object(n.useState)(""),v=Object(_.a)(f,2),N=v[0],g=v[1],w=Object(n.useState)(!1),y=Object(_.a)(w,2),b=y[0],O=y[1];function S(e,t){if("-"===t.score)return"no-score";var a=parseInt(t.score.split(" ")[0].split("-")[0]),n=parseInt(t.score.split(" ")[0].split("-")[1]);return a===n?"draw":a-n>0?e===t.home_name?"win":"loss":e===t.away_name?"win":"loss"}function T(e){var t=parseInt(e.split(".")[2]),a=parseInt(e.split(".")[1])-1,n=parseInt(e.split(".")[0]);return new Date(t,a,n)>new Date}return Object(n.useEffect)((function(){!function(){var t={},a=e.match,n=parseInt(a.date.split(".")[2]),l=parseInt(a.date.split(".")[1])-1,c=parseInt(a.date.split(".")[0])-1;t.dates="2019-01-01,"+new Date(n,l,c).toJSON().split("T")[0],t.team=[],t.team.push({name:e.match.home_name+" - "+e.match.level}),t.team.push({name:e.match.away_name+" - "+e.match.level}),h.a.post("/api/matches",t).then((function(e){0===e.data.length?g("Ei aiempia otteluita"):s(e.data)})).catch((function(e){console.log(e),g("Edellisi\xe4 otteluita ei saatavilla")}))}()}),[]),l.a.createElement("div",{className:"match-preview-component"},""!==N?l.a.createElement("div",null,"Edellisi\xe4 otteluita ei saatavilla"):l.a.createElement("div",{className:"match-preview-component-matchdiv"},l.a.createElement("div",{className:"match-preview-component-icon"},l.a.createElement("div",{className:0===m.length?"loader":""},l.a.createElement(L,{icon:"history",definition:"EDELLISET OTTELUT"}))),l.a.createElement("div",null,l.a.createElement("div",{className:"match-preview-component--last-matches"},l.a.createElement("div",{className:"match-preview-component--last-matches-home"},l.a.createElement("ul",null,m.filter((function(t){return t.home_name===e.match.home_name||t.away_name===e.match.home_name})).reverse().map((function(t){return l.a.createElement("li",{key:t.id,className:S(e.match.home_name,t)},l.a.createElement("div",{className:"match-preview-component--last-matches-teams"},l.a.createElement("span",{className:t.home_name===e.match.home_name?"selected":""},t.home_name),l.a.createElement("span",{className:t.away_name===e.match.home_name?"selected":""},t.away_name)),T(t.date)||"-"===t.score?l.a.createElement("div",{className:"match-preview-component--last-matches-date"},t.date):l.a.createElement("div",{className:"match-preview-component--last-matches-score"},l.a.createElement("span",null,t.score.split(" ")[0].split("-")[0]),l.a.createElement("span",null,t.score.split(" ")[0].split("-")[1])))})))),l.a.createElement("div",{className:"match-preview-component--last-matches-away"},l.a.createElement("ul",null,m.filter((function(t){return t.home_name===e.match.away_name||t.away_name===e.match.away_name})).reverse().map((function(t){return l.a.createElement("li",{key:t.id,className:S(e.match.away_name,t)},l.a.createElement("div",{className:"match-preview-component--last-matches-teams"},l.a.createElement("span",{className:t.home_name===e.match.away_name?"selected":""},t.home_name),l.a.createElement("span",{className:t.away_name===e.match.away_name?"selected":""},t.away_name)),T(t.date)||"-"===t.score?l.a.createElement("div",{className:"match-preview-component--last-matches-date"},t.date):l.a.createElement("div",{className:"match-preview-component--last-matches-score"},l.a.createElement("span",null,t.score.split(" ")[0].split("-")[0]),l.a.createElement("span",null,t.score.split(" ")[0].split("-")[1])))}))))))),l.a.createElement("div",{className:"match-preview-component-icon",onClick:function(){return function(){if(!c&&!b){r(!0);var t={standings:{type:"team",name:e.match.home_name+" - "+e.match.level}};h.a.post("/api/standings",t).then((function(e){0===e.data.length?O("Sarjatilannetta ei saatavilla"):p(e.data)})).catch((function(e){console.log(e),r(!1),O("Sarjatilannetta ei saatavilla")}))}}()}},l.a.createElement("div",{className:0===E.length&&c?"loader":""},l.a.createElement(L,{icon:"trophy",definition:c||b?"SARJATILANNE":"N\xc4YT\xc4 SARJATILANNE"}))),b?l.a.createElement("div",null,"Sarjatilannetta ei saatavilla"):E.length>0?l.a.createElement($,{standings:E,selectedGroup:E[0].name}):l.a.createElement("div",null))}function ee(e){var t=Object(n.useState)(e.itemIsOpen),a=Object(_.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)([]),o=Object(_.a)(i,2),m=o[0],s=o[1],u=Object(n.useState)(20),d=Object(_.a)(u,2),E=d[0],p=d[1];function f(t){var a=e.matches.filter((function(e){return e.venue_name===t}))[0].city;return t.includes(a)?t:t+", "+a}return l.a.createElement("div",{className:"matchlist-component"},l.a.createElement("div",{className:"matchlist-component--header",onClick:function(){return r(!c)}},l.a.createElement("div",{className:"matchlist-component--header-name"},l.a.createElement("span",null,"venue_name"===e.groupbyItem?f(e.header):e.header),l.a.createElement("span",{className:"matchlist-component--header-count"},l.a.createElement(q,{count:e.matches.length}))),l.a.createElement("div",null,l.a.createElement("i",{className:c?"arrow-up":"arrow-down"}))),c?l.a.createElement("div",{className:"matchlist-component--details"},e.matches.slice(0,E).map((function(t){return l.a.createElement("div",{key:t._id,className:"matchlist-component--match-details"},l.a.createElement("div",{className:"matchlist-component--match-details--whenwhere"},"date"!==e.groupbyItem?l.a.createElement("div",{className:"matchlist-component--match-details-date"},l.a.createElement("span",null,l.a.createElement("i",{className:"far fa-calendar"})),l.a.createElement("span",null,t.date)):l.a.createElement("span",null),l.a.createElement("div",{className:"matchlist-component--match-details-time"},l.a.createElement("span",null,l.a.createElement("i",{className:"far fa-clock"})),l.a.createElement("span",null,t.time)),"venue_name"!==e.groupbyItem?l.a.createElement("div",{className:"matchlist-component--match-details-venue"},l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-map-marker-alt"})),l.a.createElement("span",null,"city"===e.groupbyItem?t.venue_name:f(t.venue_name))):l.a.createElement("span",null),["city","venue_name"].includes(e.groupbyItem)?l.a.createElement("span",null):l.a.createElement("span",{className:"matchlist-component--match-details-city"})),l.a.createElement("div",{className:"matchlist-component--match-details--who"},"level"!==e.groupbyItem?l.a.createElement("div",{className:"matchlist-component--match-details-level"},l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-trophy"})),l.a.createElement("span",null,t.level)):l.a.createElement("span",null),l.a.createElement("div",{className:"matchlist-component--match-details-team-info"},l.a.createElement("div",{className:"matchlist-component--match-details-home"},l.a.createElement("span",null,t.home_name)),l.a.createElement("div",{className:"matchlist-component--match-details-score"},t.score),l.a.createElement("div",{className:"matchlist-component--match-details-away"},t.away_name))),function(e){var t=parseInt(e.split(".")[2]),a=parseInt(e.split(".")[1])-1,n=parseInt(e.split(".")[0]),l=new Date(t,a,n),c=(new Date).getFullYear(),r=(new Date).getMonth(),i=(new Date).getDate();return l>=new Date(c,r,i)}(t.date)?l.a.createElement("div",{className:"matchlist-component--match-preview"},l.a.createElement("div",{className:"matchlist-component--match-preview-btn",onClick:function(){return e=t._id,void(m.includes(e)?s(Object(M.a)(m).filter((function(t){return t!==e}))):s([].concat(Object(M.a)(m),[e])));var e}},l.a.createElement("span",null,"Ottelun asetelmat"),l.a.createElement("span",null,l.a.createElement("i",{className:m.includes(t._id)?"arrow-up":"arrow-down"}))),m.includes(t._id)?l.a.createElement("div",{className:"matchlist-component--match-preview-content"},l.a.createElement(Q,{match:t})):l.a.createElement("span",null)):l.a.createElement("span",null),l.a.createElement("div",null))})),E<e.matches.length?l.a.createElement("div",{className:"show-more-matches",onClick:function(){p(E+20)}},l.a.createElement("span",null,"N\xc4YT\xc4 LIS\xc4\xc4"),l.a.createElement("span",null,l.a.createElement("i",{className:"arrow-down"}))):l.a.createElement("span",null)):l.a.createElement("div",null))}function te(e){var t=Object(n.useState)("date"),a=Object(_.a)(t,2),c=a[0],r=a[1],i=Object(m.c)((function(e){return e.matches})),o=Object(m.c)((function(e){return e.isLoadingMatches})),s=new Set([]);return i.map((function(e){s.add(e[c])})),l.a.createElement("div",{className:"matchlist-component"},o?l.a.createElement("div",null,"Ladataan otteluita..."):0===i.length?null:l.a.createElement("div",{className:"matchlist-content"},l.a.createElement("div",{className:"matchlist-component--grouping"},l.a.createElement("div",{className:"matchlist-component--grouping-label"},"Ryhmittely:"),l.a.createElement("div",null,l.a.createElement("select",{value:c,onChange:function(e){return r(e.target.value)}},l.a.createElement("option",{value:"date"},"P\xe4iv\xe4m\xe4\xe4r\xe4"),l.a.createElement("option",{value:"level"},"Sarjataso"),l.a.createElement("option",{value:"city"},"Kaupunki"),l.a.createElement("option",{value:"venue_name"},"Kentt\xe4")))),l.a.createElement("div",{className:"matchlist-component--matchlist-items"},("date"===c?Array.from(s):Array.from(s).sort()).map((function(e,t){return l.a.createElement(ee,{key:e,header:e,groupbyItem:c,matches:i.filter((function(t){return t[c]===e})),itemIsOpen:0===t})})))))}a(99);function ae(e){var t=Object(m.c)((function(e){return e.selectedLocation})),a=Object(m.c)((function(e){return e})).matches;return null===t?null:l.a.createElement("div",{className:"location-matchlist-component"},l.a.createElement(x,{location:t}),function(){var e=new Set([]);return a.filter((function(e){return e.location_id===t._id})).map((function(t){e.add(t.venue_name)})),Array.from(e)}().map((function(e){return l.a.createElement(ee,{key:e,header:e,groupbyItem:"venue_name",matches:a.filter((function(t){return t.venue_name===e})),itemIsOpen:!0})})))}a(100);function ne(e){var t=Object(m.c)((function(e){return e.selectedItem})),a=Object(n.useState)([]),c=Object(_.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)(""),s=Object(_.a)(o,2),u=s[0],d=s[1],E=Object(n.useState)(!0),p=Object(_.a)(E,2),f=p[0],v=p[1],N=Object(n.useState)(!1),g=Object(_.a)(N,2),w=g[0],y=g[1],b=r.map((function(e){return e.name}));return Object(n.useEffect)((function(){"undefined"!==typeof t&&function(){v(!0);var e={standings:t};h.a.post("/api/standings",e).then((function(e){0===e.data.length?y(!0):(d(e.data[0].name),i(e.data))})).catch((function(e){console.log(e),y(!0)})).finally((function(){return v(!1)}))}()}),[]),"undefined"===typeof t?null:l.a.createElement("div",{id:"standings-component",className:"standings-component"},l.a.createElement("div",{className:"standings-header"},t.name),f?l.a.createElement("div",null,"Ladataan sarjatilannetta..."):w?l.a.createElement("div",null,"Sarjatilannetta ei saatavilla."):l.a.createElement("div",{className:"standings-content"},l.a.createElement("div",null,b.length>1?l.a.createElement("select",{value:u,onChange:function(e){return d(e.target.value)}},b.map((function(e){return l.a.createElement("option",{value:e},e)}))):"Sarja"!==b[0]?l.a.createElement("span",null,b[0]):l.a.createElement("span",null)),l.a.createElement($,{standings:r,selectedGroup:u})))}var le=function(){var e=Object(m.c)((function(e){return e})),t=e.dateFrom,a=e.dateTo,c=e.filters,r=e.selectedItem,i=e.selectedLocation,o=Object(m.b)();return Object(n.useEffect)((function(){o(v("cities")),o(v("levels")),o(v("teams")),o(v("info")),o(N(t+","+a,c))}),[]),l.a.createElement("div",{className:"App"},l.a.createElement(s.a,null,l.a.createElement(z,null),l.a.createElement(J,null),l.a.createElement(W,null),l.a.createElement(u.c,null,l.a.createElement(u.a,{exact:!0,path:"/",render:function(){return l.a.createElement(Z,null,l.a.createElement(te,null))}}),l.a.createElement(u.a,{exact:!0,path:"/locationmatchlist",render:function(){return i?l.a.createElement(Z,null,l.a.createElement(ae,null)):null}}),l.a.createElement(u.a,{exact:!0,path:"/standings",render:function(){return r?l.a.createElement(Z,null,l.a.createElement(ne,null)):null}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ce=[],re=[],ie=(new Date).toJSON().split("T")[0],oe={city:"Suomi",lat:63,lon:25};function me(){return JSON.parse(window.localStorage.getItem("filters"))?JSON.parse(window.localStorage.getItem("filters")):[]}function se(){return JSON.parse(window.localStorage.getItem("favourites"))?JSON.parse(window.localStorage.getItem("favourites")):[]}var ue=Object(i.c)({cities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CITIES":return t.data;default:return e}},levels:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_LEVELS":return t.data;default:return e}},teams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TEAMS":return t.data;default:return e}},info:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_INFO":return t.data;default:return e}},citySearchText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CITY_SEARCH_TEXT":return t.data;default:return e}},itemSearchText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ITEM_SEARCH_TEXT":return t.data;default:return e}},matches:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MATCHES":return t.data;default:return e}},locations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_LOCATIONS":return t.data;default:return e}},dateFrom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATE_FROM":return t.data;default:return e}},dateTo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATE_TO":return t.data;default:return e}},mapCenter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MAP_CENTER":return t.data;default:return e}},filters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILTERS":return t.data;default:return e}},favourites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FAVOURITES":return t.data;default:return e}},isLoadingMatches:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_LOADING":return t.data;default:return e}},selectedLocation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SELECTED_LOCATION":return t.data;default:return e}},selectedItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SELECTED_ITEM":return t.data;default:return e}},searchConditions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SEARCH_CONDITIONS":return t.data;default:return e}}}),de=Object(i.d)(ue,Object(i.a)(o.a));r.a.render(l.a.createElement(m.a,{store:de},l.a.createElement(l.a.StrictMode,null,l.a.createElement(le,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},47:function(e,t,a){e.exports=a(101)},56:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[47,1,2]]]);
//# sourceMappingURL=main.3e45cd13.chunk.js.map