{"version":3,"sources":["actions/intialData.js","actions/matchesData.js","actions/selectionData.js","components/SearchfieldComponent2.js","components/CitylistComponent.js","actions/mapSettings.js","components/LocateComponent.js","actions/searchText.js","components/IconComponent.js","components/LocationDetailsComponent.js","components/MapLayersComponent.js","components/MapComponent.js","services/dateService.js","components/MenuItem.js","services/enabledFeatures.js","components/ListItemComponent.js","components/ListComponent.js","actions/dateData.js","components/CalendarComponent.js","components/InfoComponent.js","components/SportsFiltersComponent.js","components/TopMenuComponent.js","components/ContentMenuComponent.js","components/ContentComponent.js","components/CountBadgeComponent.js","components/StandingsTableComponent.js","components/MatchPreviewComponent.js","components/MatchListItemsComponent.js","components/MatchlistComponent.js","components/LocationMatchlistComponent.js","components/StandingsComponent.js","App.js","serviceWorker.js","reducers/initialDataReducer.js","reducers/matchesReducer.js","reducers/dateReducer.js","reducers/mapReducer.js","reducers/selectionReducer.js","index.js","reducers/searchTextReducer.js"],"names":["getInitialData","name","dispatch","a","axios","get","res","type","data","getMatchesData","dates","filters","sportsFilters","length","map","filter","push","sport","searchData","selectedItem","includes","post","matches","locIds","Set","m","add","location_id","ids","Array","from","locations","join","setFilters","window","localStorage","setItem","JSON","stringify","setSportsFilters","setFavourites","favourites","Searchfield","props","className","icon","isActive","value","searchText","placeholder","onChange","e","handleText","target","onFocus","handleSelect","autoFocus","Citylist","useSelector","state","citySearchText","cities","concat","city","toLowerCase","useDispatch","handleMapCenterChange","item","setMapCenter","key","onClick","to","Locate","useState","isOpen","setIsOpen","text","setCitySearchText","IconDiv","definition","LocationDetails","location","address","postalcode","open","lat","lon","MapLayers","showLayers","setShowLayers","selectedSports","handleSelectedSports","L","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","footballMarker","divIcon","html","iconSize","iconAnchor","popupAnchor","futsalMarker","basketballMarker","volleyballMarker","handballMarker","getMarker","Map","mapCenter","isLoadingMatches","setSelectedSports","history","useHistory","displayTeamName","slice","s","rel","href","center","zoom","innerWidth","getZoom","attributionControl","zoomControl","doubleClickZoom","scrollWheelZoom","dragging","animate","easeLinearity","TileLayer","url","l","Marker","_id","position","opacity","onclick","handleLocationPopup","Popup","locationMatches","levelSet","level","levels","match","matchesByLevel","home_name","score","split","away_name","style","textDecoration","document","getElementById","scrollIntoView","behavior","block","ZoomControl","displayD","date","parseInt","displayDM","month","displayDMY","year","displayDates","MenuItem","children","standingsEnabled","ListItem","selectionOpen","setSelectionOpen","handleSelection","group","fav","newFavourites","fil","newFilters","getMatches","handleClose","toUpperCase","List","numItems","setNumItems","items","Infinity","setDateFrom","setDateTo","Calendar","today","Date","toJSON","years","getFullYear","dateFrom","dateTo","handleCalClick","day","getTime","isOtherMonth","useEffect","tDay","getDay","setDate","getDate","nwMonday","nwSunday","tday","lastDayOfMonth","nmFirstday","nmLastDay","tyLastDay","handleDateRangeOption","calData","yearData","toString","monthDays","thisMonth","thisYear","daysInMonth","startDay","endDay","i","theDay","theMonth","getMonth","theYear","cal","j","getCalforMonth","getCalData","table","id","week","index","isBetweenSelected","isOtherYear","Info","info","football","futsal","basketball","volleyball","handball","SportsFilters","handleSportsFilters","f","TopMenu","isMenuOpen","setIsMenuOpen","setSelectedItem","searchIsActive","setSearchIsActive","itemSearchText","teams","handleMenu","setItemSearchText","every","Content","searchConditions","selectedLocation","selectedContent","setSelectedContent","useLocation","handleContent","selected","pathname","CountBadge","count","StandingsTable","selectedSort","setSelectedSort","sortDescending","setSortDescending","standings","selectedGroup","headings","applySort","header","standingsByGroup","g","sort","b","sortedStandingsByGroup","Object","keys","heading","team","indexOf","played","wins","draws","losses","scored","conceded","difference","points","MatchPreview","showStandings","setShowStandings","previousMatches","setPreviousMatches","setStandings","matchesError","setMatchesError","standingsError","setStandingsError","getResult","homeScore","awayScore","isUpcomingMatch","y","d","then","catch","error","console","log","getPreviewData","reverse","data2","err","getStandings","MatchListItems","itemIsOpen","setItemIsOpen","selectedMatches","setSelectedMatches","numMatches","setNumMatches","displayVenue","venue","venue_name","groupbyItem","time","matchDate","tyear","tmonth","x","MatchList","setGroupByItem","groupbySet","handleItemIsOpen","size","LocationMatchlist","venues","getVenues","Standings","setSelectedGroup","isLoading","setIsLoading","setError","groups","finally","App","exact","path","render","Boolean","hostname","initialState","getInitialFilters","parse","getItem","getInitialSportsFilters","getInitialFavourites","reducer","combineReducers","action","store","createStore","applyMiddleware","thunk","ReactDOM","StrictMode","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.7adc3bdd.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nexport const getInitialData = (name) => async dispatch => {\r\n    const res = await axios.get('api/'+name)\r\n    \r\n    if (name === 'teams') {\r\n        dispatch({\r\n            type: 'ADD_TEAMS',\r\n            data: res.data\r\n        })\r\n    }\r\n    if (name === 'cities') {\r\n        dispatch({\r\n            type: 'ADD_CITIES',\r\n            data: res.data\r\n        })\r\n    }\r\n    if (name === 'levels') {\r\n        dispatch({\r\n            type: 'ADD_LEVELS',\r\n            data: res.data\r\n        })\r\n    }\r\n    if (name === 'info') {\r\n        dispatch({\r\n            type: 'ADD_INFO',\r\n            data: res.data[0]\r\n        })\r\n    }\r\n}","import axios from 'axios';\r\n\r\nexport const getMatchesData = (dates, filters, sportsFilters) => async dispatch => {\r\n\r\n    dispatch({\r\n      type: 'SET_IS_LOADING',\r\n      data: true\r\n    })\r\n\r\n    dispatch({\r\n      type: 'SET_SELECTED_LOCATION',\r\n      data: null\r\n    })\r\n\r\n    let data = {}\r\n\r\n    if (dates !== '') {\r\n      data['dates'] = dates\r\n    }\r\n    if (filters.length > 0) {\r\n      filters.map(filter => {\r\n        data[filter.type] = []\r\n        data[filter.type].push({ \"name\": filter.name })\r\n      })\r\n    }\r\n\r\n    if (sportsFilters.length > 0) {\r\n      data['sport'] = []\r\n      sportsFilters.map(sport => data['sport'].push(sport))\r\n    }\r\n\r\n    let searchData = {}\r\n    searchData['dates'] = dates\r\n    searchData['sportsFilters'] = sportsFilters\r\n    searchData['filters'] = filters\r\n\r\n    dispatch({\r\n      type: 'SET_SEARCH_CONDITIONS',\r\n      data: searchData\r\n    })\r\n\r\n    let selectedItem = null\r\n\r\n    if (filters.length === 1 && ['level','team'].includes(filters[0].type)) {\r\n      selectedItem = filters[0]\r\n    }\r\n\r\n    dispatch({\r\n      type: 'SET_SELECTED_ITEM',\r\n      data: selectedItem\r\n    })\r\n    \r\n    const matches = await axios.post('/api/matches', data)\r\n\r\n    let locIds = new Set([])\r\n    matches.data.map(m => locIds.add(m.location_id))\r\n    const ids = Array.from(locIds)\r\n\r\n    let locations = {}\r\n    locations.data = []\r\n\r\n    if (ids.length > 0) {\r\n        locations = await axios.get('/api/locations?ids='+ids.join(','))\r\n    }\r\n\r\n    dispatch({\r\n        type: 'ADD_MATCHES',\r\n        data: matches.data\r\n    })\r\n\r\n    dispatch({\r\n        type: 'ADD_LOCATIONS',\r\n        data: locations.data\r\n    })\r\n    \r\n    dispatch({\r\n      type: 'SET_IS_LOADING',\r\n      data: false\r\n    })\r\n}","export const setFilters = (filters) => {\r\n    window.localStorage.setItem('filters', JSON.stringify(filters))\r\n    return {\r\n        type: 'SET_FILTERS',\r\n        data: filters\r\n    }\r\n}\r\n\r\nexport const setSportsFilters = (sportsFilters) => {\r\n    window.localStorage.setItem('sportsFilters', JSON.stringify(sportsFilters))\r\n    return {\r\n        type: 'SET_SPORTS_FILTERS',\r\n        data: sportsFilters\r\n    }\r\n}\r\n\r\nexport const setFavourites = (favourites) => {\r\n    window.localStorage.setItem('favourites', JSON.stringify(favourites))\r\n    return {\r\n        type: 'SET_FAVOURITES',\r\n        data: favourites\r\n    }\r\n}\r\n\r\nexport const setSelectedLocation = (item) => {\r\n    return {\r\n        type: 'SET_SELECTED_LOCATION',\r\n        data: item\r\n    }\r\n}","import React from 'react';\r\nimport './SearchfieldComponent2.css'\r\n\r\nexport default function Searchfield(props) {\r\n\r\n    return (\r\n        <div className='searchfield2-component'>\r\n            <div className='searchfield2-items'>\r\n                <i className={`fas fa-${props.icon} icon`}></i>\r\n                {props.isActive ?\r\n                <input\r\n                    type=\"search\"\r\n                    value={props.searchText}\r\n                    placeholder={props.placeholder}\r\n                    onChange={(e) => props.handleText(e.target.value)}\r\n                    onFocus={() => props.handleSelect('search')}\r\n                    autoFocus\r\n                />\r\n                :\r\n                <div className='search-field-iconmode'></div>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { setMapCenter } from '../actions/mapSettings'\r\nimport './CitylistComponent.css'\r\n\r\nexport default function Citylist(props) {\r\n\r\n    const defaultCity = [{'type': 'city', 'name': 'Suomi'}]\r\n    const searchText = useSelector(state => state.citySearchText)\r\n    const availableCities = defaultCity.concat(useSelector(state => state.cities))\r\n    const cities = availableCities.filter(city => city.name.toLowerCase().includes(searchText.toLowerCase()))\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    function handleMapCenterChange(item) {\r\n        dispatch(setMapCenter(item))\r\n    }\r\n\r\n    return (\r\n        <div className='city-list-component'>\r\n            <ul>\r\n                {cities.map(city =>\r\n                    <li\r\n                        key={city.name}\r\n                        onClick={() => handleMapCenterChange(city)}\r\n                    >\r\n                        <Link to='/'>\r\n                            {city.name}\r\n                        </Link>\r\n                    </li>\r\n                )}\r\n            </ul>\r\n        </div>\r\n    )\r\n}","import axios from 'axios';\r\n\r\nexport const setMapCenter = (item) => async dispatch => {\r\n\r\n    if (item.name === 'Suomi') {\r\n        dispatch({\r\n            type: 'SET_MAP_CENTER',\r\n            data: {'city': 'Suomi', 'lat': 63, 'lon': 25}\r\n        })\r\n    } else {\r\n        const city = { 'city': {...item}}\r\n  \r\n        const res = await axios.post('/api/citycoordinates', city)\r\n        \r\n        dispatch({\r\n            type: 'SET_MAP_CENTER',\r\n            data: res.data[0]\r\n        })\r\n    }\r\n}","import React, { useState } from 'react'\r\nimport {useSelector, useDispatch} from 'react-redux'\r\nimport { setCitySearchText } from '../actions/searchText'\r\nimport './LocateComponent.css'\r\nimport Searchfield from './SearchfieldComponent2'\r\nimport Citylist from './CitylistComponent'\r\n\r\nexport default function Locate() {\r\n\r\n    const [isOpen, setIsOpen] = useState(false)\r\n    const { citySearchText } = useSelector(state => state)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    function activateSearch() {\r\n        setIsOpen(true)\r\n    }\r\n\r\n    function closeSearch() {\r\n        setIsOpen(false)\r\n    }\r\n\r\n    function handleText(text) {\r\n        dispatch(setCitySearchText(text))\r\n    }\r\n\r\n    return (\r\n        <div className='locate-component'>\r\n            <div className='locate-search'>\r\n                <div onClick={() => activateSearch()}>\r\n                <Searchfield\r\n                    value={citySearchText}\r\n                    handleText={handleText}\r\n                    icon={'eye'}\r\n                    handleSelect={() => {}}\r\n                    isActive={isOpen}\r\n                />\r\n                </div>\r\n                {isOpen ?\r\n                <div\r\n                    className='locate-close-btn'\r\n                    onClick={() => closeSearch()}\r\n                >X</div>\r\n                : null}\r\n            </div>\r\n            {isOpen ?\r\n            <div\r\n                className='locate-list'\r\n            >\r\n                <Citylist />\r\n            </div>\r\n            :\r\n            <div>\r\n\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}","export const setCitySearchText = (text) => {\r\n    return {\r\n        type: 'SET_CITY_SEARCH_TEXT',\r\n        data: text\r\n    }\r\n}\r\n\r\nexport const setItemSearchText = (text) => {\r\n    return {\r\n        type: 'SET_ITEM_SEARCH_TEXT',\r\n        data: text\r\n    }\r\n}","import React from 'react';\r\nimport './IconComponent.css';\r\n\r\nexport default function IconDiv(props) {\r\n    return (\r\n        <div className='icon-component'>\r\n            <div>\r\n                <i className={\"fas fa-\"+props.icon}></i>\r\n            </div>\r\n            <div className='icon-component--definition'>\r\n                {props.definition}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport './LocationDetailsComponent.css'\r\nimport IconDiv from './IconComponent'\r\n\r\nexport default function LocationDetails(props) {\r\n\r\n    const location = props.location\r\n\r\n    function getDirections(lat,lon) {\r\n        let url = `https://www.google.fi/maps/dir//${lat},${lon}/@${lat},${lon},11z`\r\n        return url\r\n    }\r\n\r\n    return (\r\n        <div className='location-details-component'>\r\n            <div className='location-address'>\r\n                <div>\r\n                    {location.address}\r\n                </div>\r\n                <div>\r\n                    {location.postalcode} {location.city}\r\n                </div>\r\n            </div>\r\n            <div\r\n                className='location-directions'\r\n                onClick={() => window.open(getDirections(location.lat,location.lon))}\r\n            >\r\n                <IconDiv \r\n                    icon={'directions'}\r\n                    definition={'REITTIOHJE'}\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport './MapLayersComponent.css'\r\n\r\nexport default function MapLayers(props) {\r\n\r\n    const [showLayers, setShowLayers] = useState(false)\r\n    \r\n    function toggleLayers() {\r\n        setShowLayers(!showLayers)\r\n    }\r\n\r\n    return(\r\n        <div className='map-layers-component'>\r\n            <div className='layers-indicator' onClick={() => toggleLayers()}>\r\n                {showLayers ?\r\n                <div key='open'>\r\n                    <i className='fas fa-times'></i>\r\n                </div>\r\n                :\r\n                <div key='close'>\r\n                    <i className='fas fa-layer-group'></i>\r\n                </div>\r\n                }\r\n            </div>\r\n            {showLayers &&\r\n            <div className='layers-sports'>\r\n                <span \r\n                    className={props.selectedSports.includes('Jalkapallo') ? 'sport-item-selected football-layer':'sport-item'}\r\n                    onClick={() => props.handleSelectedSports('Jalkapallo')}\r\n                >\r\n                    <i className=\"fas fa-futbol\"></i> Jalkapallo\r\n                </span>\r\n                <span \r\n                    className={props.selectedSports.includes('Futsal') ? 'sport-item-selected futsal-layer':'sport-item'}\r\n                    onClick={() => props.handleSelectedSports('Futsal')}\r\n                >\r\n                    <i className=\"far fa-futbol\"></i> Futsal\r\n                </span>\r\n                <span \r\n                    className={props.selectedSports.includes('Koripallo') ? 'sport-item-selected basketball-layer':'sport-item'}\r\n                    onClick={() => props.handleSelectedSports('Koripallo')}\r\n                >\r\n                    <i className=\"fas fa-basketball-ball\"></i> Koripallo\r\n                </span>\r\n                <span \r\n                    className={props.selectedSports.includes('Lentopallo') ? 'sport-item-selected volleyball-layer':'sport-item'}\r\n                    onClick={() => props.handleSelectedSports('Lentopallo')}\r\n                >\r\n                    <i className=\"fas fa-volleyball-ball\"></i> Lentopallo\r\n                </span>\r\n                <span \r\n                    className={props.selectedSports.includes('Käsipallo') ? 'sport-item-selected handball-layer':'sport-item'}\r\n                    onClick={() => props.handleSelectedSports('Käsipallo')}\r\n                >\r\n                    <i className=\"fas fa-baseball-ball\"></i> Käsipallo\r\n                </span>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useHistory, Link } from 'react-router-dom'\r\nimport { setSelectedLocation } from '../actions/selectionData'\r\nimport { Map as LeafletMap, TileLayer, Marker, Popup, ZoomControl } from 'react-leaflet';\r\nimport L, { Icon } from 'leaflet';\r\nimport './MapComponent.css';\r\nimport Locate from './LocateComponent'\r\nimport LocationDetails from './LocationDetailsComponent'\r\nimport MapLayers from './MapLayersComponent'\r\n\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\n\r\nL.Icon.Default.mergeOptions({\r\n    iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\r\n    iconUrl: require('leaflet/dist/images/marker-icon.png'),\r\n    shadowUrl: require('leaflet/dist/images/marker-shadow.png')\r\n});\r\n\r\nconst footballMarker = L.divIcon({\r\n    html: '<div class=\"custom-marker-div\"><i class=\"fas fa-futbol\"></i></div>',\r\n    iconSize: [30, 30],\r\n    iconAnchor: [15, 40],\r\n    popupAnchor: [0, -30],\r\n    className: 'custom-marker football-marker'\r\n})\r\n\r\nconst futsalMarker = L.divIcon({\r\n    html: '<div class=\"custom-marker-div\"><i class=\"far fa-futbol\"></i></div>',\r\n    iconSize: [30, 30],\r\n    iconAnchor: [15, 40],\r\n    popupAnchor: [0, -30],\r\n    className: 'custom-marker futsal-marker'\r\n})\r\n\r\nconst basketballMarker = L.divIcon({\r\n    html: '<div class=\"custom-marker-div\"><i class=\"fas fa-basketball-ball\"></i></div>',\r\n    iconSize: [30, 30],\r\n    iconAnchor: [15, 40],\r\n    popupAnchor: [0, -30],\r\n    className: 'custom-marker basketball-marker'\r\n})\r\n\r\nconst volleyballMarker = L.divIcon({\r\n    html: '<div class=\"custom-marker-div\"><i class=\"fas fa-volleyball-ball\"></i></div>',\r\n    iconSize: [30, 30],\r\n    iconAnchor: [15, 40],\r\n    popupAnchor: [0, -30],\r\n    className: 'custom-marker volleyball-marker'\r\n})\r\n\r\nconst handballMarker = L.divIcon({\r\n    html: '<div class=\"custom-marker-div\"><i class=\"fas fa-baseball-ball\"></i></div>',\r\n    iconSize: [30, 30],\r\n    iconAnchor: [15, 40],\r\n    popupAnchor: [0, -30],\r\n    className: 'custom-marker handball-marker'\r\n})\r\n\r\nfunction getMarker(sport) {\r\n    switch(sport) {\r\n        case 'Jalkapallo':\r\n          return footballMarker\r\n        case 'Futsal':\r\n          return futsalMarker\r\n        case 'Koripallo':\r\n          return basketballMarker\r\n        case 'Lentopallo':\r\n            return volleyballMarker\r\n        case 'Käsipallo':\r\n            return handballMarker\r\n        default:\r\n            return footballMarker\r\n      }\r\n}\r\n\r\nexport default function Map() {\r\n\r\n    const { mapCenter, matches, locations, isLoadingMatches } = useSelector(state => state)\r\n    const [ selectedSports, setSelectedSports ] = useState(['Jalkapallo','Futsal','Koripallo','Lentopallo','Käsipallo'])\r\n\r\n    const history = useHistory()\r\n    const dispatch = useDispatch()\r\n\r\n    function getZoom() {\r\n        let zoom;\r\n        if (mapCenter.city !== 'Suomi') {\r\n            zoom = 11\r\n        } else {\r\n            zoom = 6\r\n        }\r\n\r\n        if (window.innerWidth <= 600) {\r\n            return zoom-1\r\n        }\r\n        return zoom\r\n    }\r\n\r\n    function handleLocationPopup(location) {\r\n        dispatch(setSelectedLocation(location))\r\n        history.push('/locationmatchlist', location)\r\n    }\r\n\r\n    function goToLocationDetails() {\r\n        document.getElementById('content-menu').scrollIntoView({behavior: \"smooth\", block: \"start\"})\r\n    }\r\n\r\n    function displayTeamName(name) {\r\n        if (name.length > 8) {\r\n            return name.slice(0,8) + '...'\r\n        }\r\n        return name\r\n    }\r\n\r\n    function handleSelectedSports(sport) {\r\n        if (selectedSports.includes(sport)) {\r\n            setSelectedSports([...selectedSports].filter(s => s != sport))\r\n        } else {\r\n            setSelectedSports([...selectedSports, sport])\r\n        }\r\n    }\r\n\r\n    function matchesByLevel(locationMatches) {\r\n        let levelSet = new Set([])\r\n        locationMatches.map(m => levelSet.add(m.level))\r\n\r\n        let levels = []\r\n\r\n        Array.from(levelSet).map(level => {\r\n            let data = {}\r\n            data['name'] = level\r\n            data['matches'] = []\r\n\r\n            locationMatches.filter(m => m.level === level).map(match => {\r\n                data['matches'].push(match)\r\n            })\r\n\r\n            levels.push(data)\r\n        })\r\n\r\n        return levels\r\n    }\r\n    \r\n    return (\r\n        <div className='map-container'>\r\n            {isLoadingMatches &&\r\n            <div className='loader-div'>\r\n                <div className='loader'>LADATAAN OTTELUITA...</div>\r\n            </div>\r\n            }\r\n            <Locate />\r\n            <MapLayers selectedSports={selectedSports} handleSelectedSports={handleSelectedSports} />\r\n            <link rel=\"stylesheet\" href=\"//cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/leaflet.css\" />\r\n            <LeafletMap\r\n                center={[mapCenter.lat, mapCenter.lon]}\r\n                zoom={getZoom()}\r\n                attributionControl={true}\r\n                zoomControl={false}\r\n                doubleClickZoom={true}\r\n                scrollWheelZoom={true}\r\n                dragging={true}\r\n                animate={true}\r\n                easeLinearity={0.35}\r\n            >\r\n                <TileLayer\r\n                url='http://{s}.tile.osm.org/{z}/{x}/{y}.png'\r\n                />\r\n                {locations.filter(l => selectedSports.includes(l.sport)).map(location =>\r\n                <Marker\r\n                    key={location._id}\r\n                    position={[location.lat,location.lon]}\r\n                    opacity={0.9}\r\n                    onclick={() => handleLocationPopup(location)}\r\n                    icon={getMarker(location.sport)}\r\n                >\r\n                    <Popup className='request-popup'>\r\n                        <LocationDetails location={location} />\r\n                        <div className='location-sport'>{location.sport}</div>\r\n                        <div className='matches-list'>\r\n                            {matchesByLevel(matches.filter(m => m.location_id === location._id)).map(level =>\r\n                            <div className='level-card'>\r\n                            <div className='level-card-title'>{level.name}</div>\r\n                            {level.matches.map(match =>\r\n                                <div className='level-card-matches'>\r\n                                    <span className='level-card-matches-home'>{displayTeamName(match.home_name)}</span>\r\n                                    <span className='level-card-matches-score'>{match.score.split(' ')[0]}</span>\r\n                                    <span className='level-card-matches-away'>{displayTeamName(match.away_name)}</span>\r\n                                </div>\r\n                            )}\r\n                            </div>\r\n                            )}\r\n                        </div>\r\n                        <Link to='/locationmatchlist' style={{textDecoration:'none'}}>\r\n                            <div className='go-to-details' onClick={() => goToLocationDetails()}>\r\n                                Näytä tarkat ottelutiedot\r\n                            </div>\r\n                        </Link>\r\n                    </Popup>\r\n                </Marker>\r\n                )}\r\n                <ZoomControl position='bottomright' />\r\n            </LeafletMap>\r\n        </div>\r\n    )\r\n}","const displayD = (date) => {\r\n    let day = parseInt(date.split('-')[2])\r\n    return day + '.'\r\n}\r\n\r\nconst displayDM = (date) => {\r\n    let month = parseInt(date.split('-')[1])\r\n    let day = parseInt(date.split('-')[2])\r\n    return day + '.' + month + '.'\r\n}\r\n\r\nexport const displayDMY = (date) => {\r\n    let year = date.split('-')[0]\r\n    let month = parseInt(date.split('-')[1])\r\n    let day = parseInt(date.split('-')[2])\r\n    return day + '.' + month + '.' + year \r\n}\r\n\r\nexport const displayDates = (from, to, year=true ) => {\r\n    if (from === to) {\r\n        return year ? displayDMY(from) : displayDM(from)\r\n    } else if (from.split('-')[0] === to.split('-')[0]) {\r\n        if (from.split('-')[1] === to.split('-')[1]) {\r\n            return year ? displayD(from) + ' - ' + displayDMY(to) : displayD(from) + ' - ' + displayDM(to)\r\n        } else {\r\n            return year ? displayDM(from) + ' - ' + displayDMY(to) : displayDM(from) + ' - ' + displayDM(to)\r\n        }\r\n    } else {\r\n        return year ? displayDMY(from) + ' - ' + displayDMY(to) : displayDM(from) + ' - ' + displayDM(to)\r\n    }\r\n}","import React, { useState } from 'react'\r\nimport './MenuItem.css'\r\n\r\nexport default function MenuItem(props) {\r\n\r\n    const [isOpen, setIsOpen] = useState(false)\r\n\r\n    function toggleItem() {\r\n        setIsOpen(!isOpen)\r\n    }\r\n\r\n    return (\r\n        <div className='menu-item-component'>\r\n            <div\r\n                className={isOpen ? 'menu-item-selected':'menu-item'}\r\n                onClick={() => props.onClick ? props.onClick() : toggleItem()}\r\n            >\r\n                <div className='menu-item-header'>\r\n                    <div className='menu-item-icon'>\r\n                        <i className={\"fas fa-\"+props.icon}></i>\r\n                    </div>\r\n                    <div className='menu-item-definition'>\r\n                        {props.definition}\r\n                    </div>\r\n                </div>\r\n                <div className='menu-item-content-indicator'>\r\n                    <i className={props.children ? isOpen ? 'arrow-up':'arrow-down' : ''}></i>\r\n                </div>\r\n            </div>\r\n            {props.children && isOpen ?\r\n            <div className='menu-item-content'>\r\n                {props.children}\r\n            </div>\r\n            : null\r\n            }\r\n        </div>\r\n    )\r\n}","export const standingsEnabled = (sport, type) => {\r\n    return ['Jalkapallo','Futsal'].includes(sport) && ['level','team'].includes(type) ? true : false\r\n}\r\n\r\nexport const matchPreviewEnabled = (sport) => {\r\n    return sport === 'Käsipallo' ? false : true\r\n}","import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { setFilters, setFavourites } from '../actions/selectionData'\r\nimport { getMatchesData } from '../actions/matchesData'\r\nimport { standingsEnabled } from '../services/enabledFeatures'\r\nimport IconDiv from './IconComponent';\r\nimport './ListItemComponent.css'\r\n\r\nexport default function ListItem(props) {\r\n\r\n    const [selectionOpen, setSelectionOpen] = useState(false)\r\n\r\n    const filters = useSelector(state => state.filters)\r\n    const favourites = useSelector(state => state.favourites)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    function handleSelection(group, item) {\r\n        if (group === 'favourites') {\r\n            if (favourites.filter(fav => fav.name === item.name).length === 0) {\r\n                let newFavourites = [...favourites]\r\n                newFavourites.push(item)\r\n                dispatch(setFavourites(newFavourites))\r\n            } else {\r\n                let newFavourites = [...favourites].filter(fav => fav.name !== item.name)\r\n                dispatch(setFavourites(newFavourites))\r\n            }\r\n        }\r\n        if (group === 'filters') {\r\n            if (filters.filter(fil => fil.name === item.name).length === 0) {\r\n                let newFilters = [...filters]\r\n                newFilters.push(item)\r\n                dispatch(setFilters(newFilters))\r\n            } else {\r\n                let newFilters = [...filters].filter(filter => filter.name !== item.name)\r\n                dispatch(setFilters(newFilters))\r\n            }\r\n        }\r\n    }\r\n\r\n    function getMatches(item) {\r\n        dispatch(getMatchesData('', [item], []))\r\n        document.getElementById('content-menu').scrollIntoView({behavior: \"smooth\", block: \"start\"})\r\n        props.handleClose()\r\n    }\r\n\r\n    return (\r\n        <div className='list-item-component'>\r\n            <div\r\n                className='list-item-component--header'\r\n                onClick={() => setSelectionOpen(!selectionOpen)}\r\n            >\r\n                <span>{props.item.name}</span>\r\n                <span><i className={selectionOpen ? 'arrow-up':'arrow-down'}></i></span>\r\n            </div>\r\n            <div className='list-item-component--header-sport'>\r\n                {props.item.sport ?\r\n                props.item.sport.toUpperCase()\r\n                : ''}\r\n            </div>\r\n            {selectionOpen ?\r\n            <div className='list-item-component--options'>\r\n                <div>\r\n                    <div>VALINNAT</div>\r\n                    <div className='list-item-component--options-group'>\r\n                        <span \r\n                            className={favourites.filter(fav => fav.name === props.item.name).length > 0 ? 'list-item-component--options-selected':''}\r\n                            onClick={() => handleSelection('favourites', props.item)}\r\n                        >\r\n                            <IconDiv\r\n                                icon={'star'}\r\n                                definition={'SUOSIKKI'}\r\n                            />   \r\n                        </span>      \r\n                        <span\r\n                            className={filters.filter(fil => fil.name === props.item.name).length > 0 ? 'list-item-component--options-selected':''}\r\n                            onClick={() => handleSelection('filters', props.item)}\r\n                        >\r\n                            <IconDiv\r\n                                icon={'filter'}\r\n                                definition={'SUODATIN'}\r\n                            />\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    <div>NÄYTÄ</div>\r\n                    <div className='list-item-component--options-group'>\r\n                        <Link to='/'>\r\n                            <span\r\n                                onClick={() => getMatches(props.item)}\r\n                            >\r\n                                <IconDiv\r\n                                    icon={'list-ul'}\r\n                                    definition={'OTTELUT'}\r\n                                />\r\n                            </span>\r\n                        </Link>\r\n                        {standingsEnabled(props.item.sport, props.item.type) ?\r\n                        <Link to='/standings'>\r\n                            <span\r\n                                onClick={() => getMatches(props.item)}\r\n                            >\r\n                                <IconDiv\r\n                                    icon={'trophy'}\r\n                                    definition={'SARJATILANNE'}\r\n                                />\r\n                            </span>\r\n                        </Link>\r\n                        :\r\n                        null\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            : <div></div>\r\n            }\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react';\r\nimport ListItem from './ListItemComponent'\r\nimport './ListComponent.css'\r\n\r\nexport default function List(props) {\r\n\r\n    const [numItems, setNumItems] = useState(20)\r\n\r\n    function showAllItems() {\r\n        setNumItems(Infinity)\r\n    }\r\n\r\n    return (\r\n        <div className='list-component'>\r\n            <ul>\r\n                {props.items.slice(0,numItems).map(item =>\r\n                    <li key={item.name}>\r\n                        <ListItem\r\n                            item={item}\r\n                            handleClose={props.handleClose}\r\n                        />\r\n                    </li>\r\n                )}\r\n                {props.items.length >  numItems ?\r\n                <li\r\n                    className='show-all'\r\n                    onClick={() => showAllItems()}\r\n                >\r\n                    <span>NÄYTÄ KAIKKI</span>\r\n                    <span><i className='arrow-down'></i></span>\r\n                </li>\r\n                : null\r\n                }\r\n            </ul>\r\n        </div>\r\n    )\r\n}","export const setDateFrom = (date) => {\r\n    return {\r\n        type: 'SET_DATE_FROM',\r\n        data: date\r\n    }\r\n}\r\n\r\nexport const setDateTo = (date) => {\r\n    return {\r\n        type: 'SET_DATE_TO',\r\n        data: date\r\n    }\r\n}","import React, { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { setDateFrom, setDateTo } from '../actions/dateData'\r\nimport './CalendarComponent.css'\r\n\r\nexport default function Calendar(props) {\r\n\r\n    const today = new Date().toJSON().split('T')[0]\r\n    const years = [new Date().getFullYear()-1,new Date().getFullYear(),new Date().getFullYear()+1]\r\n\r\n    const dateFrom = useSelector(state => state.dateFrom)\r\n    const dateTo = useSelector(state => state.dateTo)\r\n\r\n    const dispatch = useDispatch()\r\n    \r\n    function getCalData() {\r\n        let calData = []\r\n        years.map(year => {\r\n\r\n            [1,2,3,4,5,6,7,8,9,10,11,12].map(month => {\r\n                let yearData = {'year': year, 'month': month <= 9 ? '0'+month : month.toString()}\r\n                yearData.monthDays = getCalforMonth(month, year)\r\n                calData.push(yearData)\r\n            })\r\n            \r\n        })\r\n        return calData\r\n    }\r\n\r\n    function getCalforMonth(month, year) {\r\n        let thisMonth =  month -1\r\n        let thisYear = year\r\n        let daysInMonth = new Date(thisYear, thisMonth+1, 0).getDate()\r\n        \r\n        let startDay = -(new Date(thisYear, thisMonth, 1).getDay() - 2)\r\n\r\n        if (new Date(thisYear, thisMonth, 1).getDay() === 0) {\r\n            startDay = -5\r\n        }\r\n\r\n        let endDay = daysInMonth + (7 - new Date(thisYear, thisMonth, daysInMonth).getDay())\r\n        let data = []\r\n\r\n        for (let i = startDay; i <= endDay; i++) {\r\n            let theDay = new Date(thisYear, thisMonth, i)\r\n            let day = theDay.getDate()\r\n            day = day <= 9 ? '0'+day : day\r\n            let weekDay = theDay.getDay()\r\n            let theMonth = theDay.getMonth() + 1\r\n            theMonth = theMonth <= 9 ? '0'+theMonth : theMonth\r\n            let theYear = theDay.getFullYear()\r\n            \r\n            data.push({\r\n                'date': theYear + '-' + theMonth + '-' + day\r\n            })\r\n        }\r\n\r\n        let cal = []\r\n        for (let j = 0; j < (data.length/7); j++) {\r\n            cal.push(data.slice(j*7, (j+1)*7))\r\n        }\r\n        return cal\r\n    }\r\n\r\n    const isThisDay = (day) => {\r\n        let getToday = new Date()\r\n        let today = getToday.getFullYear() + '-' + (getToday.getMonth()+1) + '-' + getToday.getDate()\r\n\r\n        return day === today ? true : false\r\n    }\r\n\r\n    function handleCalClick(item) {\r\n        let day = new Date(item).getTime()\r\n        let from = new Date(dateFrom).getTime()\r\n        let to = new Date(dateTo).getTime()\r\n\r\n        if (day < from || from !== to) {\r\n            dispatch(setDateFrom(item))\r\n            dispatch(setDateTo(item))\r\n        } else if (from === to) {\r\n            dispatch(setDateTo(item))\r\n        }\r\n    }\r\n\r\n    function isBetweenSelected(day) {\r\n        if (dateTo === null) {\r\n            if (day === dateFrom) {\r\n                return true\r\n            }\r\n        } else {\r\n            if (day >= dateFrom && day <= dateTo) {\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    }\r\n\r\n    function isOtherMonth(day, month) {\r\n        return parseInt(day.split('-')[1]) !== parseInt(month) ? true : false\r\n    }\r\n\r\n    function isOtherYear(day, year) {\r\n        return parseInt(day.split('-')[0]) !== parseInt(year) ? true : false\r\n    }\r\n\r\n    function handleDateRangeOption(value) {\r\n        if (value === 'today') {\r\n            dispatch(setDateFrom(today))\r\n            dispatch(setDateTo(today))\r\n        }\r\n        if (value === 'this-week') {\r\n            let tDay = new Date()\r\n            dispatch(setDateFrom(today))\r\n            if (tDay.getDay() !== 0) {\r\n                dispatch(setDateTo(new Date(tDay.setDate(tDay.getDate() + (7 - new Date().getDay()))).toJSON().split('T')[0]))\r\n            } else {\r\n                dispatch(setDateTo(today))\r\n            }\r\n        }\r\n        if (value === 'next-week') {\r\n            let nwMonday = new Date(new Date().setDate(new Date().getDate() + (8 - new Date().getDay())))\r\n            let nwSunday = new Date(nwMonday)\r\n            nwSunday.setDate(nwSunday.getDate() + 6)\r\n            dispatch(setDateFrom(nwMonday.toJSON().split('T')[0]))\r\n            dispatch(setDateTo(nwSunday.toJSON().split('T')[0]))\r\n        }\r\n        if (value === 'this-month') {\r\n            dispatch(setDateFrom(today))\r\n            let tday = new Date(today)\r\n            let lastDayOfMonth = new Date(tday.setDate(32))\r\n            lastDayOfMonth = new Date(tday.setDate(0)).toJSON().split('T')[0]\r\n            dispatch(setDateTo(lastDayOfMonth))\r\n        }\r\n        if (value === 'next-month') {\r\n            let nmFirstday = new Date(new Date().setDate(32)).toJSON().split('T')[0]\r\n            let nmLastDay = new Date(new Date(new Date().setDate(64)).setDate(0)).toJSON().split('T')[0]\r\n            dispatch(setDateFrom(nmFirstday))\r\n            dispatch(setDateTo(nmLastDay))\r\n        }\r\n        if (value === 'this-year') {\r\n            let tyLastDay = new Date(new Date().getFullYear(), 11, 32).toJSON().split('T')[0]\r\n            \r\n            dispatch(setDateFrom(today))\r\n            dispatch(setDateTo(tyLastDay))\r\n        }\r\n    }\r\n\r\n    function displayMonth(month) {\r\n        const names = {\r\n            '01': 'tammikuu',\r\n            '02': 'helmikuu',\r\n            '03': 'maaliskuu',\r\n            '04': 'huhtikuu',\r\n            '05': 'toukokuu',\r\n            '06': 'kesäkuu',\r\n            '07': 'heinäkuu',\r\n            '08': 'elokuu',\r\n            '09': 'syyskuu',\r\n            '10': 'lokakuu',\r\n            '11': 'marraskuu',\r\n            '12': 'joulukuu'\r\n        }\r\n        return names[month]\r\n    }\r\n\r\n    function displayDate(date) {\r\n        let month = parseInt(date.split('-')[1])\r\n        let day = parseInt(date.split('-')[2])\r\n        return day + '.' + month + '.'\r\n    }\r\n\r\n    function displayDateWyear(date) {\r\n        let year = date.split('-')[0]\r\n        let month = parseInt(date.split('-')[1])\r\n        let day = parseInt(date.split('-')[2])\r\n        return day + '.' + month + '.' + year \r\n    }\r\n\r\n    useEffect(() => {\r\n        \r\n        document.getElementById(dateTo.split('-').slice(0,2).join('-')).scrollIntoView({behavior: \"auto\", block: \"center\"})           \r\n        \r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        \r\n        document.getElementById(dateTo.split('-').slice(0,2).join('-')).scrollIntoView({behavior: \"smooth\", block: \"center\"})          \r\n        \r\n    }, [dateTo]);\r\n\r\n    return (\r\n        <div className='calendar-container'>\r\n            <div className='calendar-component'>\r\n                <div className='calendar-component--shortcut'>\r\n                    <form>\r\n                        <label>\r\n                            <select\r\n                                value={''}\r\n                                onChange={(e) => handleDateRangeOption(e.target.value)}\r\n                            >\r\n                                <option value=\"\">Ajanjakson pikavalinta</option>\r\n                                <option value=\"today\">Tänään</option>\r\n                                <option value=\"this-week\">Tulevat tällä viikolla</option>\r\n                                <option value=\"next-week\">Ensi viikolla</option>\r\n                                <option value=\"this-month\">Tulevat tässä kuussa</option>\r\n                                <option value=\"next-month\">Ensi kuussa</option>\r\n                                <option value=\"this-year\">Tulevat tänä vuonna</option>\r\n                            </select>\r\n                        </label>\r\n                    </form>\r\n                </div>\r\n                <div className='calendar-component--table-headings'>\r\n                    <table>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>MA</th>\r\n                                <th>TI</th>\r\n                                <th>KE</th>\r\n                                <th>TO</th>\r\n                                <th>PE</th>\r\n                                <th>LA</th>\r\n                                <th>SU</th>\r\n                            </tr>\r\n                        </thead>\r\n                    </table>\r\n                </div>\r\n                <div className='calendar-component--tables'>\r\n                {getCalData().map(table =>\r\n                <div\r\n                    className='calendar-component--month'\r\n                    key={table.year+'-'+table.month}\r\n                    id={table.year+'-'+table.month}\r\n                >\r\n                    <h5>{displayMonth(table.month) + ' ' + table.year}</h5>\r\n                    <table>\r\n                        <tbody>\r\n                            {table.monthDays.map((week, index) =>\r\n                            <tr key={index}>\r\n                                {week.map(day =>\r\n                                isBetweenSelected(day.date) && !isOtherMonth(day.date, table.month) ?\r\n                                day.date === dateFrom || day.date === dateTo ?\r\n                                <td\r\n                                    key={day.date}\r\n                                    className='calendar-component--item-selected'\r\n                                    onClick={() => handleCalClick(day.date)}\r\n                                >\r\n                                    \r\n                                    {day.date.split('-')[2]}\r\n                                </td>\r\n                                :\r\n                                <td\r\n                                    key={day.date}\r\n                                    className='calendar-component--item-selected-range'\r\n                                    onClick={() => handleCalClick(day.date)}\r\n                                >\r\n                                    \r\n                                    {day.date.split('-')[2]}\r\n                                </td>\r\n                                :\r\n                                isOtherMonth(day.date, table.month) ?\r\n                                    isOtherYear(day.date, table.year) ?\r\n                                    <td key={day.date}></td>\r\n                                    :\r\n                                    <td\r\n                                        key={day.date}\r\n                                        className='calendar-component--item-difmonth'\r\n                                        onClick={() => handleCalClick(day.date)}\r\n                                    >\r\n                                        {day.date.split('-')[2]}\r\n                                    </td>\r\n                                :\r\n                                <td\r\n                                    key={day.date}\r\n                                    className='calendar-component--item'\r\n                                    onClick={() => handleCalClick(day.date)}\r\n                                >\r\n                                    {day.date.split('-')[2]}\r\n                                </td>\r\n                                )}\r\n                            </tr>\r\n                            )}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport './InfoComponent.css'\r\nimport { useSelector } from 'react-redux'\r\nimport { displayDMY } from '../services/dateService'\r\n\r\nexport default function Info() {\r\n\r\n    const { info } = useSelector(state => state)\r\n\r\n    return (\r\n        <div className='info-component'>\r\n            <div><h3>missä pelaa?</h3></div>\r\n            <div>\r\n                \"Ottelut helposti kartalle.\"\r\n            </div>\r\n            <div>Ottelu-, lokaatio- ja sarjatilannetiedot on kerätty lajiliittojen sivuilta *</div>\r\n            <div className='sports-details'>\r\n                <span className='info-link' onClick={() => window.open('https://www.palloliitto.fi')}>Jalkapallo ja futsal - palloliitto.fi</span>                 \r\n                <span className='info-link' onClick={() => window.open('https://www.basket.fi')}>Koripallo - basket.fi</span>\r\n                <span className='info-link' onClick={() => window.open('https://www.lentopalloliitto.fi')}>Lentopallo - lentopalloliitto.fi</span>\r\n                <span className='info-link' onClick={() => window.open('https://finnhandball.net/')}>Käsipallo - finnhandball.net</span>\r\n                \r\n            </div>\r\n            <div className='info-details'>\r\n                {info &&\r\n                <div>\r\n                <div>Ottelutietokanta päivitetty</div>\r\n                <div className='info-details-sports'>\r\n                    <span>Jalkapallo - {displayDMY(info.football)}</span>\r\n                    <span>Futsal - {displayDMY(info.futsal)}</span>\r\n                    <span>Koripallo - {displayDMY(info.basketball)}</span>\r\n                    <span>Lentopallo - {displayDMY(info.volleyball)}</span>\r\n                    <span>Käsipallo - {displayDMY(info.handball)}</span>\r\n                </div>\r\n                </div>\r\n                }\r\n                <div>\r\n                    <span>{'Sovelluksen lähdekoodi: '}</span>\r\n                    <span className='info-link' onClick={() => window.open('https://www.github.com/kaagla/match-locator')}>\r\n                            <i className=\"fab fa-github\"></i>\r\n                    </span>\r\n                </div>\r\n                <div className='sports-details-info'>\r\n                    * Tiedoissa voi esiintyä virheitä.\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {useState} from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { setSportsFilters } from '../actions/selectionData'\r\nimport './SportsFiltersComponent.css'\r\n\r\nexport default function SportsFilters() {\r\n\r\n    const { sportsFilters } = useSelector(state => state)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    function handleSportsFilters(sport) {\r\n        if (sportsFilters.includes(sport)) {\r\n            dispatch(setSportsFilters([...sportsFilters].filter(f => f != sport)))\r\n        } else {\r\n            dispatch(setSportsFilters([...sportsFilters, sport]))\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className='sports-filters-component'>\r\n            <div className='sports-filters-items'>\r\n                <div key='Jalkapallo' className='sports-filters-item'>\r\n                    <div className='sports-filters-item-icon'><i className=\"fas fa-futbol\"></i></div>\r\n                    <div className='sports-filters-item-name'>Jalkapallo</div>\r\n                    <div className='sports-filters-item-toggle'>\r\n                        <div\r\n                            className={sportsFilters.includes('Jalkapallo') ? 'toggle-switch toggle-switch-on':'toggle-switch toggle-switch-off'}\r\n                            onClick={() => handleSportsFilters('Jalkapallo')}\r\n                        >\r\n                            <div className={sportsFilters.includes('Jalkapallo') ? 'toggle-indicator-on':'toggle-indicator-off'}></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div key='Futsal' className='sports-filters-item'>\r\n                    <div className='sports-filters-item-icon'><i className=\"far fa-futbol\"></i></div>\r\n                    <div className='sports-filters-item-name'>Futsal</div>\r\n                    <div className='sports-filters-item-toggle'>\r\n                        <div\r\n                            className={sportsFilters.includes('Futsal') ? 'toggle-switch toggle-switch-on':'toggle-switch toggle-switch-off'}\r\n                            onClick={() => handleSportsFilters('Futsal')}\r\n                        >\r\n                            <div className={sportsFilters.includes('Futsal') ? 'toggle-indicator-on':'toggle-indicator-off'}></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div key='Koripallo' className='sports-filters-item'>\r\n                    <div className='sports-filters-item-icon'><i className=\"fas fa-basketball-ball\"></i></div>\r\n                    <div className='sports-filters-item-name'>Koripallo</div>\r\n                    <div className='sports-filters-item-toggle'>\r\n                        <div\r\n                            className={sportsFilters.includes('Koripallo') ? 'toggle-switch toggle-switch-on':'toggle-switch toggle-switch-off'}\r\n                            onClick={() => handleSportsFilters('Koripallo')}\r\n                        >\r\n                            <div className={sportsFilters.includes('Koripallo') ? 'toggle-indicator-on':'toggle-indicator-off'}></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div key='Lentopallo' className='sports-filters-item'>\r\n                    <div className='sports-filters-item-icon'><i className=\"fas fa-volleyball-ball\"></i></div>\r\n                    <div className='sports-filters-item-name'>Lentopallo</div>\r\n                    <div className='sports-filters-item-toggle'>\r\n                        <div\r\n                            className={sportsFilters.includes('Lentopallo') ? 'toggle-switch toggle-switch-on':'toggle-switch toggle-switch-off'}\r\n                            onClick={() => handleSportsFilters('Lentopallo')}\r\n                        >\r\n                            <div className={sportsFilters.includes('Lentopallo') ? 'toggle-indicator-on':'toggle-indicator-off'}></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div key='Käsipallo' className='sports-filters-item'>\r\n                    <div className='sports-filters-item-icon'><i className=\"fas fa-baseball-ball\"></i></div>\r\n                    <div className='sports-filters-item-name'>Käsipallo</div>\r\n                    <div className='sports-filters-item-toggle'>\r\n                        <div\r\n                            className={sportsFilters.includes('Käsipallo') ? 'toggle-switch toggle-switch-on':'toggle-switch toggle-switch-off'}\r\n                            onClick={() => handleSportsFilters('Käsipallo')}\r\n                        >\r\n                            <div className={sportsFilters.includes('Käsipallo') ? 'toggle-indicator-on':'toggle-indicator-off'}></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory } from 'react-router-dom'\r\nimport {setItemSearchText} from '../actions/searchText'\r\nimport { getMatchesData } from '../actions/matchesData'\r\nimport { displayDates } from '../services/dateService'\r\nimport './TopMenuComponent.css'\r\nimport MenuItem from './MenuItem'\r\nimport IconDiv from './IconComponent'\r\nimport Searchfield from './SearchfieldComponent2'\r\nimport List from './ListComponent'\r\nimport Calendar from './CalendarComponent'\r\nimport Info from './InfoComponent'\r\nimport SportsFilters from './SportsFiltersComponent'\r\n\r\nexport default function TopMenu() {\r\n\r\n    const [isMenuOpen, setIsMenuOpen] = useState(false)\r\n    const [selectedItem, setSelectedItem] = useState(null)\r\n    const [searchIsActive, setSearchIsActive] = useState(false)\r\n    const {itemSearchText, filters, sportsFilters, favourites, dateFrom, dateTo, cities, levels, teams}  = useSelector(state => state)\r\n\r\n    const items = [...cities, ...levels, ...teams]\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n\r\n    function handleText(text) {\r\n        dispatch(setItemSearchText(text))\r\n    }\r\n\r\n    function activateSearch() {\r\n        setSearchIsActive(true)\r\n    }\r\n\r\n    function handleMenu() {\r\n        setIsMenuOpen(!isMenuOpen)\r\n    }\r\n\r\n    function handleSelect(item) {\r\n        if (item === selectedItem && item !== 'search') {\r\n            setSelectedItem(null)\r\n        } else {\r\n            setSelectedItem(item)\r\n        } \r\n    }\r\n\r\n    function handleClose() {\r\n        if (searchIsActive) {\r\n            setSearchIsActive(false)\r\n        }\r\n        setSelectedItem(null)\r\n    }\r\n\r\n    function getMatches() {\r\n        const dates = dateFrom + ',' + dateTo\r\n        dispatch(getMatchesData(dates, filters, sportsFilters))\r\n        setIsMenuOpen(!isMenuOpen)\r\n        history.push('/')\r\n    }\r\n\r\n    return (\r\n        <div className='top-menu-component'>\r\n            <div className='top-menu-box'>\r\n            <div className='top-menu-left'>\r\n                <div className={selectedItem === 'info' ? 'menu-items-btn-active':'menu-items-btn'} onClick={() => handleSelect('info')}>missä pelaa?</div>\r\n            </div>\r\n            <div\r\n                className='top-menu-center'\r\n                onClick={() => activateSearch()}\r\n            >\r\n                <Searchfield\r\n                    searchText={itemSearchText}\r\n                    handleText={handleText}\r\n                    handleSelect={handleSelect}\r\n                    icon={'search'}\r\n                    isActive={searchIsActive}\r\n                    definition={'Etsi sarjaa, joukkuetta tai kaupunkia'}\r\n                />\r\n            </div>\r\n            <div className='top-menu-right'>\r\n                <span className={isMenuOpen ? 'menu-items-btn-active':'menu-items-btn'} onClick={() => handleMenu()}>\r\n                    <IconDiv icon={'sliders-h'} definition={'HAKUVALINNAT'} />\r\n                </span>\r\n            </div>\r\n            {isMenuOpen ?\r\n            <div className='menu-items'>\r\n                <MenuItem icon={'redo'} definition={'PÄIVITÄ HAKU'} onClick={() => getMatches()} />\r\n                <MenuItem icon={'calendar'} definition={displayDates(dateFrom,dateTo)}>\r\n                    <Calendar />\r\n                </MenuItem>\r\n                <MenuItem icon={'filter'} definition={'LAJISUODATTIMET ' + sportsFilters.length}>\r\n                    <div className='menu-items-sports-filters'>\r\n                        <SportsFilters />\r\n                    </div>\r\n                </MenuItem>\r\n                <MenuItem icon={'filter'} definition={'SUODATTIMET ' + filters.length}>\r\n                    {filters.length !== 0 ?\r\n                    <List items={filters} handleClose={handleMenu} />\r\n                    :\r\n                    <div className='no-items'>Lisää suodattimia hakutoiminnolla.</div>\r\n                    }\r\n                </MenuItem>\r\n                <MenuItem icon={'star'} definition={'SUOSIKIT ' + favourites.length}>\r\n                    {favourites.length !== 0 ?\r\n                    <List items={favourites} handleClose={handleMenu} />\r\n                    :\r\n                    <div className='no-items'>Lisää suosikkeja hakutoiminnolla.</div>\r\n                    }\r\n                </MenuItem>\r\n            </div>\r\n            : null\r\n            }\r\n            {selectedItem === 'search' ?\r\n            <div className='item-container'>\r\n                <div className='item-box'>\r\n                    <div className='item-close' onClick={() => handleClose()}>X</div>\r\n                    {itemSearchText !== '' ?\r\n                    <List\r\n                        items={items.filter(item => itemSearchText.split(' ').every(i => (item.name+' '+item.sport).toLowerCase().includes(i.toLowerCase())))}\r\n                        handleClose={handleClose}\r\n                    />\r\n                    : <div className='search-instructions'>Etsi sarjaa, joukkuetta tai kaupunkia</div>\r\n                    }\r\n                </div>\r\n                \r\n                \r\n            </div>\r\n            :\r\n            <span></span>\r\n            }\r\n\r\n            {selectedItem === 'info' ?\r\n            <div className='item-container'>\r\n                <div className='item-box'>\r\n                    <div className='item-close' onClick={() => handleClose()}>X</div>\r\n                    <Info />\r\n                </div>\r\n            </div>\r\n            :\r\n            <span></span>\r\n            }\r\n\r\n            {selectedItem === 'filters' ?\r\n            <div className='item-container'>\r\n                <div className='item-box'>\r\n                    <div className='item-close' onClick={() => handleClose()}>X</div>\r\n                    <List items={filters} />\r\n                </div>\r\n            </div>\r\n            :\r\n            <span></span>\r\n            }\r\n\r\n            {selectedItem === 'favourites' ?\r\n            <div className='item-container'>\r\n                <div className='item-box'>\r\n                    <div className='item-close' onClick={() => handleClose()}>X</div>\r\n                    <List items={favourites} />\r\n                </div>\r\n            </div>\r\n            :\r\n            <span></span>\r\n            }\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Link, useLocation } from 'react-router-dom'\r\nimport './ContentMenuComponent.css'\r\nimport IconDiv from './IconComponent'\r\nimport { displayDates } from '../services/dateService'\r\nimport { standingsEnabled } from '../services/enabledFeatures'\r\n\r\nexport default function Content(props) {\r\n\r\n    const {matches, searchConditions, selectedLocation, selectedItem} = useSelector(state => state)\r\n    const [selectedContent, setSelectedContent] = useState('all-matches')\r\n\r\n    const location = useLocation()\r\n\r\n    function handleContent(selected) {\r\n        if (selected !== selectedContent) {\r\n            setSelectedContent(selected)\r\n        }\r\n        document.getElementById('content-menu').scrollIntoView({behavior: \"smooth\", block: \"start\"})\r\n    }\r\n\r\n    return (\r\n        <div id='content-menu' className='content-menu-component'>\r\n            {searchConditions !== null ?\r\n            <div className='content-menu-details'>\r\n                <div>Hakuehdot:</div>\r\n                {searchConditions['dates'] !== '' ?\r\n                <div>\r\n                <div>\r\n                    {displayDates(searchConditions['dates'].split(',')[0],searchConditions['dates'].split(',')[1])}\r\n                </div>\r\n                {searchConditions['sportsFilters'] &&\r\n                <div>\r\n                    {searchConditions['sportsFilters'].map(sport =>\r\n                        <span>{sport} </span>\r\n                    )}\r\n                </div>\r\n                }\r\n                {searchConditions['filters'].map(filter =>\r\n                    <div>{filter.name}</div>)}\r\n                </div>\r\n                :\r\n                <div>{searchConditions['filters'][0].name}</div>\r\n                }\r\n            </div>\r\n            : null\r\n            }\r\n            <div className='content-menu'>\r\n                {searchConditions ?\r\n                <Link to='/'>\r\n                    <div\r\n                        className={location.pathname === '/' ? 'all-matches selected-menu-item':'all-matches'}\r\n                        onClick={() => handleContent('all-matches')}\r\n                    >\r\n                        <IconDiv \r\n                            icon={'list-ul'}\r\n                            definition={'OTTELUT ' + matches.length}\r\n                        />\r\n                    </div>\r\n                </Link>\r\n                : null\r\n                }\r\n                {selectedLocation ?\r\n                <Link to='/locationmatchlist'>\r\n                    <div\r\n                        className={location.pathname === '/locationmatchlist' ? 'selected-menu-item':''}\r\n                        onClick={() => handleContent('location')}\r\n                    >\r\n                        <IconDiv\r\n                            icon={'map-marker-alt'}\r\n                            definition={'OTTELUT KOHTEESSA'} \r\n                        />\r\n                    </div>\r\n                </Link>\r\n                : null\r\n                }\r\n                {selectedItem && standingsEnabled(selectedItem.sport, selectedItem.type) ?\r\n                <Link to='/standings' >\r\n                    <div\r\n                        className={location.pathname === '/standings' ? 'selected-menu-item':''}\r\n                        onClick={() => handleContent('standings')}\r\n                    >\r\n                        <IconDiv\r\n                            icon={'trophy'}\r\n                            definition={'SARJATILANNE'}\r\n                        />\r\n                    </div>\r\n                </Link>\r\n                :\r\n                null\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport './ContentComponent.css'\r\n\r\nexport default function Content(props) {\r\n    return (\r\n        <div className='content-component'>\r\n            <div className='content'>\r\n                {props.children}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport './CountBadgeComponent.css'\r\n\r\nexport default function CountBadge(props) {\r\n    return (\r\n        <div className='count-badge-component'>\r\n            <div className='count-badge-component--item'>\r\n                {props.count}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react';\r\nimport './StandingsTableComponent.css'\r\n\r\nexport default function StandingsTable(props) {\r\n\r\n    const [selectedSort, setSelectedSort] = useState('points')\r\n    const [sortDescending, setSortDescending] = useState(true)\r\n\r\n    const standings = props.standings\r\n    const selectedGroup = props.selectedGroup\r\n\r\n    const headings = {\r\n        'played': 'O',\r\n        'wins': 'V',\r\n        'draws': 'T',\r\n        'losses': 'H',\r\n        'scored': 'TM',\r\n        'conceded': 'PM',\r\n        'difference': '+/-',\r\n        'points': 'P'\r\n    }\r\n\r\n    function sortedStandingsByGroup() {\r\n        let standingsByGroup = standings.filter(g => g.name === selectedGroup)\r\n\r\n        let data = {\r\n            'name': selectedGroup,\r\n            'standings': []\r\n        }\r\n\r\n        standingsByGroup[0].standings.sort((a,b) => {\r\n            return sortDescending ? b[selectedSort] - a[selectedSort] : a[selectedSort] - b[selectedSort]\r\n        }).map(item => {\r\n            data['standings'].push(item)\r\n        })\r\n\r\n        return [data]\r\n    }\r\n\r\n    function applySort(header) {\r\n        if (selectedSort === header) {\r\n            sortDescending ? setSortDescending(false) : setSortDescending(true)\r\n            \r\n        } else {\r\n            setSelectedSort(header)\r\n            setSortDescending(true)\r\n        }\r\n    }\r\n    return (\r\n        <div className='standingstable-component'>\r\n            {sortedStandingsByGroup().map(group =>\r\n            <div key={group.name} className='group-component'>\r\n                <table className='standings-group-table'>\r\n                    <thead>\r\n                        <tr>\r\n                            <th></th>\r\n                            <th></th>\r\n                            {Object.keys(headings).map(heading =>\r\n                                heading === selectedSort ?\r\n                                    <th onClick={() => applySort(heading)}>\r\n                                    <span>{headings[heading]} </span>\r\n                                    {sortDescending ?\r\n                                        <span>&darr;</span>\r\n                                        :\r\n                                        <span>&uarr;</span>\r\n                                    }\r\n                                    </th>\r\n                                    :\r\n                                    <th onClick={() => applySort(heading)}>\r\n                                        <span>{headings[heading]}</span>\r\n                                    </th>\r\n                                \r\n                            )}\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    {group.standings.map(team =>\r\n                        <tr \r\n                            key={team.name}\r\n                            name={team.name}\r\n                        >\r\n                            <td>{group.standings.indexOf(team)+1}.</td>\r\n                            <td id={team.name} >{team.team}</td>\r\n                            <td>{team.played}</td>\r\n                            <td>{team.wins}</td>\r\n                            <td>{team.draws}</td>\r\n                            <td>{team.losses}</td>\r\n                            <td>{team.scored}</td>\r\n                            <td>{team.conceded}</td>\r\n                            <td>{team.difference}</td>\r\n                            <td>{team.points}</td>\r\n                        </tr>\r\n                    )}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            )}\r\n        </div>\r\n    )\r\n}","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios';\r\nimport { standingsEnabled } from '../services/enabledFeatures'\r\nimport './MatchPreviewComponent.css';\r\nimport IconDiv from './IconComponent'\r\nimport StandingsTable from './StandingsTableComponent'\r\n\r\nexport default function MatchPreview(props) {\r\n\r\n    const [showStandings, setShowStandings] = useState(false)\r\n    const [previousMatches, setPreviousMatches] = useState([])\r\n    const [standings, setStandings] = useState([])\r\n    const [matchesError, setMatchesError] = useState('')\r\n    const [standingsError, setStandingsError] = useState(false)\r\n\r\n    function getResult(team, match) {\r\n        if (match.score === '-') {\r\n            return 'no-score'\r\n        }\r\n        let homeScore = parseInt(match.score.split(' ')[0].split('-')[0])\r\n        let awayScore = parseInt(match.score.split(' ')[0].split('-')[1])\r\n        \r\n        if (homeScore === awayScore) {\r\n            return 'draw'\r\n        }\r\n        if (homeScore - awayScore > 0) {\r\n            if (team === match.home_name) {\r\n                return 'win'\r\n            } else {\r\n                return 'loss'\r\n            }\r\n        } else {\r\n            if (team === match.away_name) {\r\n                return 'win'\r\n            } else {\r\n                return 'loss'\r\n            }\r\n        }\r\n    }\r\n\r\n    function isUpcomingMatch(date) {\r\n        let y = parseInt(date.split('.')[2])\r\n        let m = parseInt(date.split('.')[1]) - 1\r\n        let d = parseInt(date.split('.')[0])\r\n\r\n        return new Date(y,m,d) > new Date() ? true : false\r\n    }\r\n\r\n    function getPreviewData() {\r\n        let data = {}\r\n\r\n        let match = props.match\r\n        let y = parseInt(match.date.split('.')[2])\r\n        let m = parseInt(match.date.split('.')[1]) - 1\r\n        let d = parseInt(match.date.split('.')[0]) - 1\r\n\r\n        data['dates'] = '2019-01-01,' + new Date(y,m,d).toJSON().split('T')[0]\r\n    \r\n        data['team'] = []\r\n        data['team'].push({ 'name': props.match.home_name + ' - ' + props.match.level })\r\n        data['team'].push({ 'name': props.match.away_name + ' - ' + props.match.level })\r\n\r\n        axios.post('/api/matches', data)\r\n        .then(res => {\r\n            if (res.data.length === 0) {\r\n                setMatchesError('Ei aiempia otteluita')\r\n            } else {\r\n                setPreviousMatches(res.data)\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error)\r\n            setMatchesError('Edellisiä otteluita ei saatavilla')\r\n        })\r\n    }\r\n\r\n    function getStandings() {\r\n        if (!showStandings && !standingsError) {\r\n            setShowStandings(true)\r\n            let item = { 'type': 'team', 'name': props.match.home_name + ' - ' + props.match.level }\r\n            let data2 = {'standings': item}\r\n\r\n            axios.post('/api/standings', data2)\r\n            .then(res => {\r\n                if (res.data.length === 0) {\r\n                    setStandingsError('Sarjatilannetta ei saatavilla')\r\n                } else {\r\n                    setStandings(res.data)\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n                setShowStandings(false)\r\n                setStandingsError('Sarjatilannetta ei saatavilla')\r\n            })\r\n        }   \r\n    }\r\n\r\n    useEffect(() => {\r\n        getPreviewData()\r\n    }, []);\r\n\r\n    return (\r\n        <div className='match-preview-component'>\r\n            {matchesError !== '' ?\r\n            <div>Edellisiä otteluita ei saatavilla</div>\r\n            :\r\n            <div className='match-preview-component-matchdiv'>\r\n            <div className='match-preview-component-icon'>\r\n                <div className={previousMatches.length === 0 ? 'loader':''}>\r\n                    <IconDiv \r\n                        icon={'history'}\r\n                        definition={'EDELLISET OTTELUT'}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <div className='match-preview-component--last-matches'>\r\n                    <div className='match-preview-component--last-matches-home'>\r\n                        <ul>\r\n                            {previousMatches.filter(m => (m.home_name === props.match.home_name || m.away_name === props.match.home_name)).reverse().map(match =>\r\n                                <li\r\n                                    key={match['id']}\r\n                                    className={getResult(props.match.home_name, match)}\r\n                                >\r\n                                    <div className='match-preview-component--last-matches-teams'>\r\n                                        <span className={match.home_name === props.match.home_name ? 'selected':''}>{match.home_name}</span>\r\n                                        <span className={match.away_name === props.match.home_name ? 'selected':''}>{match.away_name}</span>\r\n                                    </div>\r\n                                    {(isUpcomingMatch(match.date) || match.score === '-') ?\r\n                                    <div className='match-preview-component--last-matches-date'>\r\n                                        {match.date}\r\n                                    </div>\r\n                                    :\r\n                                    <div className='match-preview-component--last-matches-score'>\r\n                                        <span>{match.score.split(' ')[0].split('-')[0]}</span>\r\n                                        <span>{match.score.split(' ')[0].split('-')[1]}</span>\r\n                                    </div>\r\n                                    }\r\n                                </li>\r\n                            )}\r\n                        </ul>\r\n                    </div>\r\n                    <div className='match-preview-component--last-matches-away'>\r\n                        <ul>\r\n                            {previousMatches.filter(m => (m.home_name === props.match.away_name || m.away_name === props.match.away_name)).reverse().map(match =>\r\n                                <li\r\n                                    key={match['id']}\r\n                                    className={getResult(props.match.away_name, match)}\r\n                                >\r\n                                    <div className='match-preview-component--last-matches-teams'>\r\n                                        <span className={match.home_name === props.match.away_name ? 'selected':''}>{match.home_name}</span>\r\n                                        <span className={match.away_name === props.match.away_name ? 'selected':''}>{match.away_name}</span>\r\n                                    </div>\r\n                                    {(isUpcomingMatch(match.date) || match.score === '-') ?\r\n                                    <div className='match-preview-component--last-matches-date'>\r\n                                        {match.date}\r\n                                    </div>\r\n                                    :\r\n                                    <div className='match-preview-component--last-matches-score'>\r\n                                        <span>{match.score.split(' ')[0].split('-')[0]}</span>\r\n                                        <span>{match.score.split(' ')[0].split('-')[1]}</span>\r\n                                    </div>\r\n                                    }\r\n                                </li>\r\n                            )}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            </div>\r\n            }\r\n            {standingsEnabled(props.match.sport, 'team') ?\r\n            <div\r\n                className='match-preview-component-icon'\r\n                onClick={() => getStandings()}\r\n            >\r\n                <div className={(standings.length === 0 && showStandings) ? 'loader':''}>\r\n                    <IconDiv \r\n                        icon={'trophy'}\r\n                        definition={(showStandings || standingsError) ? 'SARJATILANNE':'NÄYTÄ SARJATILANNE'}\r\n                    />\r\n                </div>\r\n            </div>\r\n            : null}\r\n            {standingsError ?\r\n            <div>Sarjatilannetta ei saatavilla</div>\r\n            :\r\n            standings.length > 0 ?\r\n            <StandingsTable\r\n                standings={standings}\r\n                selectedGroup={standings[0].name}\r\n            />\r\n            : <div></div>\r\n            }\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport './MatchListItemsComponent.css';\r\nimport CountBadge from './CountBadgeComponent'\r\nimport MatchPreview from './MatchPreviewComponent'\r\nimport { matchPreviewEnabled } from '../services/enabledFeatures'\r\n\r\nexport default function MatchListItems(props) {\r\n\r\n    const [itemIsOpen, setItemIsOpen] = useState(props.itemIsOpen)\r\n    const [selectedMatches, setSelectedMatches] = useState([])\r\n    const [numMatches, setNumMatches] = useState(20)\r\n    \r\n    function selectMatch(id) {\r\n        if (selectedMatches.includes(id)) { \r\n            setSelectedMatches([...selectedMatches].filter(x => x !== id))\r\n        } else {\r\n            setSelectedMatches([...selectedMatches, id])\r\n        }\r\n    }\r\n\r\n    function displayVenue(venue) {\r\n        let city = props.matches.filter(m => m.venue_name === venue)[0].city\r\n        \r\n        if (venue.includes(city)) {\r\n            return venue\r\n        }\r\n        return venue + ', ' + city\r\n    }\r\n\r\n    function isUpcomingMatch(date) {\r\n        let year = parseInt(date.split('.')[2])\r\n        let month = parseInt(date.split('.')[1]) - 1\r\n        let day = parseInt(date.split('.')[0])\r\n        let matchDate = new Date(year,month,day)\r\n\r\n        let tyear = new Date().getFullYear()\r\n        let tmonth = new Date().getMonth()\r\n        let tday = new Date().getDate()\r\n        let today = new Date(tyear,tmonth,tday)\r\n\r\n        if (matchDate >= today) {\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n\r\n    function showMoreMatches() {\r\n        setNumMatches(numMatches + 20)\r\n    }\r\n\r\n    return (\r\n        <div className='matchlist-component'>\r\n            <div\r\n                className='matchlist-component--header'\r\n                onClick={() => setItemIsOpen(!itemIsOpen)}\r\n            >\r\n                <div className='matchlist-component--header-name'>\r\n                    <span>{props.groupbyItem === 'venue_name' ? displayVenue(props.header) : props.header}</span>\r\n                    <span className='matchlist-component--header-count'><CountBadge count={props.matches.length} /></span>\r\n                </div>\r\n                <div><i className={itemIsOpen ? 'arrow-up':'arrow-down'}></i></div>\r\n            </div>\r\n            {itemIsOpen ?\r\n            <div className='matchlist-component--details'>\r\n            {props.matches.slice(0,numMatches).map(match =>\r\n                <div \r\n                    key={match['_id']}\r\n                    className='matchlist-component--match-details'\r\n                >\r\n                    <div className='matchlist-component--match-details--whenwhere'>\r\n                        \r\n                            {props.groupbyItem !== 'date' ?\r\n                            <div className='matchlist-component--match-details-date'>\r\n                                <span><i className=\"far fa-calendar\"></i></span>\r\n                                <span>{match.date}</span>\r\n                            </div>\r\n                            : <span></span>\r\n                            }\r\n                            <div className='matchlist-component--match-details-time'>\r\n                                <span><i className=\"far fa-clock\"></i></span>\r\n                                <span>{match.time}</span>\r\n                            </div>\r\n                            {props.groupbyItem !== 'venue_name' ?\r\n                            <div\r\n                                className='matchlist-component--match-details-venue'\r\n                            >\r\n                                <span><i className=\"fas fa-map-marker-alt\"></i></span>\r\n                                <span>\r\n                                {props.groupbyItem === 'city' ?\r\n                                    match.venue_name\r\n                                    :\r\n                                    displayVenue(match.venue_name)\r\n                                }\r\n                                </span>\r\n                            </div>\r\n                            : <span></span>\r\n                            }\r\n                            {!['city','venue_name'].includes(props.groupbyItem) ?\r\n                            <span\r\n                                className='matchlist-component--match-details-city'\r\n                            ></span>\r\n                            : <span></span>\r\n                            }\r\n                    </div>\r\n                    <div className='matchlist-component--match-details--who'>\r\n                        {props.groupbyItem !== 'level' ?\r\n                        <div className='matchlist-component--match-details-level'>\r\n                            <span><i className=\"fas fa-trophy\"></i></span>\r\n                            <span>{match.sport} - {match.level}</span>\r\n                        </div>\r\n                        : <span></span>\r\n                        }\r\n                        <div className='matchlist-component--match-details-team-info'>\r\n                            <div className='matchlist-component--match-details-home'>\r\n                                <span>{match.home_name}</span>\r\n                            </div>\r\n                            <div\r\n                                className='matchlist-component--match-details-score'\r\n                            >{match.score}</div>\r\n                            <div\r\n                                className='matchlist-component--match-details-away'\r\n                            >{match.away_name}</div>\r\n                        </div>\r\n                    </div>\r\n                    {matchPreviewEnabled(match.sport) && isUpcomingMatch(match.date) ?\r\n                    <div className='matchlist-component--match-preview'>\r\n                    <div \r\n                        className='matchlist-component--match-preview-btn'\r\n                        onClick={() => selectMatch(match['_id'])}\r\n                    >\r\n                        <span>Ottelun asetelmat</span>\r\n                        <span><i className={selectedMatches.includes(match['_id']) ? 'arrow-up':'arrow-down'}></i></span>\r\n                    </div>\r\n                        {selectedMatches.includes(match['_id']) ?\r\n                        <div className='matchlist-component--match-preview-content'>\r\n                            <MatchPreview\r\n                                match={match}\r\n                            />\r\n                        </div>\r\n                        :\r\n                        <span></span>\r\n                        }\r\n                    </div>\r\n                    : <span></span>\r\n                    }\r\n                    <div></div>\r\n                </div>\r\n                )}\r\n                {numMatches < props.matches.length ?\r\n                <div\r\n                    className='show-more-matches'\r\n                    onClick={() => showMoreMatches()}\r\n                >\r\n                    <span>NÄYTÄ LISÄÄ</span>\r\n                    <span><i className='arrow-down'></i></span>\r\n                </div>\r\n                : <span></span>\r\n                } \r\n            </div>\r\n            : <div></div>}\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport {useSelector} from 'react-redux'\r\nimport './MatchlistComponent.css';\r\nimport MatchListItems from './MatchListItemsComponent';\r\n\r\nexport default function MatchList(props) {\r\n\r\n    const { matches, selectedItem } = useSelector(state => state)\r\n    const [groupbyItem, setGroupByItem] = useState('sport')\r\n    const isLoadingMatches = useSelector(state => state.isLoadingMatches)\r\n\r\n    let groupbySet = new Set([])\r\n    matches.map(match => {\r\n        groupbySet.add(match[groupbyItem])\r\n    })\r\n\r\n    function sortedGroupbySet() {\r\n        return ['date'].includes(groupbyItem) ? Array.from(groupbySet) : Array.from(groupbySet).sort()\r\n    }\r\n\r\n    function handleItemIsOpen(index) {\r\n        if (groupbySet.size === 1) {\r\n            return true\r\n        } else if (groupbyItem === 'sport') {\r\n            return false\r\n        } else if (index === 0) {\r\n            return true\r\n        } else {\r\n            return false\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='matchlist-component'>\r\n            {isLoadingMatches ?\r\n            <div>Ladataan otteluita...</div>\r\n            :\r\n            matches.length === 0 ?\r\n            null\r\n            :\r\n            <div className='matchlist-content'>\r\n                <div className='matchlist-component--grouping'>\r\n                    <div className='matchlist-component--grouping-label'>Ryhmittely:</div>\r\n                    <div>\r\n                        <select\r\n                            value={groupbyItem}\r\n                            onChange={(e) => setGroupByItem(e.target.value)}\r\n                        >\r\n                            <option value=\"sport\">Laji</option>\r\n                            <option value=\"date\">Päivämäärä</option>\r\n                            <option value=\"level\">Sarjataso</option>\r\n                            <option value=\"city\">Kaupunki</option>\r\n                            <option value=\"venue_name\">Kenttä</option>\r\n                        </select>\r\n                     </div>\r\n                </div>\r\n                <div className='matchlist-component--matchlist-items'>\r\n                {sortedGroupbySet().map((header, index) =>\r\n                    <MatchListItems\r\n                        key={header}\r\n                        header={header}\r\n                        groupbyItem={groupbyItem}\r\n                        matches={matches.filter(m => m[groupbyItem] === header)}\r\n                        //itemIsOpen={groupbyItem === 'sport' ? false : index === 0 ? true : false}\r\n                        itemIsOpen={handleItemIsOpen(index)}\r\n                    />\r\n                )}\r\n                </div>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport './LocationMatchlistComponent.css';\r\nimport MatchListItems from './MatchListItemsComponent'\r\nimport LocationDetails from './LocationDetailsComponent'\r\n\r\nexport default function LocationMatchlist(props) {\r\n\r\n    const location = useSelector(state => state.selectedLocation)\r\n    const {matches} = useSelector(state => state)\r\n\r\n    function getVenues() {\r\n        let venues = new Set([])\r\n        matches.filter(match => match.location_id === location._id).map(m => {\r\n            venues.add(m.venue_name)\r\n        })\r\n        return Array.from(venues)\r\n    }\r\n\r\n    return (\r\n        location === null ?\r\n        null\r\n        :\r\n        <div className='location-matchlist-component'>\r\n            <LocationDetails location={location} />\r\n            {getVenues().map(venue =>\r\n                <MatchListItems \r\n                    key={venue}\r\n                    header={venue}\r\n                    groupbyItem={'venue_name'}\r\n                    matches={matches.filter(match => match.venue_name === venue)}\r\n                    itemIsOpen={true}\r\n                />\r\n            )}\r\n        </div>\r\n    )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { useSelector } from 'react-redux'\r\nimport axios from 'axios'\r\nimport './StandingsComponent.css'\r\nimport StandingsTable from './StandingsTableComponent'\r\n\r\nexport default function Standings(props) {\r\n\r\n    const item = useSelector(state => state.selectedItem)\r\n    const [standings, setStandings] = useState([])\r\n    const [selectedGroup, setSelectedGroup] = useState('')\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [error, setError] = useState(false)\r\n\r\n    const groups = standings.map(group => {return group.name})\r\n\r\n    function getStandings() {\r\n        setIsLoading(true)\r\n        let data = {'standings': item}\r\n\r\n        axios.post('/api/standings', data)\r\n            .then(res => {\r\n                if (res.data.length === 0) {\r\n                    setError(true)\r\n                } else {\r\n                    setSelectedGroup(res.data[0].name)\r\n                    setStandings(res.data)\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n                setError(true)\r\n            })\r\n            .finally(() => setIsLoading(false))\r\n    }\r\n    \r\n    useEffect(() => {\r\n        if (typeof(item) !== 'undefined') {\r\n            getStandings()\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        typeof(item) === 'undefined' ?\r\n        null\r\n        :\r\n        <div id='standings-component' className='standings-component'>\r\n            <div className='standings-header'>\r\n                {item.name}\r\n            </div>\r\n            {isLoading ?\r\n            <div>Ladataan sarjatilannetta...</div>\r\n            :\r\n            error ?\r\n            <div>Sarjatilannetta ei saatavilla.</div>\r\n            :\r\n            <div className='standings-content'>\r\n                <div>\r\n                    {groups.length > 1 ?\r\n                    <select\r\n                        value={selectedGroup}\r\n                        onChange={(e) => setSelectedGroup(e.target.value)}\r\n                    >\r\n                        {groups.map(group =>\r\n                            <option value={group}>{group}</option>\r\n                        )}\r\n                    </select>\r\n                    :\r\n                    groups[0] !== 'Sarja' ?\r\n                    <span>{groups[0]}</span>\r\n                    :\r\n                    <span></span>\r\n                    }\r\n                </div>\r\n                <StandingsTable\r\n                    standings={standings}\r\n                    selectedGroup={selectedGroup}\r\n                />\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}","import React, { useEffect } from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\nimport { useSelector, useDispatch } from 'react-redux'\nimport { getInitialData } from './actions/intialData'\nimport { getMatchesData } from './actions/matchesData'\nimport './App.css';\n\nimport Map from './components/MapComponent'\nimport TopMenu from './components/TopMenuComponent'\nimport ContentMenu from './components/ContentMenuComponent'\nimport Content from './components/ContentComponent'\n\nimport Matchlist from './components/MatchlistComponent'\nimport LocationMatchlist from './components/LocationMatchlistComponent'\nimport Standings from './components/StandingsComponent'\n\nfunction App() {\n\n  const { dateFrom, dateTo, filters, sportsFilters, selectedItem, selectedLocation } = useSelector(state => state)\n\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(getInitialData('cities'))\n    dispatch(getInitialData('levels'))\n    dispatch(getInitialData('teams'))\n    dispatch(getInitialData('info'))\n    dispatch(getMatchesData(dateFrom+','+dateTo, filters, sportsFilters))\n  }, []);\n\n\n  return(\n    <div className='App'>\n      <Router>\n        <TopMenu />\n        <Map />\n        <ContentMenu />\n        <Switch>\n          <Route\n            exact path='/'\n            render={() => <Content><Matchlist /></Content>} \n          />\n          <Route\n            exact path='/locationmatchlist'\n            render={() => selectedLocation ? <Content><LocationMatchlist /></Content> : null} \n          />\n          <Route\n            exact path='/standings'\n            render={() => selectedItem ? <Content><Standings /></Content> : null} \n          />\n        </Switch>\n      </Router>\n    </div>\n  )\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const initialState = []\r\n\r\nexport const cityReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_CITIES':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const levelReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_LEVELS':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const teamReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_TEAMS':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const infoReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_INFO':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}","const initialState = []\r\n\r\nexport const matchesReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_MATCHES':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const locationsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_LOCATIONS':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const isLoadingMatchesReducer = (state = false, action) => {\r\n    switch (action.type) {\r\n        case 'SET_IS_LOADING':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}","const initialState = new Date().toJSON().split('T')[0]\r\n\r\nexport const dateFromReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'SET_DATE_FROM':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const dateToReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'SET_DATE_TO':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}","const initialState = {'city': 'Suomi', 'lat': 63, 'lon': 25}\r\n\r\nexport const mapCenterReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'SET_MAP_CENTER':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}","function getInitialFilters() {\r\n    if (JSON.parse(window.localStorage.getItem('filters'))) {\r\n        return JSON.parse(window.localStorage.getItem('filters'))\r\n    }\r\n    return []\r\n}\r\n\r\nfunction getInitialSportsFilters() {\r\n    if (JSON.parse(window.localStorage.getItem('sportsFilters'))) {\r\n        return JSON.parse(window.localStorage.getItem('sportsFilters'))\r\n    }\r\n    return []\r\n}\r\n\r\nfunction getInitialFavourites() {\r\n\r\n    if (JSON.parse(window.localStorage.getItem('favourites'))) {\r\n        return JSON.parse(window.localStorage.getItem('favourites'))\r\n    }\r\n    return []\r\n}\r\n\r\nexport const filtersReducer = (state = getInitialFilters(), action) => {\r\n    switch (action.type) {\r\n        case 'SET_FILTERS':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const sportsFiltersReducer = (state = getInitialSportsFilters(), action) => {\r\n    switch (action.type) {\r\n        case 'SET_SPORTS_FILTERS':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const favouritesReducer = (state = getInitialFavourites(), action) => {\r\n    switch (action.type) {\r\n        case 'SET_FAVOURITES':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const selectedLocationReducer = (state = null, action) => {\r\n    switch (action.type) {\r\n        case 'SET_SELECTED_LOCATION':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const selectedItemReducer = (state = null, action) => {\r\n    switch (action.type) {\r\n        case 'SET_SELECTED_ITEM':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const searchConditionsReducer = (state = null, action) => {\r\n    switch (action.type) {\r\n        case 'SET_SEARCH_CONDITIONS':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { createStore, combineReducers, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport { Provider } from 'react-redux'\n\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { cityReducer, levelReducer, teamReducer, infoReducer } from './reducers/initialDataReducer'\nimport { citySearchReducer, itemSearchReducer } from './reducers/searchTextReducer'\nimport { matchesReducer, locationsReducer, isLoadingMatchesReducer } from './reducers/matchesReducer'\nimport { dateFromReducer, dateToReducer } from './reducers/dateReducer'\nimport { mapCenterReducer } from './reducers/mapReducer'\nimport { filtersReducer, sportsFiltersReducer, favouritesReducer, selectedLocationReducer,\n  selectedItemReducer, searchConditionsReducer } from './reducers/selectionReducer'\n\n\nconst reducer = combineReducers({\n  cities: cityReducer,\n  levels: levelReducer,\n  teams: teamReducer,\n  info: infoReducer,\n  citySearchText: citySearchReducer,\n  itemSearchText: itemSearchReducer,\n  matches: matchesReducer,\n  locations: locationsReducer,\n  dateFrom: dateFromReducer,\n  dateTo: dateToReducer,\n  mapCenter: mapCenterReducer,\n  filters: filtersReducer,\n  favourites: favouritesReducer,\n  isLoadingMatches: isLoadingMatchesReducer,\n  selectedLocation: selectedLocationReducer,\n  selectedItem: selectedItemReducer,\n  searchConditions: searchConditionsReducer,\n  sportsFilters: sportsFiltersReducer\n})\n\nconst store = createStore(reducer, applyMiddleware(thunk))\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","const initialState = ''\r\n\r\nexport const citySearchReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'SET_CITY_SEARCH_TEXT':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const itemSearchReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'SET_ITEM_SEARCH_TEXT':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}"],"sourceRoot":""}