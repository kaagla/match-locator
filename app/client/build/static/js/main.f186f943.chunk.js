(this["webpackJsonpmatch-locator"]=this["webpackJsonpmatch-locator"]||[]).push([[0],{29:function(e,t,a){e.exports=a(77)},34:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(12),i=a.n(l),r=(a(34),a(17)),s=a(1),m=a(10),o=a.n(m),u=(a(52),a(80)),d=a(81),p=a(79),h=a(82),E=a(83),f=a(5),v=a.n(f);a(53);function g(e){return c.a.createElement("div",{className:"map-container"},c.a.createElement("link",{rel:"stylesheet",href:"//cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/leaflet.css"}),c.a.createElement(u.a,{center:[e.mapCenter.lat,e.mapCenter.lon],zoom:function(){var t;return t="Suomi"!==e.mapCenter.city?11:6,window.innerWidth<=600?t-1:t}(),attributionControl:!0,zoomControl:!1,doubleClickZoom:!0,scrollWheelZoom:!0,dragging:!0,animate:!0,easeLinearity:.35},c.a.createElement(d.a,{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}),e.locations.map((function(t){return c.a.createElement(p.a,{key:t._id,position:[t.lat,t.lon],opacity:.9,onclick:function(){return e.handleLocationPopup(t)}},c.a.createElement(h.a,null," "))})),c.a.createElement(E.a,{position:"bottomright"})))}delete v.a.Icon.Default.prototype._getIconUrl,v.a.Icon.Default.mergeOptions({iconRetinaUrl:a(54),iconUrl:a(55),shadowUrl:a(56)});a(59);function N(e){var t={info:"INFO",search:"HAKU",eye:"KOHDISTUS",map:"KARTTA","list-ul":"OTTELUT"};return c.a.createElement("div",{className:"navi-container"},c.a.createElement("div",{className:"navi-box"},c.a.createElement("ul",null,Object.keys(t).map((function(a){return 0===e.numMatches&&"list-ul"===a?c.a.createElement("li",{key:a},c.a.createElement("span",{className:"navi-item-disabled"},c.a.createElement("i",{className:"fas fa-"+a}),c.a.createElement("span",{className:"navi-definition"},t[a]))):c.a.createElement("li",{key:a,onClick:function(){return e.handleNaviChange(a)}},c.a.createElement("span",{className:e.naviSelected===a?"navi-item-selected":"navi-item"},c.a.createElement("i",{className:"fas fa-"+a}),c.a.createElement("span",{className:"navi-definition"},t[a])))})))))}a(60);function b(e){return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"container-box"},c.a.createElement("div",{className:"close-btn",onClick:function(){return e.handleNaviChange("map")}},"X"),c.a.createElement("div",{className:"info-container"},c.a.createElement("div",null,c.a.createElement("h3",null,"miss\xe4 pelaa?")),c.a.createElement("div",null,'"Jalkapallo-ottelut helposti kartalle."'),c.a.createElement("div",null,"Ottelu-, lokaatio- ja sarjatilannetiedot on ker\xe4tty Suomen Palloliiton sivuilta ",c.a.createElement("a",{href:"https://www.palloliitto.fi",target:"_blank"},"(www.palloliitto.fi)"),"."),c.a.createElement("div",{className:"info-container--details"},e.DBinfo.updated?c.a.createElement("span",null,"Ottelutietokanta p\xe4ivitetty: ",function(e){var t=e.split("-")[0],a=parseInt(e.split("-")[1]);return parseInt(e.split("-")[2])+"."+a+"."+t}(e.DBinfo.updated)):c.a.createElement("span",null),c.a.createElement("span",null,"Sovelluksen l\xe4hdekoodi: ",c.a.createElement("a",{href:"https://www.github.com/kaagla/match-locator",target:"_blank"},c.a.createElement("i",{className:"fab fa-github"})))))))}var w=a(7);a(61);function O(e){return c.a.createElement("div",{className:"icon-component"},c.a.createElement("div",null,c.a.createElement("i",{className:"fas fa-"+e.icon})),c.a.createElement("div",{className:"icon-component--definition"},e.definition))}a(62);function y(e){var t=(new Date).toJSON().split("T")[0],a=Object(n.useState)(!1),l=Object(s.a)(a,2),i=l[0],r=l[1],m=Object(n.useState)(""),o=Object(s.a)(m,2),u=o[0];o[1];function d(t){var a=new Date(t).getTime(),n=new Date(e.dateFrom).getTime(),c=new Date(e.dateTo).getTime();a<n||n!==c?(e.setDateFrom(t),e.setDateTo(t)):n===c&&e.setDateTo(t)}function p(e,t){return parseInt(e.split("-")[1])!==parseInt(t)}function h(e){var t=e.split("-")[0],a=parseInt(e.split("-")[1]);return parseInt(e.split("-")[2])+"."+a+"."+t}return Object(n.useEffect)((function(){document.getElementById(e.dateTo.split("-").slice(0,2).join("-")).scrollIntoView({behavior:"auto",block:"center"})}),[]),Object(n.useEffect)((function(){document.getElementById(e.dateTo.split("-").slice(0,2).join("-")).scrollIntoView({behavior:"smooth",block:"center"})}),[e.dateTo]),c.a.createElement("div",{className:"calendar-container"},c.a.createElement("div",{className:"calendar-component"},c.a.createElement("div",{className:"calendar-component--display",onClick:function(){return r(!i)}},e.dateFrom===e.dateTo?c.a.createElement("div",null,h(e.dateFrom)):c.a.createElement("div",null,e.dateFrom.split("-")[0]===e.dateTo.split("-")[0]?c.a.createElement("span",null,function(e){var t=parseInt(e.split("-")[1]);return parseInt(e.split("-")[2])+"."+t+"."}(e.dateFrom)):c.a.createElement("span",null,h(e.dateFrom)),c.a.createElement("span",null," \u2192 "),c.a.createElement("span",null,h(e.dateTo)))),c.a.createElement("div",{className:"calendar-component--table-headings"},c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"MA"),c.a.createElement("th",null,"TI"),c.a.createElement("th",null,"KE"),c.a.createElement("th",null,"TO"),c.a.createElement("th",null,"PE"),c.a.createElement("th",null,"LA"),c.a.createElement("th",null,"SU"))))),c.a.createElement("div",{className:"calendar-component--tables"},function(e){var t=[];return e.map((function(e){[1,2,3,4,5,6,7,8,9,10,11,12].map((function(a){var n={year:e,month:a<=9?"0"+a:a.toString()};n.monthDays=function(e,t){var a=e-1,n=t,c=new Date(n,a+1,0).getDate(),l=-(new Date(n,a,1).getDay()-2);0===new Date(n,a,1).getDay()&&(l=-5);for(var i=c+(7-new Date(n,a,c).getDay()),r=[],s=l;s<=i;s++){var m=new Date(n,a,s),o=m.getDate();o=o<=9?"0"+o:o;m.getDay();var u=m.getMonth()+1;u=u<=9?"0"+u:u;var d=m.getFullYear();r.push({date:d+"-"+u+"-"+o})}for(var p=[],h=0;h<r.length/7;h++)p.push(r.slice(7*h,7*(h+1)));return p}(a,e),t.push(n)}))})),t}([2019,2020,2021]).map((function(t){return c.a.createElement("div",{className:"calendar-component--month",key:t.year+"-"+t.month,id:t.year+"-"+t.month},c.a.createElement("h5",null,{"01":"tammikuu","02":"helmikuu","03":"maaliskuu","04":"huhtikuu","05":"toukokuu","06":"kes\xe4kuu","07":"hein\xe4kuu","08":"elokuu","09":"syyskuu",10:"lokakuu",11:"marraskuu",12:"joulukuu"}[t.month]+" "+t.year),c.a.createElement("table",null,c.a.createElement("tbody",null,t.monthDays.map((function(a,n){return c.a.createElement("tr",{key:n},a.map((function(a){return function(t){if(null===e.dateTo){if(t===e.dateFrom)return!0}else if(t>=e.dateFrom&&t<=e.dateTo)return!0;return!1}(a.date)&&!p(a.date,t.month)?a.date===e.dateFrom||a.date===e.dateTo?c.a.createElement("td",{key:a.date,className:"calendar-component--item-selected",onClick:function(){return d(a.date)}},a.date.split("-")[2]):c.a.createElement("td",{key:a.date,className:"calendar-component--item-selected-range",onClick:function(){return d(a.date)}},a.date.split("-")[2]):p(a.date,t.month)?function(e,t){return parseInt(e.split("-")[0])!==parseInt(t)}(a.date,t.year)?c.a.createElement("td",{key:a.date}):c.a.createElement("td",{key:a.date,className:"calendar-component--item-difmonth",onClick:function(){return d(a.date)}},a.date.split("-")[2]):c.a.createElement("td",{key:a.date,className:"calendar-component--item",onClick:function(){return d(a.date)}},a.date.split("-")[2])})))})))))}))),c.a.createElement("div",{className:"calendar-component--shortcut"},c.a.createElement("form",null,c.a.createElement("label",null,c.a.createElement("select",{value:u,onChange:function(a){return function(a){if("today"===a&&(e.setDateFrom(t),e.setDateTo(t)),"this-week"===a){var n=new Date;e.setDateFrom(t),0!==n.getDay()?e.setDateTo(new Date(n.setDate(n.getDate()+(7-(new Date).getDay()))).toJSON().split("T")[0]):e.setDateTo(t)}if("next-week"===a){var c=new Date((new Date).setDate((new Date).getDate()+(8-(new Date).getDay()))),l=new Date(c);l.setDate(l.getDate()+6),e.setDateFrom(c.toJSON().split("T")[0]),e.setDateTo(l.toJSON().split("T")[0])}if("this-month"===a){e.setDateFrom(t);var i=new Date(t),r=new Date(i.setDate(32));r=new Date(i.setDate(0)).toJSON().split("T")[0],e.setDateTo(r)}if("next-month"===a){var s=new Date((new Date).setDate(32)).toJSON().split("T")[0],m=new Date(new Date((new Date).setDate(64)).setDate(0)).toJSON().split("T")[0];e.setDateFrom(s),e.setDateTo(m)}if("this-year"===a){var o=new Date((new Date).getFullYear(),11,32).toJSON().split("T")[0];e.setDateFrom(t),e.setDateTo(o)}}(a.target.value)}},c.a.createElement("option",{value:""},"Ajanjakson pikavalinta"),c.a.createElement("option",{value:"today"},"T\xe4n\xe4\xe4n"),c.a.createElement("option",{value:"this-week"},"Tulevat t\xe4ll\xe4 viikolla"),c.a.createElement("option",{value:"next-week"},"Ensi viikolla"),c.a.createElement("option",{value:"this-month"},"Tulevat t\xe4ss\xe4 kuussa"),c.a.createElement("option",{value:"next-month"},"Ensi kuussa"),c.a.createElement("option",{value:"this-year"},"Tulevat t\xe4n\xe4 vuonna")))))))}a(63);function S(e){return c.a.createElement("div",{className:"count-badge-component"},c.a.createElement("div",{className:"count-badge-component--item"},e.count))}a(64);function j(e){return c.a.createElement("div",{className:"search-input-component"},c.a.createElement("form",null,c.a.createElement("label",null,c.a.createElement("input",{className:"input-search",type:"search",value:e.searchText,placeholder:e.placeholder,onChange:function(t){return e.setSearchText(t.target.value)}}))))}a(65);function k(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],i=a[1];return c.a.createElement("div",{className:"list-item-component"},c.a.createElement("div",{className:"list-item-component--header",onClick:function(){return i(!l)}},c.a.createElement("span",null,e.item.name),c.a.createElement("span",null,c.a.createElement("i",{className:l?"arrow-up":"arrow-down"}))),l?c.a.createElement("div",{className:"list-item-component--options"},c.a.createElement("div",null,c.a.createElement("div",null,"VALINNAT"),c.a.createElement("div",{className:"list-item-component--options-group"},c.a.createElement("span",{className:e.favourites.filter((function(t){return t.name===e.item.name})).length>0?"list-item-component--options-selected":"",onClick:function(){return e.handleSelection("favourites",e.item)}},c.a.createElement(O,{icon:"star",definition:"SUOSIKKI"})),c.a.createElement("span",{className:e.filters.filter((function(t){return t.name===e.item.name})).length>0?"list-item-component--options-selected":"",onClick:function(){return e.handleSelection("filters",e.item)}},c.a.createElement(O,{icon:"filter",definition:"SUODATIN"})))),c.a.createElement("div",null,c.a.createElement("div",null,"N\xc4YT\xc4"),c.a.createElement("div",{className:"list-item-component--options-group"},c.a.createElement("span",{onClick:function(){return e.applyQuickSearch(e.item)}},c.a.createElement(O,{icon:"list-ul",definition:"OTTELUT"})),["level","team"].includes(e.item.type)?c.a.createElement("span",{onClick:function(){return e.applyGetStandings(e.item)}},c.a.createElement(O,{icon:"trophy",definition:"SARJATILANNE"})):c.a.createElement("span",null)))):c.a.createElement("div",null))}a(66);function T(e){return c.a.createElement("div",{className:"list-component"},c.a.createElement("ul",null,e.items.map((function(t){return c.a.createElement("li",{key:t.name},c.a.createElement(k,{item:t,favourites:e.favourites,filters:e.filters,handleSelection:e.handleSelection,applyQuickSearch:e.applyQuickSearch,applyGetStandings:e.applyGetStandings}))}))))}a(67);function D(e){var t="Hakutulos: ";return 0===e.numMatches?t+="ei otteluita.":1===e.numMatches?t+="1 ottelu.":t+="".concat(e.numMatches," ottelua."),c.a.createElement("div",{className:"results-component"},c.a.createElement("span",null,e.isLoading?e.loadingText:t),c.a.createElement("span",{className:e.changesMade?"results-component--update-btn":"results-component--update-btn-hide",onClick:function(){return e.applySearch()}},"P\xc4IVIT\xc4 HAKUTULOKSET"))}a(68);function I(e){var t=(new Date).toJSON().split("T")[0],a=Object(n.useState)(t),l=Object(s.a)(a,2),i=l[0],r=l[1],m=Object(n.useState)(t),o=Object(s.a)(m,2),u=o[0],d=o[1],p=Object(n.useState)("calendar"),h=Object(s.a)(p,2),E=h[0],f=h[1],v=Object(n.useState)(""),g=Object(s.a)(v,2),N=g[0],b=g[1],k=Object(n.useState)((function(){if(JSON.parse(window.localStorage.getItem("filters")))return JSON.parse(window.localStorage.getItem("filters"));return[]})),I=Object(s.a)(k,2),C=I[0],_=I[1],x=Object(n.useState)((function(){if(JSON.parse(window.localStorage.getItem("favourites")))return JSON.parse(window.localStorage.getItem("favourites"));return[]})),A=Object(s.a)(x,2),J=A[0],L=A[1],F=Object(n.useState)(!1),M=Object(s.a)(F,2),U=M[0],K=M[1],P=[].concat(Object(w.a)(e.cities),Object(w.a)(e.levels),Object(w.a)(e.teams));function G(e,t){if("favourites"===e)if(0===J.filter((function(e){return e.name===t.name})).length){var a=Object(w.a)(J);a.push(t),L(a),window.localStorage.setItem("favourites",JSON.stringify(a))}else{var n=Object(w.a)(J).filter((function(e){return e.name!==t.name}));L(n),window.localStorage.setItem("favourites",JSON.stringify(n))}if("filters"===e)if(0===C.filter((function(e){return e.name===t.name})).length){var c=Object(w.a)(C);c.push(t),_(c),window.localStorage.setItem("filters",JSON.stringify(c))}else{var l=Object(w.a)(C).filter((function(e){return e.name!==t.name}));_(l),window.localStorage.setItem("filters",JSON.stringify(l))}}function H(t){e.getMatches("",[t]),K(!0),e.handleNaviChange("list-ul")}function B(t){e.getStandings(t),e.handleNaviChange("standings")}return Object(n.useEffect)((function(){K(!0)}),[u,i,C]),c.a.createElement("div",{className:"search"===e.naviSelected?"container":"container not-visible"},c.a.createElement("div",{className:"container-box"},c.a.createElement("div",{className:"close-btn",onClick:function(){return e.handleNaviChange("map")}},"X"),c.a.createElement("div",{className:"search-container"},""!==e.errorText?c.a.createElement("div",{className:"error-info"},e.errorText):c.a.createElement("span",null),c.a.createElement("div",{className:"search-container--results"},c.a.createElement(D,{changesMade:U,numMatches:e.matches.length,applySearch:function(){e.getMatches("".concat(i,",").concat(u),C),K(!1)},isLoading:e.isLoading,loadingText:e.loadingText})),c.a.createElement("div",{className:"search-container--menu"},c.a.createElement("div",{className:"calendar"===E?"search-container--menu-item-selected":"search-container--menu-item",onClick:function(){return f("calendar")}},c.a.createElement(O,{icon:"calendar",definition:"AJANJAKSO"})),c.a.createElement("div",{className:"search"===E?"search-container--menu-item-selected":"search-container--menu-item",onClick:function(){return f("search")}},c.a.createElement(O,{icon:"search",definition:"ETSI"})),c.a.createElement("div",{className:"filter"===E?"search-container--menu-item-selected":"search-container--menu-item",onClick:function(){return f("filter")}},c.a.createElement(O,{icon:"filter",definition:"SUODATTIMET"}),c.a.createElement("div",{className:"search-container--menu-item-count"},c.a.createElement(S,{count:C.length}))),c.a.createElement("div",{className:"star"===E?"search-container--menu-item-selected":"search-container--menu-item",onClick:function(){return f("star")}},c.a.createElement(O,{icon:"star",definition:"SUOSIKIT"}),c.a.createElement("div",{className:"search-container--menu-item-count"},c.a.createElement(S,{count:J.length})))),c.a.createElement("div",{className:"search-container--item-group"},c.a.createElement("div",{className:"calendar"===E?"":"not-visible"},c.a.createElement(y,{dateFrom:i,setDateFrom:r,dateTo:u,setDateTo:d})),c.a.createElement("div",{className:"search"===E?"":"not-visible"},c.a.createElement(j,{searchText:N,setSearchText:b,placeholder:"etsi sarjaa, joukkuetta, kaupunkia..."}),c.a.createElement(T,{items:""===N?[]:P.filter((function(e){return N.split(" ").every((function(t){return e.name.toLowerCase().includes(t.toLowerCase())}))})).slice(0,20),filters:C,favourites:J,handleSelection:G,applyQuickSearch:H,applyGetStandings:B})),c.a.createElement("div",{className:"filter"===E?"":"not-visible"},C.length>0?c.a.createElement(T,{items:C,filters:C,favourites:J,handleSelection:G,applyQuickSearch:H,applyGetStandings:B}):c.a.createElement("div",null)),c.a.createElement("div",{className:"star"===E?"":"not-visible"},J.length>0?c.a.createElement(T,{items:J,filters:C,favourites:J,handleSelection:G,applyQuickSearch:H,applyGetStandings:B}):c.a.createElement("div",null))))))}a(69),a(70),a(71),a(72);function C(e){var t=Object(n.useState)("points"),a=Object(s.a)(t,2),l=a[0],i=a[1],r=Object(n.useState)(!0),m=Object(s.a)(r,2),o=m[0],u=m[1],d=e.standings,p=e.selectedGroup,h={played:"O",wins:"V",draws:"T",losses:"H",scored:"TM",conceded:"PM",difference:"+/-",points:"P"};function E(e){l===e?u(!o):(i(e),u(!0))}return c.a.createElement("div",{className:"standingstable-component"},function(){var e=d.filter((function(e){return e.name===p})),t={name:p,standings:[]};return e[0].standings.sort((function(e,t){return o?t[l]-e[l]:e[l]-t[l]})).map((function(e){t.standings.push(e)})),[t]}().map((function(e){return c.a.createElement("div",{key:e.name,className:"group-component"},c.a.createElement("table",{className:"standings-group-table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null),c.a.createElement("th",null),Object.keys(h).map((function(e){return e===l?c.a.createElement("th",{onClick:function(){return E(e)}},c.a.createElement("span",null,h[e]," "),o?c.a.createElement("span",null,"\u2193"):c.a.createElement("span",null,"\u2191")):c.a.createElement("th",{onClick:function(){return E(e)}},c.a.createElement("span",null,h[e]))})))),c.a.createElement("tbody",null,e.standings.map((function(t){return c.a.createElement("tr",{key:t.name,name:t.name},c.a.createElement("td",null,e.standings.indexOf(t)+1,"."),c.a.createElement("td",{id:t.name},t.team),c.a.createElement("td",null,t.played),c.a.createElement("td",null,t.wins),c.a.createElement("td",null,t.draws),c.a.createElement("td",null,t.losses),c.a.createElement("td",null,t.scored),c.a.createElement("td",null,t.conceded),c.a.createElement("td",null,t.difference),c.a.createElement("td",null,t.points))})))))})))}function _(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],i=a[1],r=Object(n.useState)([]),m=Object(s.a)(r,2),u=m[0],d=m[1],p=Object(n.useState)([]),h=Object(s.a)(p,2),E=h[0],f=h[1],v=Object(n.useState)(""),g=Object(s.a)(v,2),N=g[0],b=g[1],w=Object(n.useState)(!1),y=Object(s.a)(w,2),S=y[0],j=y[1];function k(e,t){if("-"===t.score)return"no-score";var a=parseInt(t.score.split(" ")[0].split("-")[0]),n=parseInt(t.score.split(" ")[0].split("-")[1]);return a===n?"draw":a-n>0?e===t.home_name?"win":"loss":e===t.away_name?"win":"loss"}function T(e){var t=parseInt(e.split(".")[2]),a=parseInt(e.split(".")[1])-1,n=parseInt(e.split(".")[0]);return new Date(t,a,n)>new Date}return Object(n.useEffect)((function(){!function(t,a,n,c){var l={},i=e.match,r=parseInt(i.date.split(".")[2]),s=parseInt(i.date.split(".")[1])-1,m=parseInt(i.date.split(".")[0])-1;l.dates="2019-01-01,"+new Date(r,s,m).toJSON().split("T")[0],l.team=[],l.team.push({name:e.match.home_name+" - "+e.match.level}),l.team.push({name:e.match.away_name+" - "+e.match.level}),o.a.post("/api/matches",l).then((function(e){0===e.data.length?b("Ei aiempia otteluita"):d(e.data)})).catch((function(e){console.log(e),b("Edellisi\xe4 otteluita ei saatavilla")}))}()}),[]),c.a.createElement("div",{className:"match-preview-component"},""!==N?c.a.createElement("div",null,"Edellisi\xe4 otteluita ei saatavilla"):c.a.createElement("div",{className:"match-preview-component-matchdiv"},c.a.createElement("div",{className:"match-preview-component-icon"},c.a.createElement("div",{className:0===u.length?"loader":""},c.a.createElement(O,{icon:"history",definition:"EDELLISET OTTELUT"}))),c.a.createElement("div",null,c.a.createElement("div",{className:"match-preview-component--last-matches"},c.a.createElement("div",{className:"match-preview-component--last-matches-home"},c.a.createElement("ul",null,u.filter((function(t){return t.home_name===e.match.home_name||t.away_name===e.match.home_name})).reverse().map((function(t){return c.a.createElement("li",{key:t.id},c.a.createElement("div",{className:"match-preview-component--last-matches-team-home"},c.a.createElement("span",{className:t.home_name===e.match.home_name?"selected":""},t.home_name)),T(t.date)?c.a.createElement("div",{className:"match-preview-component--last-matches-date"},t.date):c.a.createElement("div",{className:"match-preview-component--last-matches-score"},c.a.createElement("span",{className:"match-preview-component--last-matches-score-"+k(e.match.home_name,t)},t.score.split(" ")[0])),c.a.createElement("div",{className:"match-preview-component--last-matches-team-away"},c.a.createElement("span",{className:t.away_name===e.match.home_name?"selected":""},t.away_name)))})))),c.a.createElement("div",{className:"match-preview-component--last-matches-away"},c.a.createElement("ul",null,u.filter((function(t){return t.home_name===e.match.away_name||t.away_name===e.match.away_name})).reverse().map((function(t){return c.a.createElement("li",{key:t.id},c.a.createElement("div",{className:"match-preview-component--last-matches-team-home"},c.a.createElement("span",{className:t.home_name===e.match.away_name?"selected":""},t.home_name)),T(t.date)?c.a.createElement("div",{className:"match-preview-component--last-matches-date"},t.date):c.a.createElement("div",{className:"match-preview-component--last-matches-score"},c.a.createElement("span",{className:"match-preview-component--last-matches-score-"+k(e.match.away_name,t)},t.score.split(" ")[0])),c.a.createElement("div",{className:"match-preview-component--last-matches-team-away"},c.a.createElement("span",{className:t.away_name===e.match.away_name?"selected":""},t.away_name)))}))))))),c.a.createElement("div",{className:"match-preview-component-icon",onClick:function(){return function(){if(!l&&!S){i(!0);var t={standings:{type:"team",name:e.match.home_name+" - "+e.match.level}};o.a.post("/api/standings",t).then((function(e){0===e.data.length?j("Sarjatilannetta ei saatavilla"):f(e.data)})).catch((function(e){console.log(e),i(!1),j("Sarjatilannetta ei saatavilla")}))}}()}},c.a.createElement("div",{className:0===E.length&&l?"loader":""},c.a.createElement(O,{icon:"trophy",definition:l||S?"SARJATILANNE":"N\xc4YT\xc4 SARJATILANNE"}))),S?c.a.createElement("div",null,"Sarjatilannetta ei saatavilla"):E.length>0?c.a.createElement(C,{standings:E,selectedGroup:E[0].name}):c.a.createElement("div",null))}function x(e){var t=Object(n.useState)(e.itemIsOpen),a=Object(s.a)(t,2),l=a[0],i=a[1],r=Object(n.useState)([]),m=Object(s.a)(r,2),o=m[0],u=m[1];function d(t){var a=e.matches.filter((function(e){return e.venue_name===t}))[0].city;return t.includes(a)?t:t+", "+a}return c.a.createElement("div",{className:"matchlist-component"},c.a.createElement("div",{className:"matchlist-component--header",onClick:function(){return i(!l)}},c.a.createElement("div",{className:"matchlist-component--header-name"},c.a.createElement("span",null,"venue_name"===e.groupbyItem?d(e.header):e.header),c.a.createElement("span",{className:"matchlist-component--header-count"},c.a.createElement(S,{count:e.matches.length}))),c.a.createElement("div",null,c.a.createElement("i",{className:l?"arrow-up":"arrow-down"}))),l?e.matches.map((function(t){return c.a.createElement("div",{key:t._id,className:"matchlist-component--match-details"},c.a.createElement("div",{className:"matchlist-component--match-details--whenwhere"},"date"!==e.groupbyItem?c.a.createElement("div",{className:"matchlist-component--match-details-date"},c.a.createElement("span",null,c.a.createElement("i",{className:"far fa-calendar"})),c.a.createElement("span",null,t.date)):c.a.createElement("span",null),c.a.createElement("div",{className:"matchlist-component--match-details-time"},c.a.createElement("span",null,c.a.createElement("i",{className:"far fa-clock"})),c.a.createElement("span",null,t.time)),"venue_name"!==e.groupbyItem?c.a.createElement("div",{className:"matchlist-component--match-details-venue"},c.a.createElement("span",null,c.a.createElement("i",{className:"fas fa-map-marker-alt"})),c.a.createElement("span",null,"city"===e.groupbyItem?t.venue_name:d(t.venue_name))):c.a.createElement("span",null),["city","venue_name"].includes(e.groupbyItem)?c.a.createElement("span",null):c.a.createElement("span",{className:"matchlist-component--match-details-city"})),c.a.createElement("div",{className:"matchlist-component--match-details--who"},"level"!==e.groupbyItem?c.a.createElement("div",{className:"matchlist-component--match-details-level"},c.a.createElement("span",null,c.a.createElement("i",{className:"fas fa-trophy"})),c.a.createElement("span",null,t.level)):c.a.createElement("span",null),c.a.createElement("div",{className:"matchlist-component--match-details-team-info"},c.a.createElement("div",{className:"matchlist-component--match-details-home"},c.a.createElement("span",null,t.home_name)),c.a.createElement("div",{className:"matchlist-component--match-details-score"},t.score),c.a.createElement("div",{className:"matchlist-component--match-details-away"},t.away_name))),function(e){var t=parseInt(e.split(".")[2]),a=parseInt(e.split(".")[1])-1,n=parseInt(e.split(".")[0]),c=new Date(t,a,n),l=(new Date).getFullYear(),i=(new Date).getMonth(),r=(new Date).getDate();return c>=new Date(l,i,r)}(t.date)?c.a.createElement("div",{className:"matchlist-component--match-preview"},c.a.createElement("div",{className:"matchlist-component--match-preview-btn",onClick:function(){return e=t._id,void(o.includes(e)?u(Object(w.a)(o).filter((function(t){return t!==e}))):u([].concat(Object(w.a)(o),[e])));var e}},c.a.createElement("span",null,"Ottelun asetelmat"),c.a.createElement("span",null,c.a.createElement("i",{className:o.includes(t._id)?"arrow-up":"arrow-down"}))),o.includes(t._id)?c.a.createElement("div",{className:"matchlist-component--match-preview-content"},c.a.createElement(_,{match:t})):c.a.createElement("span",null)):c.a.createElement("span",null),c.a.createElement("div",null))})):c.a.createElement("div",null))}function A(e){var t=Object(n.useState)("date"),a=Object(s.a)(t,2),l=a[0],i=a[1],r=new Set([]);return e.matches.map((function(e){r.add(e[l])})),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"container-box"},c.a.createElement("div",{className:"close-btn",onClick:function(){return e.handleNaviChange("map")}},"X"),c.a.createElement("div",{className:"matchlist-container"},c.a.createElement("div",{className:"matchlist-container--grouping"},c.a.createElement("form",null,c.a.createElement("label",null," ","Ryhmittely: ",c.a.createElement("select",{value:l,onChange:function(e){return i(e.target.value)}},c.a.createElement("option",{value:"date"},"P\xe4iv\xe4m\xe4\xe4r\xe4"),c.a.createElement("option",{value:"level"},"Sarjataso"),c.a.createElement("option",{value:"city"},"Kaupunki"),c.a.createElement("option",{value:"venue_name"},"Kentt\xe4"))))),c.a.createElement("div",{className:"matchlist-container--matchlist-items"},("date"===l?Array.from(r):Array.from(r).sort()).map((function(t,a){return c.a.createElement(x,{key:t,header:t,groupbyItem:l,matches:e.matches.filter((function(e){return e[l]===t})),itemIsOpen:0===a})}))))))}a(73);function J(e){var t=Object(r.a)({},e.selectedLocation);return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"container-box"},c.a.createElement("div",{className:"locationpopup-container"},c.a.createElement("div",{className:"close-btn",onClick:function(){return e.setShowPopup(!1)}},"X"),c.a.createElement("div",{className:"location-address-bar"},c.a.createElement("div",null,c.a.createElement("div",{className:"location-address"},t.address),c.a.createElement("div",{className:"location-address-city"},t.postalcode," ",t.city)),c.a.createElement("div",{className:"location-directions",onClick:function(){return window.open((e=t.lat,a=t.lon,"https://www.google.fi/maps/dir//".concat(e,",").concat(a,"/@").concat(e,",").concat(a,",11z")));var e,a}},c.a.createElement(O,{icon:"directions",definition:"REITTIOHJE"}))),function(){var t=new Set([]);return e.matches.map((function(e){t.add(e.venue_name)})),Array.from(t)}().map((function(t){return c.a.createElement(x,{key:t,header:t,groupbyItem:"venue_name",matches:e.matches.filter((function(e){return e.venue_name===t})),itemIsOpen:!0})})))))}a(74);function L(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),l=a[0],i=a[1],r=Object(w.a)(e.cities);return r.unshift({type:"city",name:"Suomi"}),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"container-box"},c.a.createElement("div",{className:"close-btn",onClick:function(){return e.handleNaviChange("map")}},"X"),c.a.createElement("div",{className:"locate-components"},c.a.createElement("div",{className:"locate-components--search"},c.a.createElement(j,{searchText:l,setSearchText:i,placeholder:"etsi kaupunki..."})),c.a.createElement("div",{className:"city-list"},c.a.createElement("ul",null,r.filter((function(e){return e.name.toLowerCase().includes(l.toLowerCase())})).map((function(t){return c.a.createElement("li",{key:t.name},c.a.createElement("span",{onClick:function(){return function(t){e.handleMapCenterChange(t),e.handleNaviChange("map")}(t)}},t.name))})))))))}a(75);function F(e){var t,a=Object(w.a)(e.standings);try{t=a[0].name}catch(u){t="Ongelma haettaessa sarjatilannetta"}var l=Object(n.useState)(t),i=Object(s.a)(l,2),r=i[0],m=i[1],o=a.map((function(e){return e.name}));return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"container-box"},c.a.createElement("div",{className:"close-btn",onClick:function(){return e.handleNaviChange("search")}},"X"),c.a.createElement("div",{className:"standings-container"},c.a.createElement("h3",null,"Sarjatilanne: ",e.selectedStandings.name),o.length>1?c.a.createElement("form",null,c.a.createElement("select",{value:r,onChange:function(e){return m(e.target.value)}},o.map((function(e){return c.a.createElement("option",{value:e},e)})))):"Sarja"!==o[0]?c.a.createElement("span",null,o[0]):c.a.createElement("span",null),c.a.createElement("div",{className:"standings-container--table"},c.a.createElement(C,{standings:a,selectedGroup:r})))))}a(76);function M(e){return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"container-box"},c.a.createElement("div",{className:"loading-container"},c.a.createElement("div",{className:"loader"},e.loadingText))))}var U=function(){var e=Object(n.useState)({city:"Suomi",lat:63,lon:25}),t=Object(s.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(!1),m=Object(s.a)(i,2),u=m[0],d=m[1],p=Object(n.useState)({}),h=Object(s.a)(p,2),E=h[0],f=h[1],v=Object(n.useState)("search"),w=Object(s.a)(v,2),O=w[0],y=w[1],S=Object(n.useState)([]),j=Object(s.a)(S,2),k=j[0],T=j[1],D=Object(n.useState)([]),C=Object(s.a)(D,2),_=C[0],x=C[1],U=Object(n.useState)([]),K=Object(s.a)(U,2),P=K[0],G=K[1],H=Object(n.useState)([]),B=Object(s.a)(H,2),R=B[0],Q=B[1],X=Object(n.useState)([]),V=Object(s.a)(X,2),Y=V[0],z=V[1],W=Object(n.useState)([]),Z=Object(s.a)(W,2),$=Z[0],q=Z[1],ee=Object(n.useState)({}),te=Object(s.a)(ee,2),ae=te[0],ne=te[1],ce=Object(n.useState)(!1),le=Object(s.a)(ce,2),ie=le[0],re=le[1],se=Object(n.useState)(""),me=Object(s.a)(se,2),oe=me[0],ue=me[1],de=Object(n.useState)(""),pe=Object(s.a)(de,2),he=pe[0],Ee=pe[1],fe=Object(n.useState)({}),ve=Object(s.a)(fe,2),ge=ve[0],Ne=ve[1];function be(e){y(e)}function we(e){o.a.get("api/"+e).then((function(t){"teams"===e&&T(t.data.filter((function(e){return e.name.charAt(0)>"9"}))),"cities"===e&&x(t.data.filter((function(e){return null!==e.name}))),"levels"===e&&G(t.data),"info"===e&&Ne(t.data[0])})).catch((function(e){return console.log(e)}))}return Object(n.useEffect)((function(){we("cities"),we("levels"),we("teams"),we("info")}),[]),c.a.createElement("div",{className:"App"},c.a.createElement(g,{mapCenter:a,locations:Y,matches:R,handleLocationPopup:function(e){f(e),d(!0)}}),u?c.a.createElement(J,{setShowPopup:d,selectedLocation:E,matches:R.filter((function(e){return e.location_id===E._id}))}):c.a.createElement("div",null),c.a.createElement(N,{naviSelected:O,handleNaviChange:be,numMatches:R.length}),"eye"===O?c.a.createElement(L,{cities:_,handleMapCenterChange:function(e){if("Suomi"===e.name)l({city:"Suomi",lat:63,lon:25});else{var t={city:Object(r.a)({},e)};o.a.post("/api/citycoordinates",t).then((function(e){l(e.data[0])})).catch((function(e){return console.log(e)}))}},handleNaviChange:be}):c.a.createElement("div",null),c.a.createElement(I,{naviSelected:O,teams:k,cities:_,levels:P,matches:R,getMatches:function(e,t){re(!0),ue("Haetaan otteluita...");var a={};""!==e&&(a.dates=e),t.length>0&&t.map((function(e){a[e.type]=[],a[e.type].push({name:e.name})})),o.a.post("/api/matches",a).then((function(e){Q(e.data);var t=new Set([]);return e.data.map((function(e){return t.add(e.location_id)})),Array.from(t)})).then((function(e){e.length>0?o.a.get("/api/locations?ids="+e.join(",")).then((function(e){z(e.data),console.log(e.data.length)})).catch((function(e){return console.log(e)})):(z([]),Q([]))})).then((function(){re(!1),ue("")})).catch((function(e){console.log(e),re(!1),ue(""),Ee("Ongelma ilmeni haettaessa otteluita."),setTimeout((function(){return Ee("")}),6e3)}))},handleNaviChange:be,getStandings:function(e){q([]),re(!0),ue("Haetaan sarjatilannetta...");var t={standings:e};o.a.post("/api/standings",t).then((function(t){console.log(t.data),q(t.data),ne(e)})).then((function(){re(!1),ue("")})).catch((function(e){console.log(e),be("search"),re(!1),ue(""),Ee("Ongelma ilmeni haettaessa sarjatilannetta."),setTimeout((function(){return Ee("")}),6e3)}))},isLoading:ie,loadingText:oe,errorText:he}),"info"===O?c.a.createElement(b,{handleNaviChange:be,DBinfo:ge}):c.a.createElement("div",null),"list-ul"===O?ie?c.a.createElement(M,{loadingText:oe}):0===R.length?be("search"):c.a.createElement(A,{matches:R,handleNaviChange:be}):c.a.createElement("div",null),"standings"===O?ie?c.a.createElement(M,{loadingText:oe}):c.a.createElement(F,{standings:$,selectedStandings:ae,handleNaviChange:be}):c.a.createElement("div",null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.f186f943.chunk.js.map