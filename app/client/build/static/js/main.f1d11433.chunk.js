(this["webpackJsonpmatch-locator"]=this["webpackJsonpmatch-locator"]||[]).push([[0],{29:function(e,t,a){e.exports=a(75)},34:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(12),i=a.n(c),r=(a(34),a(17)),o=a(1),s=a(10),m=a.n(s),u=(a(52),a(78)),d=a(79),p=a(77),h=a(80),f=a(81),E=a(5),v=a.n(E);a(53);function g(e){var t=6;return"Suomi"!==e.mapCenter.city&&(t=11),l.a.createElement("div",{className:"map-container"},l.a.createElement("link",{rel:"stylesheet",href:"//cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/leaflet.css"}),l.a.createElement(u.a,{center:[e.mapCenter.lat,e.mapCenter.lon],zoom:t,attributionControl:!0,zoomControl:!1,doubleClickZoom:!0,scrollWheelZoom:!0,dragging:!0,animate:!0,easeLinearity:.35},l.a.createElement(d.a,{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}),e.locations.map((function(t){return l.a.createElement(p.a,{key:t._id,position:[t.lat,t.lon],opacity:.9,onclick:function(){return e.handleLocationPopup(t)}},l.a.createElement(h.a,null," "))})),l.a.createElement(f.a,{position:"bottomright"})))}delete v.a.Icon.Default.prototype._getIconUrl,v.a.Icon.Default.mergeOptions({iconRetinaUrl:a(54),iconUrl:a(55),shadowUrl:a(56)});a(59);function N(e){var t={info:"INFO",search:"HAKU",eye:"KOHDISTUS",map:"KARTTA","list-ul":"OTTELUT"};return l.a.createElement("div",{className:"navi-container"},l.a.createElement("div",{className:"navi-box"},l.a.createElement("ul",null,Object.keys(t).map((function(a){return 0===e.numMatches&&"list-ul"===a?l.a.createElement("li",{key:a},l.a.createElement("span",{className:"navi-item-disabled"},l.a.createElement("i",{className:"fas fa-"+a}),l.a.createElement("span",{className:"navi-definition"},t[a]))):l.a.createElement("li",{key:a,onClick:function(){return e.handleNaviChange(a)}},l.a.createElement("span",{className:e.naviSelected===a?"navi-item-selected":"navi-item"},l.a.createElement("i",{className:"fas fa-"+a}),l.a.createElement("span",{className:"navi-definition"},t[a])))})))))}a(60);function b(e){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"container-box"},l.a.createElement("div",{className:"close-btn",onClick:function(){return e.handleNaviChange("map")}},"X"),l.a.createElement("div",{className:"info-container"},l.a.createElement("div",null,l.a.createElement("h3",null,"miss\xe4 pelaa?")),l.a.createElement("div",null,'"Jalkapallo-ottelut helposti kartalle."'),l.a.createElement("div",null,"Ottelu-, lokaatio- ja sarjatilannetiedot on ker\xe4tty Suomen Palloliiton sivuilta ",l.a.createElement("a",{href:"https://www.palloliitto.fi",target:"_blank"},"(www.palloliitto.fi)"),"."),l.a.createElement("div",{className:"info-container--details"},e.DBinfo.updated?l.a.createElement("span",null,"Ottelutietokanta p\xe4ivitetty: ",function(e){var t=e.split("-")[0],a=parseInt(e.split("-")[1]);return parseInt(e.split("-")[2])+"."+a+"."+t}(e.DBinfo.updated)):l.a.createElement("span",null),l.a.createElement("span",null,"Sovelluksen l\xe4hdekoodi: ",l.a.createElement("a",{href:"https://www.github.com/kaagla/match-locator",target:"_blank"},l.a.createElement("i",{className:"fab fa-github"})))))))}var O=a(9);a(61);function S(e){return l.a.createElement("div",{className:"icon-component"},l.a.createElement("div",null,l.a.createElement("i",{className:"fas fa-"+e.icon})),l.a.createElement("div",{className:"icon-component--definition"},e.definition))}a(62);function y(e){var t=(new Date).toJSON().split("T")[0],a=Object(n.useState)(!1),c=Object(o.a)(a,2),i=c[0],r=c[1],s=Object(n.useState)(""),m=Object(o.a)(s,2),u=m[0];m[1];function d(t){var a=new Date(t).getTime(),n=new Date(e.dateFrom).getTime(),l=new Date(e.dateTo).getTime();a<n||n!==l?(e.setDateFrom(t),e.setDateTo(t)):n===l&&e.setDateTo(t)}function p(e,t){return parseInt(e.split("-")[1])!==parseInt(t)}function h(e){var t=e.split("-")[0],a=parseInt(e.split("-")[1]);return parseInt(e.split("-")[2])+"."+a+"."+t}return Object(n.useEffect)((function(){document.getElementById(e.dateTo.split("-").slice(0,2).join("-")).scrollIntoView({behavior:"auto",block:"center"})}),[]),Object(n.useEffect)((function(){document.getElementById(e.dateTo.split("-").slice(0,2).join("-")).scrollIntoView({behavior:"smooth",block:"center"})}),[e.dateTo]),l.a.createElement("div",{className:"calendar-container"},l.a.createElement("div",{className:"calendar-component"},l.a.createElement("div",{className:"calendar-component--display",onClick:function(){return r(!i)}},e.dateFrom===e.dateTo?l.a.createElement("div",null,h(e.dateFrom)):l.a.createElement("div",null,e.dateFrom.split("-")[0]===e.dateTo.split("-")[0]?l.a.createElement("span",null,function(e){var t=parseInt(e.split("-")[1]);return parseInt(e.split("-")[2])+"."+t+"."}(e.dateFrom)):l.a.createElement("span",null,h(e.dateFrom)),l.a.createElement("span",null," \u2192 "),l.a.createElement("span",null,h(e.dateTo)))),l.a.createElement("div",{className:"calendar-component--tables"},l.a.createElement("div",{className:"calendar-component--table-headings"},l.a.createElement("table",null,l.a.createElement("tr",null,l.a.createElement("th",null,"MA"),l.a.createElement("th",null,"TI"),l.a.createElement("th",null,"KE"),l.a.createElement("th",null,"TO"),l.a.createElement("th",null,"PE"),l.a.createElement("th",null,"LA"),l.a.createElement("th",null,"SU")))),function(e){var t=[];return e.map((function(e){[1,2,3,4,5,6,7,8,9,10,11,12].map((function(a){var n={year:e,month:a<=9?"0"+a:a.toString()};n.monthDays=function(e,t){var a=e-1,n=t,l=new Date(n,a+1,0).getDate(),c=-(new Date(n,a,1).getDay()-2);0===new Date(n,a,1).getDay()&&(c=-5);for(var i=l+(7-new Date(n,a,l).getDay()),r=[],o=c;o<=i;o++){var s=new Date(n,a,o),m=s.getDate();m=m<=9?"0"+m:m;s.getDay();var u=s.getMonth()+1;u=u<=9?"0"+u:u;var d=s.getFullYear();r.push({date:d+"-"+u+"-"+m})}for(var p=[],h=0;h<r.length/7;h++)p.push(r.slice(7*h,7*(h+1)));return p}(a,e),t.push(n)}))})),t}([2019,2020,2021]).map((function(t){return l.a.createElement("div",{className:"calendar-component--month",key:t.year+"-"+t.month,id:t.year+"-"+t.month},l.a.createElement("h5",null,{"01":"tammikuu","02":"helmikuu","03":"maaliskuu","04":"huhtikuu","05":"toukokuu","06":"kes\xe4kuu","07":"hein\xe4kuu","08":"elokuu","09":"syyskuu",10:"lokakuu",11:"marraskuu",12:"joulukuu"}[t.month]+" "+t.year),l.a.createElement("table",null,t.monthDays.map((function(a){return l.a.createElement("tr",null,a.map((function(a){return function(t){if(null===e.dateTo){if(t===e.dateFrom)return!0}else if(t>=e.dateFrom&&t<=e.dateTo)return!0;return!1}(a.date)&&!p(a.date,t.month)?a.date===e.dateFrom||a.date===e.dateTo?l.a.createElement("td",{className:"calendar-component--item-selected",onClick:function(){return d(a.date)}},a.date.split("-")[2]):l.a.createElement("td",{className:"calendar-component--item-selected-range",onClick:function(){return d(a.date)}},a.date.split("-")[2]):p(a.date,t.month)?function(e,t){return parseInt(e.split("-")[0])!==parseInt(t)}(a.date,t.year)?l.a.createElement("td",null):l.a.createElement("td",{className:"calendar-component--item-difmonth",onClick:function(){return d(a.date)}},a.date.split("-")[2]):l.a.createElement("td",{className:"calendar-component--item",onClick:function(){return d(a.date)}},a.date.split("-")[2])})))}))))}))),l.a.createElement("div",{className:"calendar-component--shortcut"},l.a.createElement("form",null,l.a.createElement("label",null,l.a.createElement("select",{value:u,onChange:function(a){return function(a){if("today"===a&&(e.setDateFrom(t),e.setDateTo(t)),"this-week"===a){var n=new Date;e.setDateFrom(t),0!==n.getDay()?e.setDateTo(new Date(n.setDate(n.getDate()+(7-(new Date).getDay()))).toJSON().split("T")[0]):e.setDateTo(t)}if("next-week"===a){var l=new Date((new Date).setDate((new Date).getDate()+(8-(new Date).getDay()))),c=new Date(l);c.setDate(c.getDate()+6),e.setDateFrom(l.toJSON().split("T")[0]),e.setDateTo(c.toJSON().split("T")[0])}if("this-month"===a){e.setDateFrom(t);var i=new Date(t),r=new Date(i.setDate(32));r=new Date(i.setDate(0)).toJSON().split("T")[0],e.setDateTo(r)}if("next-month"===a){var o=new Date((new Date).setDate(32)).toJSON().split("T")[0],s=new Date(new Date((new Date).setDate(64)).setDate(0)).toJSON().split("T")[0];e.setDateFrom(o),e.setDateTo(s)}if("this-year"===a){var m=new Date((new Date).getFullYear(),11,32).toJSON().split("T")[0];e.setDateFrom(t),e.setDateTo(m)}}(a.target.value)}},l.a.createElement("option",{value:""},"Ajanjakson pikavalinta"),l.a.createElement("option",{value:"today"},"T\xe4n\xe4\xe4n"),l.a.createElement("option",{value:"this-week"},"Tulevat t\xe4ll\xe4 viikolla"),l.a.createElement("option",{value:"next-week"},"Ensi viikolla"),l.a.createElement("option",{value:"this-month"},"Tulevat t\xe4ss\xe4 kuussa"),l.a.createElement("option",{value:"next-month"},"Ensi kuussa"),l.a.createElement("option",{value:"this-year"},"Tulevat t\xe4n\xe4 vuonna")))))))}a(63);function w(e){return l.a.createElement("div",{className:"count-badge-component"},l.a.createElement("div",{className:"count-badge-component--item"},e.count))}a(64);function k(e){return l.a.createElement("div",{className:"search-input-component"},l.a.createElement("form",null,l.a.createElement("label",null,l.a.createElement("input",{className:"input-search",type:"search",value:e.searchText,placeholder:e.placeholder,onChange:function(t){return e.setSearchText(t.target.value)}}))))}a(65);function j(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),c=a[0],i=a[1];return l.a.createElement("div",{className:"list-item-component"},l.a.createElement("div",{className:"list-item-component--header",onClick:function(){return i(!c)}},l.a.createElement("span",null,e.item.name),l.a.createElement("span",null,l.a.createElement("i",{className:c?"arrow-up":"arrow-down"}))),c?l.a.createElement("div",{className:"list-item-component--options"},l.a.createElement("div",null,l.a.createElement("div",null,"VALINNAT"),l.a.createElement("div",{className:"list-item-component--options-group"},l.a.createElement("span",{className:e.favourites.filter((function(t){return t.name===e.item.name})).length>0?"list-item-component--options-selected":"",onClick:function(){return e.handleSelection("favourites",e.item)}},l.a.createElement(S,{icon:"star",definition:"SUOSIKKI"})),l.a.createElement("span",{className:e.filters.filter((function(t){return t.name===e.item.name})).length>0?"list-item-component--options-selected":"",onClick:function(){return e.handleSelection("filters",e.item)}},l.a.createElement(S,{icon:"filter",definition:"SUODATIN"})))),l.a.createElement("div",null,l.a.createElement("div",null,"N\xc4YT\xc4"),l.a.createElement("div",{className:"list-item-component--options-group"},l.a.createElement("span",{onClick:function(){return e.applyQuickSearch(e.item)}},l.a.createElement(S,{icon:"list-ul",definition:"OTTELUT"})),["level","team"].includes(e.item.type)?l.a.createElement("span",{onClick:function(){return e.applyGetStandings(e.item)}},l.a.createElement(S,{icon:"trophy",definition:"SARJATILANNE"})):l.a.createElement("span",null)))):l.a.createElement("div",null))}a(66);function T(e){return l.a.createElement("div",{className:"list-component"},l.a.createElement("ul",null,e.items.map((function(t){return l.a.createElement("li",{key:t.name},l.a.createElement(j,{item:t,favourites:e.favourites,filters:e.filters,handleSelection:e.handleSelection,applyQuickSearch:e.applyQuickSearch,applyGetStandings:e.applyGetStandings}))}))))}a(67);function D(e){var t="Hakutulos: ";return 0===e.numMatches?t+="ei otteluita.":1===e.numMatches?t+="1 ottelu.":t+="".concat(e.numMatches," ottelua."),l.a.createElement("div",{className:"results-component"},l.a.createElement("span",null,e.isLoading?e.loadingText:t),l.a.createElement("span",{className:e.changesMade?"results-component--update-btn":"results-component--update-btn-hide",onClick:function(){return e.applySearch()}},"P\xc4IVIT\xc4 HAKUTULOKSET"))}a(68);function C(e){var t=(new Date).toJSON().split("T")[0],a=Object(n.useState)(t),c=Object(o.a)(a,2),i=c[0],r=c[1],s=Object(n.useState)(t),m=Object(o.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)("calendar"),h=Object(o.a)(p,2),f=h[0],E=h[1],v=Object(n.useState)(""),g=Object(o.a)(v,2),N=g[0],b=g[1],j=Object(n.useState)((function(){if(JSON.parse(window.localStorage.getItem("filters")))return JSON.parse(window.localStorage.getItem("filters"));return[]})),C=Object(o.a)(j,2),I=C[0],x=C[1],J=Object(n.useState)((function(){if(JSON.parse(window.localStorage.getItem("favourites")))return JSON.parse(window.localStorage.getItem("favourites"));return[]})),A=Object(o.a)(J,2),F=A[0],_=A[1],L=Object(n.useState)(!1),M=Object(o.a)(L,2),U=M[0],K=M[1],P=[].concat(Object(O.a)(e.cities),Object(O.a)(e.levels),Object(O.a)(e.teams));function H(e,t){if("favourites"===e)if(0===F.filter((function(e){return e.name===t.name})).length){var a=Object(O.a)(F);a.push(t),_(a),window.localStorage.setItem("favourites",JSON.stringify(a))}else{var n=Object(O.a)(F).filter((function(e){return e.name!==t.name}));_(n),window.localStorage.setItem("favourites",JSON.stringify(n))}if("filters"===e)if(0===I.filter((function(e){return e.name===t.name})).length){var l=Object(O.a)(I);l.push(t),x(l),window.localStorage.setItem("filters",JSON.stringify(l))}else{var c=Object(O.a)(I).filter((function(e){return e.name!==t.name}));x(c),window.localStorage.setItem("filters",JSON.stringify(c))}}function B(t){e.getMatches("",[t]),K(!0),e.handleNaviChange("list-ul")}function G(t){e.getStandings(t),e.handleNaviChange("standings")}return Object(n.useEffect)((function(){K(!0)}),[u,i,I]),l.a.createElement("div",{className:"search"===e.naviSelected?"container":"container not-visible"},l.a.createElement("div",{className:"container-box"},l.a.createElement("div",{className:"close-btn",onClick:function(){return e.handleNaviChange("map")}},"X"),l.a.createElement("div",{className:"search-container"},""!==e.errorText?l.a.createElement("div",{className:"error-info"},e.errorText):l.a.createElement("span",null),l.a.createElement("div",{className:"search-container--results"},l.a.createElement(D,{changesMade:U,numMatches:e.matches.length,applySearch:function(){e.getMatches("".concat(i,",").concat(u),I),K(!1)},isLoading:e.isLoading,loadingText:e.loadingText})),l.a.createElement("div",{className:"search-container--menu"},l.a.createElement("div",{className:"calendar"===f?"search-container--menu-item-selected":"search-container--menu-item",onClick:function(){return E("calendar")}},l.a.createElement(S,{icon:"calendar",definition:"AJANJAKSO"})),l.a.createElement("div",{className:"search"===f?"search-container--menu-item-selected":"search-container--menu-item",onClick:function(){return E("search")}},l.a.createElement(S,{icon:"search",definition:"ETSI"})),l.a.createElement("div",{className:"filter"===f?"search-container--menu-item-selected":"search-container--menu-item",onClick:function(){return E("filter")}},l.a.createElement(S,{icon:"filter",definition:"SUODATTIMET"}),l.a.createElement("div",{className:"search-container--menu-item-count"},l.a.createElement(w,{count:I.length}))),l.a.createElement("div",{className:"star"===f?"search-container--menu-item-selected":"search-container--menu-item",onClick:function(){return E("star")}},l.a.createElement(S,{icon:"star",definition:"SUOSIKIT"}),l.a.createElement("div",{className:"search-container--menu-item-count"},l.a.createElement(w,{count:F.length})))),l.a.createElement("div",{className:"search-container--item-group"},l.a.createElement("div",{className:"calendar"===f?"":"not-visible"},l.a.createElement(y,{dateFrom:i,setDateFrom:r,dateTo:u,setDateTo:d})),l.a.createElement("div",{className:"search"===f?"":"not-visible"},l.a.createElement(k,{searchText:N,setSearchText:b,placeholder:"etsi sarjaa, joukkuetta, kaupunkia..."}),l.a.createElement(T,{items:""===N?[]:P.filter((function(e){return N.split(" ").every((function(t){return e.name.toLowerCase().includes(t.toLowerCase())}))})).slice(0,20),filters:I,favourites:F,handleSelection:H,applyQuickSearch:B,applyGetStandings:G})),l.a.createElement("div",{className:"filter"===f?"":"not-visible"},I.length>0?l.a.createElement(T,{items:I,filters:I,favourites:F,handleSelection:H,applyQuickSearch:B,applyGetStandings:G}):l.a.createElement("div",null)),l.a.createElement("div",{className:"star"===f?"":"not-visible"},F.length>0?l.a.createElement(T,{items:F,filters:I,favourites:F,handleSelection:H,applyQuickSearch:B,applyGetStandings:G}):l.a.createElement("div",null))))))}a(69),a(70);function I(e){var t=Object(n.useState)(e.itemIsOpen),a=Object(o.a)(t,2),c=a[0],i=a[1];function r(t){var a=e.matches.filter((function(e){return e.venue_name===t}))[0].city;return t.includes(a)?t:t+", "+a}return 0===e.matches.length?"ei otteluita)":1===e.matches.length?"1 ottelu)":"".concat(e.matches.length," ottelua)"),console.log(e),l.a.createElement("div",{className:"matchlist-component"},l.a.createElement("div",{className:"matchlist-component--header",onClick:function(){return i(!c)}},l.a.createElement("div",{className:"matchlist-component--header-name"},l.a.createElement("span",null,"venue_name"===e.groupbyItem?r(e.header):e.header),l.a.createElement("span",{className:"matchlist-component--header-count"},l.a.createElement(w,{count:e.matches.length}))),l.a.createElement("div",null,l.a.createElement("i",{className:c?"arrow-up":"arrow-down"}))),c?e.matches.map((function(t){return l.a.createElement("div",{key:t._id,className:"matchlist-component--match-details"},l.a.createElement("div",{className:"matchlist-component--match-details--whenwhere"},l.a.createElement("div",{className:"matchlist-component--match-details--whenwhere-when"},"date"!==e.groupbyItem?l.a.createElement("span",{className:"matchlist-component--match-details-date"},t.date):l.a.createElement("span",null),l.a.createElement("span",{className:"matchlist-component--match-details-time"},t.time)),l.a.createElement("div",{className:"matchlist-component--match-details--whenwhere-where"},"venue_name"!==e.groupbyItem?l.a.createElement("span",{className:"matchlist-component--match-details-venue"},"city"===e.groupbyItem?t.venue_name:r(t.venue_name)):l.a.createElement("span",null),["city","venue_name"].includes(e.groupbyItem)?l.a.createElement("span",null):l.a.createElement("span",{className:"matchlist-component--match-details-city"}))),l.a.createElement("div",{className:"matchlist-component--match-details--who"},l.a.createElement("div",null,"level"!==e.groupbyItem?l.a.createElement("span",{className:"matchlist-component--match-details-level"},t.level):l.a.createElement("span",null)),l.a.createElement("div",{className:"matchlist-component--match-details-team-info"},l.a.createElement("div",{className:"matchlist-component--match-details-home"},t.home_name),l.a.createElement("div",{className:"matchlist-component--match-details-score"},t.score),l.a.createElement("div",{className:"matchlist-component--match-details-away"},t.away_name))))})):l.a.createElement("div",null))}function x(e){var t=Object(n.useState)("date"),a=Object(o.a)(t,2),c=a[0],i=a[1],r=new Set([]);return e.matches.map((function(e){r.add(e[c])})),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"container-box"},l.a.createElement("div",{className:"close-btn",onClick:function(){return e.handleNaviChange("map")}},"X"),l.a.createElement("div",{className:"matchlist-container"},l.a.createElement("div",{className:"matchlist-container--grouping"},l.a.createElement("form",null,l.a.createElement("label",null," ","Ryhmittely: ",l.a.createElement("select",{value:c,onChange:function(e){return i(e.target.value)}},l.a.createElement("option",{value:"date"},"P\xe4iv\xe4m\xe4\xe4r\xe4"),l.a.createElement("option",{value:"level"},"Sarjataso"),l.a.createElement("option",{value:"city"},"Kaupunki"),l.a.createElement("option",{value:"venue_name"},"Kentt\xe4"))))),("date"===c?Array.from(r):Array.from(r).sort()).map((function(t,a){return l.a.createElement(I,{key:t,header:t,groupbyItem:c,matches:e.matches.filter((function(e){return e[c]===t})),itemIsOpen:0===a})})))))}a(71);function J(e){var t=Object(r.a)({},e.selectedLocation);return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"container-box"},l.a.createElement("div",{className:"locationpopup-container"},l.a.createElement("div",{className:"close-btn",onClick:function(){return e.setShowPopup(!1)}},"X"),l.a.createElement("div",{className:"location-address-bar"},l.a.createElement("div",null,l.a.createElement("div",{className:"location-address"},t.address),l.a.createElement("div",{className:"location-address-city"},t.postalcode," ",t.city)),l.a.createElement("div",{className:"location-directions",onClick:function(){return window.open((e=t.lat,a=t.lon,"https://www.google.fi/maps/dir//".concat(e,",").concat(a,"/@").concat(e,",").concat(a,",11z")));var e,a}},l.a.createElement(S,{icon:"directions",definition:"REITTIOHJE"}))),function(){var t=new Set([]);return e.matches.map((function(e){t.add(e.venue_name)})),Array.from(t)}().map((function(t){return l.a.createElement(I,{key:t,header:t,groupbyItem:"venue_name",matches:e.matches.filter((function(e){return e.venue_name===t})),itemIsOpen:!0})})))))}a(72);function A(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],i=a[1],r=Object(O.a)(e.cities);return r.unshift({type:"city",name:"Suomi"}),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"container-box"},l.a.createElement("div",{className:"close-btn",onClick:function(){return e.handleNaviChange("map")}},"X"),l.a.createElement("div",{className:"locate-components"},l.a.createElement(k,{searchText:c,setSearchText:i,placeholder:"etsi kaupunki..."}),l.a.createElement("div",{className:"city-list"},l.a.createElement("ul",null,r.filter((function(e){return e.name.toLowerCase().includes(c.toLowerCase())})).map((function(t){return l.a.createElement("li",{key:t.name},l.a.createElement("span",{onClick:function(){return function(t){e.handleMapCenterChange(t),e.handleNaviChange("map")}(t)}},t.name))})))))))}a(73);function F(e){var t,a=Object(O.a)(e.standings);try{t=a[0].name}catch(S){t="Ongelma haettaessa sarjatilannetta"}var c=Object(n.useState)(t),i=Object(o.a)(c,2),r=i[0],s=i[1],m=Object(n.useState)("points"),u=Object(o.a)(m,2),d=u[0],p=u[1],h=Object(n.useState)(!0),f=Object(o.a)(h,2),E=f[0],v=f[1],g=a.map((function(e){return e.name})),N={played:"O",wins:"V",draws:"T",losses:"H",scored:"TM",conceded:"PM",difference:"+/-",points:"P"};function b(e){console.log(e),d===e?v(!E):(p(e),v(!0))}return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"container-box"},l.a.createElement("div",{className:"close-btn",onClick:function(){return e.handleNaviChange("search")}},"X"),l.a.createElement("div",{className:"standings-container"},l.a.createElement("h3",null,"Sarjatilanne: ",e.selectedStandings.name),g.length>1?l.a.createElement("form",null,l.a.createElement("select",{value:r,onChange:function(e){return s(e.target.value)}},g.map((function(e){return l.a.createElement("option",{value:e},e)})))):"Sarja"!==g[0]?l.a.createElement("span",null,g[0]):l.a.createElement("span",null),function(){var e=a.filter((function(e){return e.name===r})),t={name:r,standings:[]};return e[0].standings.sort((function(e,t){return E?t[d]-e[d]:e[d]-t[d]})).map((function(e){t.standings.push(e)})),[t]}().map((function(e){return l.a.createElement("div",{key:e.name,className:"group-component"},l.a.createElement("table",{className:"standings-group-table"},l.a.createElement("tr",null,l.a.createElement("th",null),l.a.createElement("th",null),Object.keys(N).map((function(e){return e===d?l.a.createElement("th",{onClick:function(){return b(e)}},l.a.createElement("span",null,N[e]," "),E?l.a.createElement("span",null,"\u2193"):l.a.createElement("span",null,"\u2191")):l.a.createElement("th",{onClick:function(){return b(e)}},l.a.createElement("span",null,N[e]))}))),e.standings.map((function(t){return l.a.createElement("tr",{key:t.name,name:t.name,id:"NuPS"===t.name?"standings-container--team-row":""},l.a.createElement("td",null,e.standings.indexOf(t)+1,"."),l.a.createElement("td",{id:t.name},t.team),l.a.createElement("td",null,t.played),l.a.createElement("td",null,t.wins),l.a.createElement("td",null,t.draws),l.a.createElement("td",null,t.losses),l.a.createElement("td",null,t.scored),l.a.createElement("td",null,t.conceded),l.a.createElement("td",null,t.difference),l.a.createElement("td",null,t.points))}))))})))))}a(74);function _(e){return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"container-box"},l.a.createElement("div",{className:"loading-container"},l.a.createElement("div",{className:"loader"},e.loadingText))))}var L=function(){var e=Object(n.useState)({city:"Suomi",lat:63,lon:25}),t=Object(o.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(!1),s=Object(o.a)(i,2),u=s[0],d=s[1],p=Object(n.useState)({}),h=Object(o.a)(p,2),f=h[0],E=h[1],v=Object(n.useState)("search"),O=Object(o.a)(v,2),S=O[0],y=O[1],w=Object(n.useState)([]),k=Object(o.a)(w,2),j=k[0],T=k[1],D=Object(n.useState)([]),I=Object(o.a)(D,2),L=I[0],M=I[1],U=Object(n.useState)([]),K=Object(o.a)(U,2),P=K[0],H=K[1],B=Object(n.useState)([]),G=Object(o.a)(B,2),Q=G[0],X=G[1],R=Object(n.useState)([]),V=Object(o.a)(R,2),z=V[0],W=V[1],Y=Object(n.useState)([]),Z=Object(o.a)(Y,2),$=Z[0],q=Z[1],ee=Object(n.useState)({}),te=Object(o.a)(ee,2),ae=te[0],ne=te[1],le=Object(n.useState)(!1),ce=Object(o.a)(le,2),ie=ce[0],re=ce[1],oe=Object(n.useState)(""),se=Object(o.a)(oe,2),me=se[0],ue=se[1],de=Object(n.useState)(""),pe=Object(o.a)(de,2),he=pe[0],fe=pe[1],Ee=Object(n.useState)({}),ve=Object(o.a)(Ee,2),ge=ve[0],Ne=ve[1];function be(e){y(e)}function Oe(e){m.a.get("api/"+e).then((function(t){"teams"===e&&T(t.data.filter((function(e){return e.name.charAt(0)>"9"}))),"cities"===e&&M(t.data.filter((function(e){return null!==e.name}))),"levels"===e&&H(t.data),"info"===e&&Ne(t.data[0])})).catch((function(e){return console.log(e)}))}return Object(n.useEffect)((function(){Oe("cities"),Oe("levels"),Oe("teams"),Oe("info")}),[]),l.a.createElement("div",{className:"App"},l.a.createElement(g,{mapCenter:a,locations:z,matches:Q,handleLocationPopup:function(e){E(e),d(!0)}}),u?l.a.createElement(J,{setShowPopup:d,selectedLocation:f,matches:Q.filter((function(e){return e.location_id===f._id}))}):l.a.createElement("div",null),l.a.createElement(N,{naviSelected:S,handleNaviChange:be,numMatches:Q.length}),"eye"===S?l.a.createElement(A,{cities:L,handleMapCenterChange:function(e){if("Suomi"===e.name)c({city:"Suomi",lat:63,lon:25});else{var t={city:Object(r.a)({},e)};m.a.post("/api/citycoordinates",t).then((function(e){c(e.data[0])})).catch((function(e){return console.log(e)}))}},handleNaviChange:be}):l.a.createElement("div",null),l.a.createElement(C,{naviSelected:S,teams:j,cities:L,levels:P,matches:Q,getMatches:function(e,t){re(!0),ue("Haetaan otteluita...");var a={};""!==e&&(a.dates=e),t.length>0&&t.map((function(e){a[e.type]=[],a[e.type].push({name:e.name})})),m.a.post("/api/matches",a).then((function(e){X(e.data);var t=new Set([]);return e.data.map((function(e){return t.add(e.location_id)})),Array.from(t)})).then((function(e){e.length>0?m.a.get("/api/locations?ids="+e.join(",")).then((function(e){W(e.data),console.log(e.data.length)})).catch((function(e){return console.log(e)})):(W([]),X([]))})).then((function(){re(!1),ue("")})).catch((function(e){console.log(e),re(!1),ue(""),fe("Ongelma ilmeni haettaessa otteluita."),setTimeout((function(){return fe("")}),6e3)}))},handleNaviChange:be,getStandings:function(e){re(!0),ue("Haetaan sarjatilannetta...");var t={standings:e};m.a.post("/api/standings",t).then((function(t){console.log(t.data),q(t.data),ne(e)})).then((function(){re(!1),ue("")})).catch((function(e){console.log(e),be("search"),re(!1),ue(""),fe("Ongelma ilmeni haettaessa sarjatilannetta."),setTimeout((function(){return fe("")}),6e3)}))},isLoading:ie,loadingText:me,errorText:he}),"info"===S?l.a.createElement(b,{handleNaviChange:be,DBinfo:ge}):l.a.createElement("div",null),"list-ul"===S?ie?l.a.createElement(_,{loadingText:me}):0===Q.length?be("search"):l.a.createElement(x,{matches:Q,handleNaviChange:be}):l.a.createElement("div",null),"standings"===S?ie?l.a.createElement(_,{loadingText:me}):l.a.createElement(F,{standings:$,selectedStandings:ae,handleNaviChange:be}):l.a.createElement("div",null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.f1d11433.chunk.js.map