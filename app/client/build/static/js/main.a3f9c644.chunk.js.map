{"version":3,"sources":["reducers/initialDataReducer.js","reducers/matchesReducer.js","reducers/dateReducer.js","reducers/mapReducer.js","reducers/selectionReducer.js","store.js","reducers/searchTextReducer.js","actions/intialData.js","actions/matchesData.js","actions/selectionData.js","components/SearchfieldComponent2.js","components/AreaList.js","actions/mapSettings.js","components/LocateComponent.js","actions/searchText.js","components/IconComponent.js","components/LocationDetailsComponent.js","components/MapLayersComponent.js","components/MapComponent.js","services/dateService.js","components/MenuItem.js","actions/dateData.js","components/CalendarComponent.js","components/InfoComponent.js","components/ToggleSwitch.js","services/enabledFeatures.js","components/FilterItem.js","components/FilterGroup.js","components/SearchList.js","components/TopMenuComponent.js","components/ContentMenuComponent.js","components/ContentComponent.js","components/NotificationComponent.js","components/CountBadgeComponent.js","components/StandingsTableComponent.js","components/MatchPreviewComponent.js","components/MatchListItemsComponent.js","components/MatchlistComponent.js","components/LocationMatchlistComponent.js","components/StandingsComponent.js","App.js","serviceWorker.js","index.js"],"names":["initialState","Date","toJSON","split","getInitialVisibleFilters","JSON","parse","window","localStorage","getItem","getInitialSelectedFilters","reducer","combineReducers","areas","state","action","type","data","levels","teams","info","citySearchText","itemSearchText","matches","locations","dateFrom","dateTo","mapCenter","isLoadingMatches","selectedLocation","selectedItem","searchConditions","matchesLimitNotification","visibleFilters","selectedFilters","store","createStore","applyMiddleware","thunk","getInitialData","name","dispatch","a","axios","get","res","getMatchesData","dates","filters","length","map","filter","push","searchData","includes","post","setVisibleFilters","setItem","stringify","setSelectedFilters","Searchfield","props","className","isActive","icon","value","searchText","placeholder","onChange","e","handleText","target","onFocus","handleSelect","autoFocus","AreaList","useSelector","concat","area","toLowerCase","useDispatch","handleMapCenterChange","item","type_name","setMapCenter","key","onClick","Locate","useState","isOpen","setIsOpen","text","setCitySearchText","IconDiv","definition","LocationDetails","location","address","postalcode","postoffice","open","lat","lon","MapLayers","showLayers","setShowLayers","selectedSports","handleSelectedSports","L","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","footballMarker","divIcon","html","iconSize","iconAnchor","popupAnchor","futsalMarker","basketballMarker","volleyballMarker","handballMarker","getMarker","sport","Map","setSelectedSports","history","useHistory","displayTeamName","slice","s","rel","href","center","zoom","city","innerWidth","getZoom","attributionControl","zoomControl","doubleClickZoom","scrollWheelZoom","dragging","animate","easeLinearity","TileLayer","url","l","Marker","_id","position","opacity","onclick","handleLocationPopup","Popup","locationMatches","levelSet","Set","m","add","level","Array","from","match","matchesByLevel","location_id","home_name","score","away_name","to","style","textDecoration","document","getElementById","scrollIntoView","behavior","block","ZoomControl","displayD","date","parseInt","displayDM","month","displayDMY","year","displayDates","MenuItem","setTimeout","count","children","id","setDateFrom","setDateTo","Calendar","today","years","getFullYear","handleCalClick","day","getTime","isOtherMonth","useEffect","join","tDay","getDay","setDate","getDate","nwMonday","nwSunday","tday","lastDayOfMonth","nmFirstday","nmLastDay","tyLastDay","handleDateRangeOption","calData","yearData","toString","monthDays","thisMonth","thisYear","daysInMonth","startDay","endDay","i","theDay","theMonth","getMonth","theYear","cal","j","getCalforMonth","getCalData","table","week","index","isBetweenSelected","isOtherYear","Info","football","futsal","basketball","volleyball","handball","ToggleSwitch","isSelected","handleSelection","standingsEnabled","FilterItem","showOptions","setShowOptions","getMatches","handleClose","toUpperCase","FilterGroup","f","useDefaultFilters","defaultFilterTypes","useNewFilters","newFilterTypes","vfilters","removeVisibleFilter","class","notification","SearchList","items","numItems","handleFilterSelection","showMoreItems","TopMenu","isMenuOpen","setIsMenuOpen","setSelectedItem","searchIsActive","setSearchIsActive","setNumItems","handleMenu","displayCount","typeList","setItemSearchText","every","Content","selectedContent","setSelectedContent","useLocation","handleContent","selected","pathname","Notification","CountBadge","StandingsTable","selectedSort","setSelectedSort","sortDescending","setSortDescending","standings","selectedGroup","headings","applySort","header","standingsByGroup","g","sort","b","sortedStandingsByGroup","group","Object","keys","heading","team","indexOf","played","wins","draws","losses","scored","conceded","difference","points","MatchPreview","showStandings","setShowStandings","previousMatches","setPreviousMatches","setStandings","matchesError","setMatchesError","standingsError","setStandingsError","getResult","homeScore","awayScore","isUpcomingMatch","y","d","then","catch","error","console","log","getPreviewData","reverse","data2","err","getStandings","MatchListItems","itemIsOpen","setItemIsOpen","selectedMatches","setSelectedMatches","numMatches","setNumMatches","displayVenue","venue","venue_name","groupbyItem","time","matchDate","tyear","tmonth","x","MatchList","setGroupByItem","groupbySet","handleItemIsOpen","size","LocationMatchlist","venues","getVenues","Standings","setSelectedGroup","isLoading","setIsLoading","setError","groups","finally","App","exact","path","render","Boolean","hostname","ReactDOM","StrictMode","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.a3f9c644.chunk.js","sourcesContent":["const initialState = []\r\n\r\nexport const areaReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_AREAS':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const levelReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_LEVELS':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const teamReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_TEAMS':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const infoReducer = (state = null, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_INFO':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}","const initialState = []\r\n\r\nexport const matchesReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_MATCHES':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const locationsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_LOCATIONS':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const isLoadingMatchesReducer = (state = false, action) => {\r\n    switch (action.type) {\r\n        case 'SET_IS_LOADING':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const matchesLimitNotificationReducer = (state = false, action) => {\r\n    switch (action.type) {\r\n        case 'SET_MATCHES_LIMIT_NOTIFICATION':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}","const initialState = new Date().toJSON().split('T')[0]\r\n\r\nexport const dateFromReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'SET_DATE_FROM':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const dateToReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'SET_DATE_TO':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}","const initialState = {'city': 'Suomi', 'lat': 63, 'lon': 25}\r\n\r\nexport const mapCenterReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'SET_MAP_CENTER':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}","function getInitialVisibleFilters() {\r\n    if (JSON.parse(window.localStorage.getItem('visibleFilters'))) {\r\n        return JSON.parse(window.localStorage.getItem('visibleFilters'))\r\n    }\r\n    return [\r\n        {'type': 'grandarea', 'name': 'Helsinki-Uusimaa'},\r\n        {'type': 'grandarea', 'name': 'Etelä-Suomi'},\r\n        {'type': 'grandarea', 'name': 'Länsi-Suomi'},\r\n        {'type': 'grandarea', 'name': 'Pohjois- ja Itä-Suomi'},\r\n        {'type': 'grandarea', 'name': 'Ahvenanmaa'},\r\n        {'type': 'sport', 'name': 'Jalkapallo'},\r\n        {'type': 'sport', 'name': 'Futsal'},\r\n        {'type': 'sport', 'name': 'Koripallo'},\r\n        {'type': 'sport', 'name': 'Lentopallo'},\r\n        {'type': 'sport', 'name': 'Käsipallo'}\r\n    ]\r\n}\r\n\r\nfunction getInitialSelectedFilters() {\r\n    if (JSON.parse(window.localStorage.getItem('selectedFilters'))) {\r\n        return JSON.parse(window.localStorage.getItem('selectedFilters'))\r\n    }\r\n    return []\r\n}\r\n\r\nexport const visibleFiltersReducer = (state = getInitialVisibleFilters(), action) => {\r\n    switch (action.type) {\r\n        case 'SET_VISIBLE_FILTERS':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const selectedFiltersReducer = (state = getInitialSelectedFilters(), action) => {\r\n    switch (action.type) {\r\n        case 'SET_SELECTED_FILTERS':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const selectedLocationReducer = (state = null, action) => {\r\n    switch (action.type) {\r\n        case 'SET_SELECTED_LOCATION':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const selectedItemReducer = (state = null, action) => {\r\n    switch (action.type) {\r\n        case 'SET_SELECTED_ITEM':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const searchConditionsReducer = (state = null, action) => {\r\n    switch (action.type) {\r\n        case 'SET_SEARCH_CONDITIONS':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\n\r\nimport { areaReducer, \r\n         levelReducer, \r\n         teamReducer, \r\n         infoReducer } from './reducers/initialDataReducer'\r\n\r\nimport { citySearchReducer, \r\n         itemSearchReducer } from './reducers/searchTextReducer'\r\nimport { matchesReducer, \r\n         locationsReducer, \r\n         isLoadingMatchesReducer, \r\n         matchesLimitNotificationReducer } from './reducers/matchesReducer'\r\nimport { dateFromReducer, dateToReducer } from './reducers/dateReducer'\r\nimport { mapCenterReducer } from './reducers/mapReducer'\r\nimport { selectedLocationReducer,\r\n         selectedItemReducer, \r\n         searchConditionsReducer, \r\n         visibleFiltersReducer, \r\n         selectedFiltersReducer } from './reducers/selectionReducer'\r\n\r\nconst reducer = combineReducers({\r\n    areas: areaReducer,\r\n    levels: levelReducer,\r\n    teams: teamReducer,\r\n    info: infoReducer,\r\n    citySearchText: citySearchReducer,\r\n    itemSearchText: itemSearchReducer,\r\n    matches: matchesReducer,\r\n    locations: locationsReducer,\r\n    dateFrom: dateFromReducer,\r\n    dateTo: dateToReducer,\r\n    mapCenter: mapCenterReducer,\r\n    isLoadingMatches: isLoadingMatchesReducer,\r\n    selectedLocation: selectedLocationReducer,\r\n    selectedItem: selectedItemReducer,\r\n    searchConditions: searchConditionsReducer,\r\n    matchesLimitNotification: matchesLimitNotificationReducer,\r\n    visibleFilters: visibleFiltersReducer,\r\n    selectedFilters: selectedFiltersReducer\r\n})\r\n\r\nexport const store = createStore(reducer, applyMiddleware(thunk))","const initialState = ''\r\n\r\nexport const citySearchReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'SET_CITY_SEARCH_TEXT':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const itemSearchReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'SET_ITEM_SEARCH_TEXT':\r\n            return action.data\r\n        default:\r\n            return state\r\n    }\r\n}","import axios from 'axios';\r\n\r\nexport const getInitialData = (name) => async dispatch => {\r\n    const res = await axios.get('api/'+name)\r\n    \r\n    if (name === 'teams') {\r\n        dispatch({\r\n            type: 'ADD_TEAMS',\r\n            data: res.data\r\n        })\r\n    }\r\n    if (name === 'areas') {\r\n        dispatch({\r\n            type: 'ADD_AREAS',\r\n            data: res.data\r\n        })\r\n    }\r\n    if (name === 'levels') {\r\n        dispatch({\r\n            type: 'ADD_LEVELS',\r\n            data: res.data\r\n        })\r\n    }\r\n    if (name === 'info') {\r\n        dispatch({\r\n            type: 'ADD_INFO',\r\n            data: res.data[0]\r\n        })\r\n    }\r\n}","import axios from 'axios';\r\n\r\nexport const getMatchesData = (dates, filters) => async dispatch => {\r\n\r\n    dispatch({\r\n      type: 'SET_IS_LOADING',\r\n      data: true\r\n    })\r\n\r\n    dispatch({\r\n      type: 'SET_SELECTED_LOCATION',\r\n      data: null\r\n    })\r\n\r\n    let data = {}\r\n\r\n    if (dates !== '') {\r\n      data['dates'] = dates\r\n    }\r\n    if (filters.length > 0) {\r\n      filters.map(filter => {\r\n        if (!data[filter.type]) {\r\n          data[filter.type] = []\r\n        }\r\n        data[filter.type].push({ \"name\": filter.name })\r\n      })\r\n    }\r\n\r\n    /*\r\n    if (sportsFilters.length > 0) {\r\n      data['sport'] = []\r\n      sportsFilters.map(sport => data['sport'].push(sport))\r\n    }\r\n    */\r\n\r\n    let searchData = {}\r\n    searchData['dates'] = dates\r\n    //searchData['sportsFilters'] = sportsFilters\r\n    searchData['filters'] = filters\r\n\r\n    let selectedItem = null\r\n\r\n    if (filters.length === 1 && ['level','team'].includes(filters[0].type)) {\r\n      selectedItem = filters[0]\r\n    }\r\n    \r\n    try {\r\n      const matches = await axios.post('/api/matches', data)\r\n\r\n      dispatch({\r\n        type: 'ADD_MATCHES',\r\n        data: matches.data.matches\r\n      })\r\n\r\n      dispatch({\r\n          type: 'ADD_LOCATIONS',\r\n          data: matches.data.locations\r\n      })\r\n\r\n      dispatch({\r\n        type: 'SET_SEARCH_CONDITIONS',\r\n        data: searchData\r\n      })\r\n\r\n      dispatch({\r\n        type: 'SET_SELECTED_ITEM',\r\n        data: selectedItem\r\n      })\r\n\r\n      if (matches.data.matches.length === 1100) {\r\n        dispatch({\r\n          type: 'SET_MATCHES_LIMIT_NOTIFICATION',\r\n          data: true\r\n        })\r\n      }\r\n    } catch (error) {\r\n\r\n    } finally {\r\n      dispatch({\r\n        type: 'SET_IS_LOADING',\r\n        data: false\r\n      })\r\n    }\r\n}\r\n\r\nexport const setMatchesLimitNotification = (selection) => {\r\n  return {\r\n      type: 'SET_MATCHES_LIMIT_NOTIFICATION',\r\n      data: selection\r\n  }\r\n}","export const setVisibleFilters = (filters) => {\r\n    window.localStorage.setItem('visibleFilters', JSON.stringify(filters))\r\n    return {\r\n        type: 'SET_VISIBLE_FILTERS',\r\n        data: filters\r\n    }\r\n}\r\n\r\nexport const setSelectedFilters = (filters) => {\r\n    window.localStorage.setItem('selectedFilters', JSON.stringify(filters))\r\n    return {\r\n        type: 'SET_SELECTED_FILTERS',\r\n        data: filters\r\n    }\r\n}\r\n\r\nexport const setSelectedLocation = (item) => {\r\n    return {\r\n        type: 'SET_SELECTED_LOCATION',\r\n        data: item\r\n    }\r\n}","import React from 'react';\r\nimport './SearchfieldComponent2.css'\r\n\r\nexport default function Searchfield(props) {\r\n\r\n    return (\r\n        <div className='searchfield2-component'>\r\n            <div className={props.isActive ? 'searchfield2-items':'searchfield2-items-iconmode'}>\r\n                <i className={`fas fa-${props.icon} icon`}></i>\r\n                {props.isActive ?\r\n                <input\r\n                    type=\"search\"\r\n                    value={props.searchText}\r\n                    placeholder={props.placeholder}\r\n                    onChange={(e) => props.handleText(e.target.value)}\r\n                    onFocus={() => props.handleSelect('search')}\r\n                    autoFocus\r\n                />\r\n                :\r\n                <div className='search-field-iconmode'></div>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { setMapCenter } from '../actions/mapSettings'\r\nimport './AreaList.css'\r\n\r\nexport default function AreaList(props) {\r\n\r\n    const defaultArea = [{'type': 'area', 'name': 'Suomi'}]\r\n    const searchText = useSelector(state => state.citySearchText)\r\n    const availableAreas = defaultArea.concat(useSelector(state => state.areas))\r\n    const areas = availableAreas.filter(area => area.name.toLowerCase().includes(searchText.toLowerCase()))\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    function handleMapCenterChange(item) {\r\n        dispatch(setMapCenter(item))\r\n    }\r\n\r\n    return (\r\n        <div className='area-list-component'>\r\n            {areas.map(area =>\r\n            <div\r\n                key={area.name}\r\n                className='area-list-item'\r\n                onClick={() => handleMapCenterChange(area)}\r\n            >\r\n                {area.name}\r\n            </div>\r\n            )}\r\n        </div>\r\n    )\r\n}","import axios from 'axios';\r\n\r\nexport const setMapCenter = (item) => async dispatch => {\r\n\r\n    if (item.name === 'Suomi') {\r\n        dispatch({\r\n            type: 'SET_MAP_CENTER',\r\n            data: {'city': 'Suomi', 'lat': 63, 'lon': 25}\r\n        })\r\n    } else {        \r\n        const type_name = item['type']\r\n\r\n        const area = {}\r\n        area[type_name] = {...item}\r\n\r\n        const res = await axios.post('/api/areacoordinates', area)\r\n        \r\n        dispatch({\r\n            type: 'SET_MAP_CENTER',\r\n            data: res.data[0]\r\n        })\r\n    }\r\n}","import React, { useState } from 'react'\r\nimport {useSelector, useDispatch} from 'react-redux'\r\nimport { setCitySearchText } from '../actions/searchText'\r\nimport './LocateComponent.css'\r\nimport Searchfield from './SearchfieldComponent2'\r\nimport AreaList from './AreaList'\r\n\r\nexport default function Locate() {\r\n\r\n    const [isOpen, setIsOpen] = useState(false)\r\n    const { citySearchText } = useSelector(state => state)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    function activateSearch() {\r\n        setIsOpen(true)\r\n    }\r\n\r\n    function closeSearch() {\r\n        setIsOpen(false)\r\n    }\r\n\r\n    function handleText(text) {\r\n        dispatch(setCitySearchText(text))\r\n    }\r\n\r\n    return (\r\n        <div className='locate-component'>\r\n            <div className='locate-search'>\r\n                <div onClick={() => activateSearch()}>\r\n                <Searchfield\r\n                    searchText={citySearchText}\r\n                    handleText={handleText}\r\n                    icon={'eye'}\r\n                    handleSelect={() => {}}\r\n                    isActive={isOpen}\r\n                />\r\n                </div>\r\n                {isOpen &&\r\n                <div\r\n                    className='locate-close-btn'\r\n                    onClick={() => closeSearch()}\r\n                >\r\n                    <i className='fas fa-times'></i>\r\n                </div>\r\n                }\r\n            </div>\r\n            {isOpen &&\r\n            <div\r\n                className='locate-list'\r\n            >\r\n                <AreaList />\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}","export const setCitySearchText = (text) => {\r\n    return {\r\n        type: 'SET_CITY_SEARCH_TEXT',\r\n        data: text\r\n    }\r\n}\r\n\r\nexport const setItemSearchText = (text) => {\r\n    return {\r\n        type: 'SET_ITEM_SEARCH_TEXT',\r\n        data: text\r\n    }\r\n}","import React from 'react';\r\nimport './IconComponent.css';\r\n\r\nexport default function IconDiv(props) {\r\n    return (\r\n        <div className='icon-component'>\r\n            <div>\r\n                <i className={\"fas fa-\"+props.icon}></i>\r\n            </div>\r\n            <div className='icon-component--definition'>\r\n                {props.definition}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport './LocationDetailsComponent.css'\r\nimport IconDiv from './IconComponent'\r\n\r\nexport default function LocationDetails(props) {\r\n\r\n    const location = props.location\r\n\r\n    function getDirections(lat,lon) {\r\n        let url = `https://www.google.fi/maps/dir//${lat},${lon}/@${lat},${lon},11z`\r\n        return url\r\n    }\r\n\r\n    return (\r\n        <div className='location-details-component'>\r\n            <div className='location-address'>\r\n                <div>\r\n                    {location.address}\r\n                </div>\r\n                <div>\r\n                    {location.postalcode} {location.postoffice}\r\n                </div>\r\n            </div>\r\n            <div\r\n                className='location-directions'\r\n                onClick={() => window.open(getDirections(location.lat,location.lon))}\r\n            >\r\n                <IconDiv \r\n                    icon={'directions'}\r\n                    definition={'REITTIOHJE'}\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport './MapLayersComponent.css'\r\n\r\nexport default function MapLayers(props) {\r\n\r\n    const [showLayers, setShowLayers] = useState(false)\r\n    \r\n    function toggleLayers() {\r\n        setShowLayers(!showLayers)\r\n    }\r\n\r\n    return(\r\n        <div className='map-layers-component'>\r\n            <div className='layers-indicator' onClick={() => toggleLayers()}>\r\n                {showLayers ?\r\n                <div key='open'>\r\n                    <i className='fas fa-times'></i>\r\n                </div>\r\n                :\r\n                <div key='close'>\r\n                    <i className='fas fa-layer-group'></i>\r\n                </div>\r\n                }\r\n            </div>\r\n            {showLayers &&\r\n            <div className='layers-sports'>\r\n                <span \r\n                    className={props.selectedSports.includes('Jalkapallo') ? 'sport-item-selected football-layer':'sport-item'}\r\n                    onClick={() => props.handleSelectedSports('Jalkapallo')}\r\n                >\r\n                    <i className=\"fas fa-futbol\"></i> Jalkapallo\r\n                </span>\r\n                <span \r\n                    className={props.selectedSports.includes('Futsal') ? 'sport-item-selected futsal-layer':'sport-item'}\r\n                    onClick={() => props.handleSelectedSports('Futsal')}\r\n                >\r\n                    <i className=\"far fa-futbol\"></i> Futsal\r\n                </span>\r\n                <span \r\n                    className={props.selectedSports.includes('Koripallo') ? 'sport-item-selected basketball-layer':'sport-item'}\r\n                    onClick={() => props.handleSelectedSports('Koripallo')}\r\n                >\r\n                    <i className=\"fas fa-basketball-ball\"></i> Koripallo\r\n                </span>\r\n                <span \r\n                    className={props.selectedSports.includes('Lentopallo') ? 'sport-item-selected volleyball-layer':'sport-item'}\r\n                    onClick={() => props.handleSelectedSports('Lentopallo')}\r\n                >\r\n                    <i className=\"fas fa-volleyball-ball\"></i> Lentopallo\r\n                </span>\r\n                <span \r\n                    className={props.selectedSports.includes('Käsipallo') ? 'sport-item-selected handball-layer':'sport-item'}\r\n                    onClick={() => props.handleSelectedSports('Käsipallo')}\r\n                >\r\n                    <i className=\"fas fa-baseball-ball\"></i> Käsipallo\r\n                </span>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useHistory, Link } from 'react-router-dom'\r\nimport { setSelectedLocation } from '../actions/selectionData'\r\nimport { Map as LeafletMap, TileLayer, Marker, Popup, ZoomControl } from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport './MapComponent.css';\r\nimport Locate from './LocateComponent'\r\nimport LocationDetails from './LocationDetailsComponent'\r\nimport MapLayers from './MapLayersComponent'\r\n\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\n\r\nL.Icon.Default.mergeOptions({\r\n    iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\r\n    iconUrl: require('leaflet/dist/images/marker-icon.png'),\r\n    shadowUrl: require('leaflet/dist/images/marker-shadow.png')\r\n});\r\n\r\nconst footballMarker = L.divIcon({\r\n    html: '<div class=\"custom-marker-div\"><i class=\"fas fa-futbol\"></i></div>',\r\n    iconSize: [30, 30],\r\n    iconAnchor: [15, 40],\r\n    popupAnchor: [0, -30],\r\n    className: 'custom-marker football-marker'\r\n})\r\n\r\nconst futsalMarker = L.divIcon({\r\n    html: '<div class=\"custom-marker-div\"><i class=\"far fa-futbol\"></i></div>',\r\n    iconSize: [30, 30],\r\n    iconAnchor: [15, 40],\r\n    popupAnchor: [0, -30],\r\n    className: 'custom-marker futsal-marker'\r\n})\r\n\r\nconst basketballMarker = L.divIcon({\r\n    html: '<div class=\"custom-marker-div\"><i class=\"fas fa-basketball-ball\"></i></div>',\r\n    iconSize: [30, 30],\r\n    iconAnchor: [15, 40],\r\n    popupAnchor: [0, -30],\r\n    className: 'custom-marker basketball-marker'\r\n})\r\n\r\nconst volleyballMarker = L.divIcon({\r\n    html: '<div class=\"custom-marker-div\"><i class=\"fas fa-volleyball-ball\"></i></div>',\r\n    iconSize: [30, 30],\r\n    iconAnchor: [15, 40],\r\n    popupAnchor: [0, -30],\r\n    className: 'custom-marker volleyball-marker'\r\n})\r\n\r\nconst handballMarker = L.divIcon({\r\n    html: '<div class=\"custom-marker-div\"><i class=\"fas fa-baseball-ball\"></i></div>',\r\n    iconSize: [30, 30],\r\n    iconAnchor: [15, 40],\r\n    popupAnchor: [0, -30],\r\n    className: 'custom-marker handball-marker'\r\n})\r\n\r\nfunction getMarker(sport) {\r\n    switch(sport) {\r\n        case 'Jalkapallo':\r\n          return footballMarker\r\n        case 'Futsal':\r\n          return futsalMarker\r\n        case 'Koripallo':\r\n          return basketballMarker\r\n        case 'Lentopallo':\r\n            return volleyballMarker\r\n        case 'Käsipallo':\r\n            return handballMarker\r\n        default:\r\n            return footballMarker\r\n      }\r\n}\r\n\r\nexport default function Map() {\r\n\r\n    const { mapCenter, matches, locations, isLoadingMatches } = useSelector(state => state)\r\n    const [ selectedSports, setSelectedSports ] = useState(['Jalkapallo','Futsal','Koripallo','Lentopallo','Käsipallo'])\r\n\r\n    const history = useHistory()\r\n    const dispatch = useDispatch()\r\n\r\n    function getZoom() {\r\n        let zoom;\r\n        if (mapCenter.city !== 'Suomi') {\r\n            zoom = 11\r\n        } else {\r\n            zoom = 6\r\n        }\r\n\r\n        if (window.innerWidth <= 600) {\r\n            return zoom-1\r\n        }\r\n        return zoom\r\n    }\r\n\r\n    function handleLocationPopup(location) {\r\n        dispatch(setSelectedLocation(location))\r\n        history.push('/locationmatchlist', location)\r\n    }\r\n\r\n    function goToLocationDetails() {\r\n        document.getElementById('content-menu').scrollIntoView({behavior: \"smooth\", block: \"start\"})\r\n    }\r\n\r\n    function displayTeamName(name) {\r\n        if (name.length > 8) {\r\n            return name.slice(0,8) + '...'\r\n        }\r\n        return name\r\n    }\r\n\r\n    function handleSelectedSports(sport) {\r\n        if (selectedSports.includes(sport)) {\r\n            setSelectedSports([...selectedSports].filter(s => s !== sport))\r\n        } else {\r\n            setSelectedSports([...selectedSports, sport])\r\n        }\r\n    }\r\n\r\n    function matchesByLevel(locationMatches) {\r\n        let levelSet = new Set([])\r\n        locationMatches.map(m => levelSet.add(m.level))\r\n\r\n        let levels = []\r\n\r\n        Array.from(levelSet).map(level => {\r\n            let data = {}\r\n            data['name'] = level\r\n            data['matches'] = []\r\n\r\n            locationMatches.filter(m => m.level === level).map(match => {\r\n                data['matches'].push(match)\r\n            })\r\n\r\n            levels.push(data)\r\n        })\r\n\r\n        return levels\r\n    }\r\n\r\n    return (\r\n        <div className='map-container'>\r\n            {isLoadingMatches &&\r\n            <div className='loader-div'>\r\n                <div className='loader'>LADATAAN OTTELUITA...</div>\r\n            </div>\r\n            }\r\n            <Locate />\r\n            <MapLayers selectedSports={selectedSports} handleSelectedSports={handleSelectedSports} />\r\n            <link rel=\"stylesheet\" href=\"//cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/leaflet.css\" />\r\n            <LeafletMap\r\n                center={[mapCenter.lat, mapCenter.lon]}\r\n                zoom={getZoom()}\r\n                attributionControl={true}\r\n                zoomControl={false}\r\n                doubleClickZoom={true}\r\n                scrollWheelZoom={true}\r\n                dragging={true}\r\n                animate={true}\r\n                easeLinearity={0.35}\r\n            >\r\n                <TileLayer\r\n                url='http://{s}.tile.osm.org/{z}/{x}/{y}.png'\r\n                />\r\n                {locations.filter(l => selectedSports.includes(l.sport)).map(location =>\r\n                <Marker\r\n                    key={location._id}\r\n                    position={[location.lat,location.lon]}\r\n                    opacity={0.9}\r\n                    onclick={() => handleLocationPopup(location)}\r\n                    icon={getMarker(location.sport)}\r\n                >\r\n                    <Popup className='request-popup'>\r\n                        <LocationDetails location={location} />\r\n                        <div className='location-sport'>{location.sport}</div>\r\n                        <div className='matches-list'>\r\n                            {matchesByLevel(matches.filter(m => m.location_id === location._id)).map(level =>\r\n                            <div key={level.name} className='level-card'>\r\n                            <div className='level-card-title'>{level.name}</div>\r\n                            {level.matches.map(match =>\r\n                                <div key={match._id} className='level-card-matches'>\r\n                                    <span className='level-card-matches-home'>{displayTeamName(match.home_name)}</span>\r\n                                    <span className='level-card-matches-score'>{match.score.split(' ')[0]}</span>\r\n                                    <span className='level-card-matches-away'>{displayTeamName(match.away_name)}</span>\r\n                                </div>\r\n                            )}\r\n                            </div>\r\n                            )}\r\n                        </div>\r\n                        <Link to='/locationmatchlist' style={{textDecoration:'none'}}>\r\n                            <div className='go-to-details' onClick={() => goToLocationDetails()}>\r\n                                Näytä tarkat ottelutiedot\r\n                            </div>\r\n                        </Link>\r\n                    </Popup>\r\n                </Marker>\r\n                )}\r\n                <ZoomControl position='bottomright' />\r\n            </LeafletMap>\r\n        </div>\r\n    )\r\n}","const displayD = (date) => {\r\n    let day = parseInt(date.split('-')[2])\r\n    return day + '.'\r\n}\r\n\r\nconst displayDM = (date) => {\r\n    let month = parseInt(date.split('-')[1])\r\n    let day = parseInt(date.split('-')[2])\r\n    return day + '.' + month + '.'\r\n}\r\n\r\nexport const displayDMY = (date) => {\r\n    let year = date.split('-')[0]\r\n    let month = parseInt(date.split('-')[1])\r\n    let day = parseInt(date.split('-')[2])\r\n    return day + '.' + month + '.' + year \r\n}\r\n\r\nexport const displayDates = (from, to, year=true ) => {\r\n    if (from === to) {\r\n        return year ? displayDMY(from) : displayDM(from)\r\n    } else if (from.split('-')[0] === to.split('-')[0]) {\r\n        if (from.split('-')[1] === to.split('-')[1]) {\r\n            return year ? displayD(from) + ' - ' + displayDMY(to) : displayD(from) + ' - ' + displayDM(to)\r\n        } else {\r\n            return year ? displayDM(from) + ' - ' + displayDMY(to) : displayDM(from) + ' - ' + displayDM(to)\r\n        }\r\n    } else {\r\n        return year ? displayDMY(from) + ' - ' + displayDMY(to) : displayDM(from) + ' - ' + displayDM(to)\r\n    }\r\n}","import React, { useState } from 'react'\r\nimport './MenuItem.css'\r\n\r\nexport default function MenuItem(props) {\r\n\r\n    const [isOpen, setIsOpen] = useState(false)\r\n\r\n    function toggleItem() {\r\n        if (isOpen === true) {\r\n            document.getElementById('menu-item-content').className = 'menu-item-content-on-close'\r\n            setTimeout(() => { setIsOpen(!isOpen) }, 400)\r\n        } else {\r\n            setIsOpen(!isOpen)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='menu-item-component'>\r\n            <div\r\n                className={isOpen ? 'menu-item-selected':'menu-item'}\r\n                onClick={() => props.onClick ? props.onClick() : toggleItem()}\r\n            >\r\n                <div className='menu-item-header'>\r\n                    <div className='menu-item-icon'>\r\n                        <i className={\"fas fa-\"+props.icon}></i>\r\n                    </div>\r\n                    <div className={props.count ? 'menu-item-definition':'menu-item-definition-expanded'}>\r\n                        {props.definition}\r\n                    </div>\r\n                    {props.count &&\r\n                    <div className='menu-item-count'>\r\n                        {props.count}\r\n                    </div>\r\n                    }\r\n                </div>\r\n                <div className='menu-item-content-indicator'>\r\n                    <i className={props.children ? isOpen ? 'arrow-up':'arrow-down' : ''}></i>\r\n                </div>\r\n            </div>\r\n            {props.children && isOpen &&\r\n            <div id='menu-item-content' className='menu-item-content'>\r\n                {props.children}\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}","export const setDateFrom = (date) => {\r\n    return {\r\n        type: 'SET_DATE_FROM',\r\n        data: date\r\n    }\r\n}\r\n\r\nexport const setDateTo = (date) => {\r\n    return {\r\n        type: 'SET_DATE_TO',\r\n        data: date\r\n    }\r\n}","import React, { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { setDateFrom, setDateTo } from '../actions/dateData'\r\nimport './CalendarComponent.css'\r\n\r\nexport default function Calendar(props) {\r\n\r\n    const today = new Date().toJSON().split('T')[0]\r\n    const years = [new Date().getFullYear()-1,new Date().getFullYear(),new Date().getFullYear()+1]\r\n\r\n    const dateFrom = useSelector(state => state.dateFrom)\r\n    const dateTo = useSelector(state => state.dateTo)\r\n\r\n    const dispatch = useDispatch()\r\n    \r\n    function getCalData() {\r\n        let calData = []\r\n        years.map(year => {\r\n\r\n            [1,2,3,4,5,6,7,8,9,10,11,12].map(month => {\r\n                let yearData = {'year': year, 'month': month <= 9 ? '0'+month : month.toString()}\r\n                yearData.monthDays = getCalforMonth(month, year)\r\n                calData.push(yearData)\r\n            })\r\n            \r\n        })\r\n        return calData\r\n    }\r\n\r\n    function getCalforMonth(month, year) {\r\n        let thisMonth =  month -1\r\n        let thisYear = year\r\n        let daysInMonth = new Date(thisYear, thisMonth+1, 0).getDate()\r\n        \r\n        let startDay = -(new Date(thisYear, thisMonth, 1).getDay() - 2)\r\n\r\n        if (new Date(thisYear, thisMonth, 1).getDay() === 0) {\r\n            startDay = -5\r\n        }\r\n\r\n        let endDay = daysInMonth + (7 - new Date(thisYear, thisMonth, daysInMonth).getDay())\r\n        let data = []\r\n\r\n        for (let i = startDay; i <= endDay; i++) {\r\n            let theDay = new Date(thisYear, thisMonth, i)\r\n            let day = theDay.getDate()\r\n            day = day <= 9 ? '0'+day : day\r\n            let weekDay = theDay.getDay()\r\n            let theMonth = theDay.getMonth() + 1\r\n            theMonth = theMonth <= 9 ? '0'+theMonth : theMonth\r\n            let theYear = theDay.getFullYear()\r\n            \r\n            data.push({\r\n                'date': theYear + '-' + theMonth + '-' + day\r\n            })\r\n        }\r\n\r\n        let cal = []\r\n        for (let j = 0; j < (data.length/7); j++) {\r\n            cal.push(data.slice(j*7, (j+1)*7))\r\n        }\r\n        return cal\r\n    }\r\n\r\n    const isThisDay = (day) => {\r\n        let getToday = new Date()\r\n        let today = getToday.getFullYear() + '-' + (getToday.getMonth()+1) + '-' + getToday.getDate()\r\n\r\n        return day === today ? true : false\r\n    }\r\n\r\n    function handleCalClick(item) {\r\n        let day = new Date(item).getTime()\r\n        let from = new Date(dateFrom).getTime()\r\n        let to = new Date(dateTo).getTime()\r\n\r\n        if (day < from || from !== to) {\r\n            dispatch(setDateFrom(item))\r\n            dispatch(setDateTo(item))\r\n        } else if (from === to) {\r\n            dispatch(setDateTo(item))\r\n        }\r\n    }\r\n\r\n    function isBetweenSelected(day) {\r\n        if (dateTo === null) {\r\n            if (day === dateFrom) {\r\n                return true\r\n            }\r\n        } else {\r\n            if (day >= dateFrom && day <= dateTo) {\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    }\r\n\r\n    function isOtherMonth(day, month) {\r\n        return parseInt(day.split('-')[1]) !== parseInt(month) ? true : false\r\n    }\r\n\r\n    function isOtherYear(day, year) {\r\n        return parseInt(day.split('-')[0]) !== parseInt(year) ? true : false\r\n    }\r\n\r\n    function handleDateRangeOption(value) {\r\n        if (value === 'today') {\r\n            dispatch(setDateFrom(today))\r\n            dispatch(setDateTo(today))\r\n        }\r\n        if (value === 'this-week') {\r\n            let tDay = new Date()\r\n            dispatch(setDateFrom(today))\r\n            if (tDay.getDay() !== 0) {\r\n                dispatch(setDateTo(new Date(tDay.setDate(tDay.getDate() + (7 - new Date().getDay()))).toJSON().split('T')[0]))\r\n            } else {\r\n                dispatch(setDateTo(today))\r\n            }\r\n        }\r\n        if (value === 'next-week') {\r\n            let nwMonday = new Date(new Date().setDate(new Date().getDate() + (8 - new Date().getDay())))\r\n            let nwSunday = new Date(nwMonday)\r\n            nwSunday.setDate(nwSunday.getDate() + 6)\r\n            dispatch(setDateFrom(nwMonday.toJSON().split('T')[0]))\r\n            dispatch(setDateTo(nwSunday.toJSON().split('T')[0]))\r\n        }\r\n        if (value === 'this-month') {\r\n            dispatch(setDateFrom(today))\r\n            let tday = new Date(today)\r\n            let lastDayOfMonth = new Date(tday.setDate(32))\r\n            lastDayOfMonth = new Date(tday.setDate(0)).toJSON().split('T')[0]\r\n            dispatch(setDateTo(lastDayOfMonth))\r\n        }\r\n        if (value === 'next-month') {\r\n            let nmFirstday = new Date(new Date().setDate(32)).toJSON().split('T')[0]\r\n            let nmLastDay = new Date(new Date(new Date().setDate(64)).setDate(0)).toJSON().split('T')[0]\r\n            dispatch(setDateFrom(nmFirstday))\r\n            dispatch(setDateTo(nmLastDay))\r\n        }\r\n        if (value === 'this-year') {\r\n            let tyLastDay = new Date(new Date().getFullYear(), 11, 32).toJSON().split('T')[0]\r\n            \r\n            dispatch(setDateFrom(today))\r\n            dispatch(setDateTo(tyLastDay))\r\n        }\r\n    }\r\n\r\n    function displayMonth(month) {\r\n        const names = {\r\n            '01': 'tammikuu',\r\n            '02': 'helmikuu',\r\n            '03': 'maaliskuu',\r\n            '04': 'huhtikuu',\r\n            '05': 'toukokuu',\r\n            '06': 'kesäkuu',\r\n            '07': 'heinäkuu',\r\n            '08': 'elokuu',\r\n            '09': 'syyskuu',\r\n            '10': 'lokakuu',\r\n            '11': 'marraskuu',\r\n            '12': 'joulukuu'\r\n        }\r\n        return names[month]\r\n    }\r\n\r\n    function displayDate(date) {\r\n        let month = parseInt(date.split('-')[1])\r\n        let day = parseInt(date.split('-')[2])\r\n        return day + '.' + month + '.'\r\n    }\r\n\r\n    function displayDateWyear(date) {\r\n        let year = date.split('-')[0]\r\n        let month = parseInt(date.split('-')[1])\r\n        let day = parseInt(date.split('-')[2])\r\n        return day + '.' + month + '.' + year \r\n    }\r\n\r\n    useEffect(() => {\r\n        \r\n        document.getElementById(dateTo.split('-').slice(0,2).join('-')).scrollIntoView({behavior: \"auto\", block: \"center\"})           \r\n        \r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        \r\n        document.getElementById(dateTo.split('-').slice(0,2).join('-')).scrollIntoView({behavior: \"smooth\", block: \"center\"})          \r\n        \r\n    }, [dateTo]);\r\n\r\n    return (\r\n        <div className='calendar-container'>\r\n            <div className='calendar-component'>\r\n                <div className='calendar-component--shortcut'>\r\n                    <form>\r\n                        <label>\r\n                            <select\r\n                                value={''}\r\n                                onChange={(e) => handleDateRangeOption(e.target.value)}\r\n                            >\r\n                                <option value=\"\">Ajanjakson pikavalinta</option>\r\n                                <option value=\"today\">Tänään</option>\r\n                                <option value=\"this-week\">Tulevat tällä viikolla</option>\r\n                                <option value=\"next-week\">Ensi viikolla</option>\r\n                                <option value=\"this-month\">Tulevat tässä kuussa</option>\r\n                                <option value=\"next-month\">Ensi kuussa</option>\r\n                                <option value=\"this-year\">Tulevat tänä vuonna</option>\r\n                            </select>\r\n                        </label>\r\n                    </form>\r\n                </div>\r\n                <div className='calendar-component--table-headings'>\r\n                    <table>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>MA</th>\r\n                                <th>TI</th>\r\n                                <th>KE</th>\r\n                                <th>TO</th>\r\n                                <th>PE</th>\r\n                                <th>LA</th>\r\n                                <th>SU</th>\r\n                            </tr>\r\n                        </thead>\r\n                    </table>\r\n                </div>\r\n                <div className='calendar-component--tables'>\r\n                {getCalData().map(table =>\r\n                <div\r\n                    className='calendar-component--month'\r\n                    key={table.year+'-'+table.month}\r\n                    id={table.year+'-'+table.month}\r\n                >\r\n                    <h5>{displayMonth(table.month) + ' ' + table.year}</h5>\r\n                    <table>\r\n                        <tbody>\r\n                            {table.monthDays.map((week, index) =>\r\n                            <tr key={index}>\r\n                                {week.map(day =>\r\n                                isBetweenSelected(day.date) && !isOtherMonth(day.date, table.month) ?\r\n                                day.date === dateFrom || day.date === dateTo ?\r\n                                <td\r\n                                    key={day.date}\r\n                                    className='calendar-component--item-selected'\r\n                                    onClick={() => handleCalClick(day.date)}\r\n                                >\r\n                                    \r\n                                    {day.date.split('-')[2]}\r\n                                </td>\r\n                                :\r\n                                <td\r\n                                    key={day.date}\r\n                                    className='calendar-component--item-selected-range'\r\n                                    onClick={() => handleCalClick(day.date)}\r\n                                >\r\n                                    \r\n                                    {day.date.split('-')[2]}\r\n                                </td>\r\n                                :\r\n                                isOtherMonth(day.date, table.month) ?\r\n                                    isOtherYear(day.date, table.year) ?\r\n                                    <td key={day.date}></td>\r\n                                    :\r\n                                    <td\r\n                                        key={day.date}\r\n                                        className='calendar-component--item-difmonth'\r\n                                        onClick={() => handleCalClick(day.date)}\r\n                                    >\r\n                                        {day.date.split('-')[2]}\r\n                                    </td>\r\n                                :\r\n                                <td\r\n                                    key={day.date}\r\n                                    className='calendar-component--item'\r\n                                    onClick={() => handleCalClick(day.date)}\r\n                                >\r\n                                    {day.date.split('-')[2]}\r\n                                </td>\r\n                                )}\r\n                            </tr>\r\n                            )}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport './InfoComponent.css'\r\nimport { useSelector } from 'react-redux'\r\nimport { displayDMY } from '../services/dateService'\r\n\r\nexport default function Info() {\r\n\r\n    const { info } = useSelector(state => state)\r\n\r\n    return (\r\n        <div className='info-component'>\r\n            <div><h3>missä pelaa?</h3></div>\r\n            <div>\r\n                \"Ottelut helposti kartalle.\"\r\n            </div>\r\n            <div>Ottelu-, lokaatio- ja sarjatilannetiedot on kerätty lajiliittojen sivuilta *</div>\r\n            <div className='sports-details'>\r\n                <span className='info-link' onClick={() => window.open('https://www.palloliitto.fi')}>Jalkapallo ja futsal - palloliitto.fi</span>                 \r\n                <span className='info-link' onClick={() => window.open('https://www.basket.fi')}>Koripallo - basket.fi</span>\r\n                <span className='info-link' onClick={() => window.open('https://www.lentopalloliitto.fi')}>Lentopallo - lentopalloliitto.fi</span>\r\n                <span className='info-link' onClick={() => window.open('https://finnhandball.net/')}>Käsipallo - finnhandball.net</span>\r\n                \r\n            </div>\r\n            <div className='info-details'>\r\n                {info &&\r\n                <div>\r\n                <div>Ottelutietokanta päivitetty</div>\r\n                <div className='info-details-sports'>\r\n                    <span>Jalkapallo - {displayDMY(info.football)}</span>\r\n                    <span>Futsal - {displayDMY(info.futsal)}</span>\r\n                    <span>Koripallo - {displayDMY(info.basketball)}</span>\r\n                    <span>Lentopallo - {displayDMY(info.volleyball)}</span>\r\n                    <span>Käsipallo - {displayDMY(info.handball)}</span>\r\n                </div>\r\n                </div>\r\n                }\r\n                <div>\r\n                    <span>{'Sovelluksen lähdekoodi: '}</span>\r\n                    <span className='info-link' onClick={() => window.open('https://www.github.com/kaagla/match-locator')}>\r\n                            <i className=\"fab fa-github\"></i>\r\n                    </span>\r\n                </div>\r\n                <div className='sports-details-info'>\r\n                    * Tiedoissa voi esiintyä virheitä.\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport './ToggleSwitch.css'\r\n\r\nexport default function ToggleSwitch(props) {\r\n    return(\r\n        <div className='toggle-switch-component'>\r\n            <div\r\n                className={props.isSelected ? 'toggle-switch toggle-switch-on':'toggle-switch toggle-switch-off'}\r\n                onClick={() => props.handleSelection(props.item)}\r\n            >\r\n                <div className={props.isSelected ? 'toggle-indicator-on':'toggle-indicator-off'}></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","export const standingsEnabled = (sport, type) => {\r\n    return ['Jalkapallo','Futsal'].includes(sport) && ['level','team'].includes(type) ? true : false\r\n}\r\n\r\nexport const matchPreviewEnabled = (sport) => {\r\n    return sport === 'Käsipallo' ? false : true\r\n}","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { getMatchesData } from '../actions/matchesData'\r\nimport { standingsEnabled } from '../services/enabledFeatures'\r\nimport IconDiv from './IconComponent';\r\nimport './FilterItem.css'\r\n\r\nexport default function FilterItem(props) {\r\n\r\n    const [showOptions, setShowOptions] = useState(false)\r\n\r\n    function handleOptions() {\r\n        if (showOptions === true) {\r\n            document.getElementById('filter-item-options').className = 'filter-item-options-on-close'\r\n            setTimeout(() => { setShowOptions(!showOptions) }, 400)\r\n        } else {\r\n            setShowOptions(!showOptions)\r\n        } \r\n    }\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    function getMatches(item) {\r\n        dispatch(getMatchesData('', [item]))\r\n        props.handleClose()\r\n        document.getElementById('content-menu').scrollIntoView({behavior: \"smooth\", block: \"start\"})\r\n    }\r\n\r\n    function displayName(name) {\r\n        return name.split(' - ').length > 1 ? name.split(' - ').slice(0,-1).join(' - ') : name\r\n    }\r\n\r\n    return(\r\n        <div className='filter-item-component'>\r\n            {['level','team'].includes(props.item.type) ?\r\n            <div\r\n                className='filter-item-header-with-options'\r\n                onClick={() => handleOptions()}\r\n            >\r\n                <div className='filter-item-header-details'>\r\n                    <span className='filter-item-header-name'>\r\n                        {displayName(props.item.name)}\r\n                    </span>\r\n                    <span className='filter-item-header-sport'>\r\n                        {props.item.sport.toUpperCase()}\r\n                    </span>\r\n                </div>\r\n                <div><i className={showOptions ? 'arrow-up':'arrow-down'}></i></div>\r\n            </div>\r\n            :\r\n            <div className='filter-item-header'>\r\n                <div className='filter-item-header-name'>\r\n                    <span>{props.item.name}</span>\r\n                </div>\r\n            </div>   \r\n            }\r\n            {['level','team'].includes(props.item.type) && showOptions &&\r\n            <div id='filter-item-options' className='filter-item-options'>\r\n                <Link to='/'>\r\n                    <span onClick={() => getMatches(props.item)}>\r\n                        <IconDiv icon={'list-ul'} definition={'OTTELUT'} />\r\n                    </span>\r\n                </Link>\r\n                {standingsEnabled(props.item.sport, props.item.type) &&\r\n                <Link to='/standings'>\r\n                    <span onClick={() => getMatches(props.item)}>\r\n                        <IconDiv icon={'trophy'} definition={'SARJATILANNE'} />\r\n                    </span>\r\n                </Link>\r\n                }\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport './FilterGroup.css'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { setVisibleFilters, setSelectedFilters } from '../actions/selectionData'\r\nimport ToggleSwitch from './ToggleSwitch'\r\nimport FilterItem from './FilterItem'\r\n\r\nexport default function FilterGroup(props) {\r\n\r\n    const {visibleFilters, selectedFilters} = useSelector(state => state)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    function handleSelection(item) {\r\n        if (selectedFilters.filter(f => f.name === item.name).length === 0) {\r\n            let filters = [...selectedFilters]\r\n            filters.push(item)\r\n            dispatch(setSelectedFilters(filters))\r\n        } else {\r\n            let filters = [...selectedFilters].filter(f => f.name !== item.name)\r\n            dispatch(setSelectedFilters(filters))\r\n        }\r\n    }\r\n\r\n    function removeVisibleFilter(item) {\r\n        let vfilters = [...visibleFilters].filter(f => f.name !== item.name)\r\n        dispatch(setVisibleFilters(vfilters))\r\n\r\n        if (selectedFilters.filter(f => f.name === item.name).length !== 0) {\r\n            let filters = [...selectedFilters].filter(f => f.name !== item.name)\r\n            dispatch(setSelectedFilters(filters))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='filter-group-component'>\r\n            <div className='filter-group-items'>\r\n                {props.useDefaultFilters &&\r\n                visibleFilters.filter(f => props.defaultFilterTypes.includes(f.type)).map(filter =>\r\n                    <div key={filter.name} className='filter-group-item'>\r\n                        <div className='filter-group-item-header'>\r\n                            <div className='filter-group-item-name'>{filter.name}</div>\r\n                            <ToggleSwitch \r\n                                item={filter} \r\n                                isSelected={selectedFilters.filter(f => f.name === filter.name).length !== 0 ? true : false}\r\n                                handleSelection={handleSelection}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                )}\r\n                {props.useNewFilters &&\r\n                visibleFilters.filter(f => props.newFilterTypes.includes(f.type)).map(filter =>\r\n                    <div key={filter.name} className='filter-group-item'>\r\n                        <div className='filter-group-item-header'>\r\n                            <div\r\n                                className='filter-group-item-remove'\r\n                                onClick={() => removeVisibleFilter(filter)}\r\n                            ><i class=\"far fa-times-circle\"></i></div>\r\n                            <FilterItem item={filter} handleClose={props.handleClose} />\r\n                            <ToggleSwitch \r\n                                item={filter} \r\n                                isSelected={selectedFilters.filter(f => f.name === filter.name).length !== 0 ? true : false}\r\n                                handleSelection={handleSelection}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                )}\r\n                {props.useNewFilters && visibleFilters.filter(f => props.newFilterTypes.includes(f.type)).length === 0 &&\r\n                <div className='filter-group-items-notification'>\r\n                    Lisää {props.notification} hakutoiminnolla.\r\n                </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport './SearchList.css'\r\nimport FilterItem from './FilterItem'\r\nimport { setVisibleFilters, setSelectedFilters } from '../actions/selectionData'\r\n\r\nexport default function SearchList(props) {\r\n\r\n    const { visibleFilters, selectedFilters } = useSelector(state => state)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    function handleFilterSelection(item) {\r\n        if (visibleFilters.filter(f => f.name === item.name).length === 0) {\r\n            let vfilters = [...visibleFilters]\r\n            vfilters.push(item)\r\n            let filters = [...selectedFilters]\r\n            filters.push(item)\r\n            dispatch(setVisibleFilters(vfilters))\r\n            dispatch(setSelectedFilters(filters))\r\n        } else {\r\n            let filters = [...selectedFilters].filter(f => f.name !== item.name)\r\n            dispatch(setSelectedFilters(filters))\r\n            let vfilters = [...visibleFilters].filter(f => f.name !== item.name)\r\n            dispatch(setVisibleFilters(vfilters))\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className='search-list-component'>\r\n            {props.items.slice(0,props.numItems).map(item =>\r\n                <div key={item.name} className='search-list-item'>\r\n                    <FilterItem\r\n                        item={item}\r\n                        handleClose={props.handleClose}\r\n                    />\r\n                    <div \r\n                        className={visibleFilters.filter(f => f.name === item.name).length === 0 ? 'search-list-item-filter-icon':'search-list-item-filter-selected'}\r\n                        onClick={() => handleFilterSelection(item)}\r\n                    >\r\n                        <i className={\"fas fa-filter\"}></i>\r\n                    </div>\r\n                </div>\r\n            )}\r\n            {props.items.length >  props.numItems &&\r\n            <div\r\n                className='show-more-items'\r\n                onClick={() => props.showMoreItems()}\r\n            >\r\n                <span>NÄYTÄ LISÄÄ</span>\r\n                <span><i className='arrow-down'></i></span>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory } from 'react-router-dom'\r\nimport {setItemSearchText} from '../actions/searchText'\r\nimport { getMatchesData } from '../actions/matchesData'\r\nimport { displayDates } from '../services/dateService'\r\nimport './TopMenuComponent.css'\r\nimport MenuItem from './MenuItem'\r\nimport IconDiv from './IconComponent'\r\nimport Searchfield from './SearchfieldComponent2'\r\nimport Calendar from './CalendarComponent'\r\nimport Info from './InfoComponent'\r\nimport FilterGroup from './FilterGroup'\r\nimport SearchList from './SearchList'\r\n\r\nexport default function TopMenu() {\r\n\r\n    const [isMenuOpen, setIsMenuOpen] = useState(false)\r\n    const [selectedItem, setSelectedItem] = useState(null)\r\n    const [searchIsActive, setSearchIsActive] = useState(false)\r\n    const [numItems, setNumItems] = useState(20)\r\n    const {itemSearchText, dateFrom, dateTo,\r\n        areas, levels, teams, selectedFilters, visibleFilters}  = useSelector(state => state)\r\n\r\n    const items = [...areas, ...levels, ...teams]\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n\r\n    function showMoreItems() {\r\n        setNumItems(numItems + 20)\r\n    }\r\n\r\n    function handleText(text) {\r\n        setNumItems(20)\r\n        dispatch(setItemSearchText(text))\r\n    }\r\n\r\n    function activateSearch() {\r\n        setSearchIsActive(true)\r\n    }\r\n\r\n    function handleMenu() {\r\n        if (isMenuOpen === true) {\r\n            document.getElementById('menu-items').className = 'menu-items-on-close'\r\n            setTimeout(() => { setIsMenuOpen(!isMenuOpen) }, 400)\r\n        } else {\r\n            setIsMenuOpen(!isMenuOpen)\r\n        } \r\n    }\r\n\r\n    function handleSelect(item) {\r\n        if (item === selectedItem && item !== 'search') {\r\n            document.getElementById('item-box').className = 'item-box-on-close'\r\n            setTimeout(() => {\r\n                if (searchIsActive) {\r\n                    setSearchIsActive(false)\r\n                }\r\n                setSelectedItem(null)\r\n            }, 400)\r\n        } else {\r\n            setSelectedItem(item)\r\n        } \r\n    }\r\n\r\n    function handleClose() {\r\n        document.getElementById('item-box').className = 'item-box-on-close'\r\n            setTimeout(() => {\r\n                if (searchIsActive) {\r\n                    setSearchIsActive(false)\r\n                }\r\n                setSelectedItem(null)\r\n            }, 400)\r\n    }\r\n\r\n    function getMatches() {\r\n        const dates = dateFrom + ',' + dateTo\r\n        dispatch(getMatchesData(dates, selectedFilters))\r\n        setIsMenuOpen(!isMenuOpen)\r\n        history.push('/')\r\n    }\r\n\r\n    function displayCount(typeList) {\r\n        const selected = selectedFilters.filter(f => typeList.includes(f.type)).length\r\n        const visible = visibleFilters.filter(f => typeList.includes(f.type)).length\r\n        return selected + ' / ' + visible\r\n    }\r\n\r\n    return (\r\n        <div className='top-menu-component'>\r\n            <div className='top-menu-box'>\r\n            <div className='top-menu-left'>\r\n                <div className={selectedItem === 'info' ? 'menu-items-btn-active':'menu-items-btn'} onClick={() => handleSelect('info')}>missä pelaa?</div>\r\n            </div>\r\n            <div\r\n                className='top-menu-center'\r\n                onClick={() => activateSearch()}\r\n            >\r\n                <Searchfield\r\n                    searchText={itemSearchText}\r\n                    handleText={handleText}\r\n                    handleSelect={handleSelect}\r\n                    icon={'search'}\r\n                    isActive={searchIsActive}\r\n                    definition={'Etsi sarjaa, joukkuetta tai aluetta'}\r\n                />\r\n            </div>\r\n            <div className='top-menu-right'>\r\n                <span className={isMenuOpen ? 'menu-items-btn-active':'menu-items-btn'} onClick={() => handleMenu()}>\r\n                    <IconDiv icon={'sliders-h'} definition={'HAKUVALINNAT'} />\r\n                </span>\r\n            </div>\r\n            {isMenuOpen &&\r\n            <div id='menu-items' className='menu-items'>\r\n                <div className='menu-items-content'>\r\n                    <MenuItem icon={'redo'} definition={'PÄIVITÄ HAKU'} onClick={() => getMatches()} />\r\n                    <MenuItem icon={'calendar'} definition={displayDates(dateFrom,dateTo)}>\r\n                        <Calendar />\r\n                    </MenuItem>\r\n                    <MenuItem icon={'map-marked-alt'} definition='ALUEET' count={displayCount(['grandarea','municipality','postoffice'])}>\r\n                        <div className='menu-items-filter-group'>\r\n                            <FilterGroup\r\n                                useDefaultFilters={true}\r\n                                defaultFilterTypes={['grandarea']}\r\n                                useNewFilters={true}\r\n                                newFilterTypes={['municipality','postoffice']}\r\n                                notification={'alueita'}\r\n                                handleClose={handleMenu}\r\n                            />\r\n                        </div>\r\n                    </MenuItem>\r\n                    <MenuItem icon={'running'} definition='LAJIT' count={displayCount(['sport'])}>\r\n                        <div className='menu-items-filter-group'>\r\n                            <FilterGroup\r\n                                useDefaultFilters={true}\r\n                                defaultFilterTypes={['sport']}\r\n                                useNewFilters={false}\r\n                                handleClose={handleMenu}\r\n                            />\r\n                        </div>\r\n                    </MenuItem>\r\n                    <MenuItem icon={'trophy'} definition='SARJAT' count={displayCount(['level'])}>\r\n                        <div className='menu-items-filter-group'>\r\n                            <FilterGroup\r\n                                useDefaultFilters={false}\r\n                                useNewFilters={true}\r\n                                newFilterTypes={['level']}\r\n                                notification={'sarjoja'}\r\n                                handleClose={handleMenu}\r\n                            />\r\n                        </div>\r\n                    </MenuItem>\r\n                    <MenuItem icon={'users'} definition='JOUKKUEET' count={displayCount(['team'])}>\r\n                        <div className='menu-items-filter-group'>\r\n                            <FilterGroup\r\n                                useDefaultFilters={false}\r\n                                useNewFilters={true}\r\n                                newFilterTypes={['team']}\r\n                                notification={'joukkueita'}\r\n                                handleClose={handleMenu}\r\n                            />\r\n                        </div>\r\n                    </MenuItem>\r\n                </div>\r\n            </div>\r\n            }\r\n            {selectedItem === 'search' &&\r\n            <div className='item-container'>\r\n                <div id='item-box' className='item-box'>\r\n                    <div className='item-close' onClick={() => handleClose()}>\r\n                        <i class=\"fas fa-times-circle\"></i>\r\n                    </div>\r\n                    {itemSearchText !== '' ?\r\n                    <SearchList\r\n                        items={items.filter(item => itemSearchText.split(' ').every(i => (item.name+' '+item.sport).toLowerCase().includes(i.toLowerCase())))}\r\n                        handleClose={handleClose}\r\n                        numItems={numItems}\r\n                        showMoreItems={showMoreItems}\r\n                    />\r\n                    : <div className='search-instructions'>Etsi sarjaa, joukkuetta tai aluetta</div>\r\n                    }\r\n                </div>\r\n            </div>\r\n            }\r\n            {selectedItem === 'info' &&\r\n            <div className='item-container'>\r\n                <div id='item-box' className='item-box'>\r\n                    <div className='item-close' onClick={() => handleClose()}>\r\n                        <i class=\"fas fa-times-circle\"></i>\r\n                    </div>\r\n                    <Info />\r\n                </div>\r\n            </div>\r\n            }\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Link, useLocation } from 'react-router-dom'\r\nimport './ContentMenuComponent.css'\r\nimport IconDiv from './IconComponent'\r\nimport { displayDates } from '../services/dateService'\r\nimport { standingsEnabled } from '../services/enabledFeatures'\r\n\r\nexport default function Content(props) {\r\n\r\n    const {matches, searchConditions, selectedLocation, selectedItem} = useSelector(state => state)\r\n    const [selectedContent, setSelectedContent] = useState('all-matches')\r\n\r\n    const location = useLocation()\r\n\r\n    function handleContent(selected) {\r\n        if (selected !== selectedContent) {\r\n            setSelectedContent(selected)\r\n        }\r\n        document.getElementById('content-menu').scrollIntoView({behavior: \"smooth\", block: \"start\"})\r\n    }\r\n\r\n    return (\r\n        <div id='content-menu' className='content-menu-component'>\r\n            {searchConditions !== null ?\r\n            <div className='content-menu-details'>\r\n                <div>Hakuehdot:</div>\r\n                {searchConditions['dates'] !== '' ?\r\n                <div>\r\n                <div>\r\n                    {displayDates(searchConditions['dates'].split(',')[0],searchConditions['dates'].split(',')[1])}\r\n                </div>\r\n                {searchConditions['sportsFilters'] &&\r\n                <div>\r\n                    {searchConditions['sportsFilters'].map(sport =>\r\n                        <span>{sport} </span>\r\n                    )}\r\n                </div>\r\n                }\r\n                {searchConditions['filters'].map(filter =>\r\n                    <div>{filter.name}</div>)}\r\n                </div>\r\n                :\r\n                <div>{searchConditions['filters'][0].name}</div>\r\n                }\r\n            </div>\r\n            : null\r\n            }\r\n            <div className='content-menu'>\r\n                {searchConditions ?\r\n                <Link to='/'>\r\n                    <div\r\n                        className={location.pathname === '/' ? 'all-matches selected-menu-item':'all-matches'}\r\n                        onClick={() => handleContent('all-matches')}\r\n                    >\r\n                        <IconDiv \r\n                            icon={'list-ul'}\r\n                            definition={'OTTELUT ' + matches.length}\r\n                        />\r\n                    </div>\r\n                </Link>\r\n                : null\r\n                }\r\n                {selectedLocation ?\r\n                <Link to='/locationmatchlist'>\r\n                    <div\r\n                        className={location.pathname === '/locationmatchlist' ? 'selected-menu-item':''}\r\n                        onClick={() => handleContent('location')}\r\n                    >\r\n                        <IconDiv\r\n                            icon={'map-marker-alt'}\r\n                            definition={'OTTELUT KOHTEESSA'} \r\n                        />\r\n                    </div>\r\n                </Link>\r\n                : null\r\n                }\r\n                {selectedItem && standingsEnabled(selectedItem.sport, selectedItem.type) ?\r\n                <Link to='/standings' >\r\n                    <div\r\n                        className={location.pathname === '/standings' ? 'selected-menu-item':''}\r\n                        onClick={() => handleContent('standings')}\r\n                    >\r\n                        <IconDiv\r\n                            icon={'trophy'}\r\n                            definition={'SARJATILANNE'}\r\n                        />\r\n                    </div>\r\n                </Link>\r\n                :\r\n                null\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport './ContentComponent.css'\r\n\r\nexport default function Content(props) {\r\n    return (\r\n        <div className='content-component'>\r\n            <div className='content'>\r\n                {props.children}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport './NotificationComponent.css'\r\nimport { useDispatch } from 'react-redux'\r\nimport { setMatchesLimitNotification } from '../actions/matchesData'\r\n\r\nexport default function Notification() {\r\n    const dispatch = useDispatch()\r\n\r\n    function confirmNotification() {\r\n        dispatch(setMatchesLimitNotification(false))\r\n    }\r\n\r\n    return(\r\n        <div className='notification-component'>\r\n            <div className='notification-box'>\r\n                <div className='box-close' onClick={() => confirmNotification()}>X</div>\r\n                <div>\r\n                    Suuren määrän vuoksi kaikkia hakuehdot täyttäviä otteluita ei ladattu.\r\n                    Rajaa otteluiden määrää suodattimilla.\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport './CountBadgeComponent.css'\r\n\r\nexport default function CountBadge(props) {\r\n    return (\r\n        <div className='count-badge-component'>\r\n            <div className='count-badge-component--item'>\r\n                {props.count}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react';\r\nimport './StandingsTableComponent.css'\r\n\r\nexport default function StandingsTable(props) {\r\n\r\n    const [selectedSort, setSelectedSort] = useState('points')\r\n    const [sortDescending, setSortDescending] = useState(true)\r\n\r\n    const standings = props.standings\r\n    const selectedGroup = props.selectedGroup\r\n\r\n    const headings = {\r\n        'played': 'O',\r\n        'wins': 'V',\r\n        'draws': 'T',\r\n        'losses': 'H',\r\n        'scored': 'TM',\r\n        'conceded': 'PM',\r\n        'difference': '+/-',\r\n        'points': 'P'\r\n    }\r\n\r\n    function sortedStandingsByGroup() {\r\n        let standingsByGroup = standings.filter(g => g.name === selectedGroup)\r\n\r\n        let data = {\r\n            'name': selectedGroup,\r\n            'standings': []\r\n        }\r\n\r\n        standingsByGroup[0].standings.sort((a,b) => {\r\n            return sortDescending ? b[selectedSort] - a[selectedSort] : a[selectedSort] - b[selectedSort]\r\n        }).map(item => {\r\n            data['standings'].push(item)\r\n        })\r\n\r\n        return [data]\r\n    }\r\n\r\n    function applySort(header) {\r\n        if (selectedSort === header) {\r\n            sortDescending ? setSortDescending(false) : setSortDescending(true)\r\n            \r\n        } else {\r\n            setSelectedSort(header)\r\n            setSortDescending(true)\r\n        }\r\n    }\r\n    return (\r\n        <div className='standingstable-component'>\r\n            {sortedStandingsByGroup().map(group =>\r\n            <div key={group.name} className='group-component'>\r\n                <table className='standings-group-table'>\r\n                    <thead>\r\n                        <tr>\r\n                            <th></th>\r\n                            <th></th>\r\n                            {Object.keys(headings).map(heading =>\r\n                                heading === selectedSort ?\r\n                                    <th onClick={() => applySort(heading)}>\r\n                                    <span>{headings[heading]} </span>\r\n                                    {sortDescending ?\r\n                                        <span>&darr;</span>\r\n                                        :\r\n                                        <span>&uarr;</span>\r\n                                    }\r\n                                    </th>\r\n                                    :\r\n                                    <th onClick={() => applySort(heading)}>\r\n                                        <span>{headings[heading]}</span>\r\n                                    </th>\r\n                                \r\n                            )}\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    {group.standings.map(team =>\r\n                        <tr \r\n                            key={team.name}\r\n                            name={team.name}\r\n                        >\r\n                            <td>{group.standings.indexOf(team)+1}.</td>\r\n                            <td id={team.name} >{team.team}</td>\r\n                            <td>{team.played}</td>\r\n                            <td>{team.wins}</td>\r\n                            <td>{team.draws}</td>\r\n                            <td>{team.losses}</td>\r\n                            <td>{team.scored}</td>\r\n                            <td>{team.conceded}</td>\r\n                            <td>{team.difference}</td>\r\n                            <td>{team.points}</td>\r\n                        </tr>\r\n                    )}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            )}\r\n        </div>\r\n    )\r\n}","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios';\r\nimport { standingsEnabled } from '../services/enabledFeatures'\r\nimport './MatchPreviewComponent.css';\r\nimport IconDiv from './IconComponent'\r\nimport StandingsTable from './StandingsTableComponent'\r\n\r\nexport default function MatchPreview(props) {\r\n\r\n    const [showStandings, setShowStandings] = useState(false)\r\n    const [previousMatches, setPreviousMatches] = useState([])\r\n    const [standings, setStandings] = useState([])\r\n    const [matchesError, setMatchesError] = useState('')\r\n    const [standingsError, setStandingsError] = useState(false)\r\n\r\n    function getResult(team, match) {\r\n        if (match.score === '-') {\r\n            return 'no-score'\r\n        }\r\n        let homeScore = parseInt(match.score.split(' ')[0].split('-')[0])\r\n        let awayScore = parseInt(match.score.split(' ')[0].split('-')[1])\r\n        \r\n        if (homeScore === awayScore) {\r\n            return 'draw'\r\n        }\r\n        if (homeScore - awayScore > 0) {\r\n            if (team === match.home_name) {\r\n                return 'win'\r\n            } else {\r\n                return 'loss'\r\n            }\r\n        } else {\r\n            if (team === match.away_name) {\r\n                return 'win'\r\n            } else {\r\n                return 'loss'\r\n            }\r\n        }\r\n    }\r\n\r\n    function isUpcomingMatch(date) {\r\n        let y = parseInt(date.split('.')[2])\r\n        let m = parseInt(date.split('.')[1]) - 1\r\n        let d = parseInt(date.split('.')[0])\r\n\r\n        return new Date(y,m,d) > new Date() ? true : false\r\n    }\r\n\r\n    function getPreviewData() {\r\n        let data = {}\r\n\r\n        let match = props.match\r\n        let y = parseInt(match.date.split('.')[2])\r\n        let m = parseInt(match.date.split('.')[1]) - 1\r\n        let d = parseInt(match.date.split('.')[0]) - 1\r\n\r\n        data['dates'] = '2019-01-01,' + new Date(y,m,d).toJSON().split('T')[0]\r\n    \r\n        data['team'] = []\r\n        data['team'].push({ 'name': props.match.home_name + ' - ' + props.match.level + ' - ' + props.match.sport })\r\n        data['team'].push({ 'name': props.match.away_name + ' - ' + props.match.level + ' - ' + props.match.sport })\r\n\r\n        data['include-locations'] = 'false'\r\n\r\n        axios.post('/api/matches', data)\r\n        .then(res => {\r\n            if (res.data.length === 0) {\r\n                setMatchesError('Ei aiempia otteluita')\r\n            } else {\r\n                setPreviousMatches(res.data.matches)\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error)\r\n            setMatchesError('Edellisiä otteluita ei saatavilla')\r\n        })\r\n    }\r\n\r\n    function getStandings() {\r\n        if (!showStandings && !standingsError) {\r\n            setShowStandings(true)\r\n            let item = { 'type': 'team', 'name': props.match.home_name + ' - ' + props.match.level }\r\n            let data2 = {'standings': item}\r\n\r\n            axios.post('/api/standings', data2)\r\n            .then(res => {\r\n                if (res.data.length === 0) {\r\n                    setStandingsError('Sarjatilannetta ei saatavilla')\r\n                } else {\r\n                    setStandings(res.data)\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n                setShowStandings(false)\r\n                setStandingsError('Sarjatilannetta ei saatavilla')\r\n            })\r\n        }   \r\n    }\r\n\r\n    useEffect(() => {\r\n        getPreviewData()\r\n    }, []);\r\n\r\n    return (\r\n        <div className='match-preview-component'>\r\n            {matchesError !== '' ?\r\n            <div>Edellisiä otteluita ei saatavilla</div>\r\n            :\r\n            <div className='match-preview-component-matchdiv'>\r\n            <div className='match-preview-component-icon'>\r\n                <div className={previousMatches.length === 0 ? 'loader':''}>\r\n                    <IconDiv \r\n                        icon={'history'}\r\n                        definition={'EDELLISET OTTELUT'}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <div className='match-preview-component--last-matches'>\r\n                    <div className='match-preview-component--last-matches-home'>\r\n                        <ul>\r\n                            {previousMatches.filter(m => (m.home_name === props.match.home_name || m.away_name === props.match.home_name)).reverse().map(match =>\r\n                                <li\r\n                                    key={match['id']}\r\n                                    className={getResult(props.match.home_name, match)}\r\n                                >\r\n                                    <div className='match-preview-component--last-matches-teams'>\r\n                                        <span className={match.home_name === props.match.home_name ? 'selected':''}>{match.home_name}</span>\r\n                                        <span className={match.away_name === props.match.home_name ? 'selected':''}>{match.away_name}</span>\r\n                                    </div>\r\n                                    {(isUpcomingMatch(match.date) || match.score === '-') ?\r\n                                    <div className='match-preview-component--last-matches-date'>\r\n                                        {match.date}\r\n                                    </div>\r\n                                    :\r\n                                    <div className='match-preview-component--last-matches-score'>\r\n                                        <span>{match.score.split(' ')[0].split('-')[0]}</span>\r\n                                        <span>{match.score.split(' ')[0].split('-')[1]}</span>\r\n                                    </div>\r\n                                    }\r\n                                </li>\r\n                            )}\r\n                        </ul>\r\n                    </div>\r\n                    <div className='match-preview-component--last-matches-away'>\r\n                        <ul>\r\n                            {previousMatches.filter(m => (m.home_name === props.match.away_name || m.away_name === props.match.away_name)).reverse().map(match =>\r\n                                <li\r\n                                    key={match['id']}\r\n                                    className={getResult(props.match.away_name, match)}\r\n                                >\r\n                                    <div className='match-preview-component--last-matches-teams'>\r\n                                        <span className={match.home_name === props.match.away_name ? 'selected':''}>{match.home_name}</span>\r\n                                        <span className={match.away_name === props.match.away_name ? 'selected':''}>{match.away_name}</span>\r\n                                    </div>\r\n                                    {(isUpcomingMatch(match.date) || match.score === '-') ?\r\n                                    <div className='match-preview-component--last-matches-date'>\r\n                                        {match.date}\r\n                                    </div>\r\n                                    :\r\n                                    <div className='match-preview-component--last-matches-score'>\r\n                                        <span>{match.score.split(' ')[0].split('-')[0]}</span>\r\n                                        <span>{match.score.split(' ')[0].split('-')[1]}</span>\r\n                                    </div>\r\n                                    }\r\n                                </li>\r\n                            )}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            </div>\r\n            }\r\n            {standingsEnabled(props.match.sport, 'team') ?\r\n            <div\r\n                className='match-preview-component-icon'\r\n                onClick={() => getStandings()}\r\n            >\r\n                <div className={(standings.length === 0 && showStandings) ? 'loader':''}>\r\n                    <IconDiv \r\n                        icon={'trophy'}\r\n                        definition={(showStandings || standingsError) ? 'SARJATILANNE':'NÄYTÄ SARJATILANNE'}\r\n                    />\r\n                </div>\r\n            </div>\r\n            : null}\r\n            {standingsError ?\r\n            <div>Sarjatilannetta ei saatavilla</div>\r\n            :\r\n            standings.length > 0 ?\r\n            <StandingsTable\r\n                standings={standings}\r\n                selectedGroup={standings[0].name}\r\n            />\r\n            : <div></div>\r\n            }\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport './MatchListItemsComponent.css';\r\nimport CountBadge from './CountBadgeComponent'\r\nimport MatchPreview from './MatchPreviewComponent'\r\nimport { matchPreviewEnabled } from '../services/enabledFeatures'\r\n\r\nexport default function MatchListItems(props) {\r\n\r\n    const [itemIsOpen, setItemIsOpen] = useState(props.itemIsOpen)\r\n    const [selectedMatches, setSelectedMatches] = useState([])\r\n    const [numMatches, setNumMatches] = useState(20)\r\n    \r\n    function selectMatch(id) {\r\n        if (selectedMatches.includes(id)) { \r\n            setSelectedMatches([...selectedMatches].filter(x => x !== id))\r\n        } else {\r\n            setSelectedMatches([...selectedMatches, id])\r\n        }\r\n    }\r\n\r\n    function displayVenue(venue) {\r\n        let city = props.matches.filter(m => m.venue_name === venue)[0].postoffice\r\n        \r\n        if (venue.includes(city)) {\r\n            return venue\r\n        }\r\n        return venue + ', ' + city\r\n    }\r\n\r\n    function displayLevel(level) {\r\n        let sport = props.matches.filter(m => m.level === level)[0].sport\r\n        \r\n        return sport + ' - ' + level\r\n    }\r\n\r\n    function isUpcomingMatch(date) {\r\n        let year = parseInt(date.split('.')[2])\r\n        let month = parseInt(date.split('.')[1]) - 1\r\n        let day = parseInt(date.split('.')[0])\r\n        let matchDate = new Date(year,month,day)\r\n\r\n        let tyear = new Date().getFullYear()\r\n        let tmonth = new Date().getMonth()\r\n        let tday = new Date().getDate()\r\n        let today = new Date(tyear,tmonth,tday)\r\n\r\n        if (matchDate >= today) {\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n\r\n    function showMoreMatches() {\r\n        setNumMatches(numMatches + 20)\r\n    }\r\n\r\n    return (\r\n        <div className='matchlist-component'>\r\n            <div\r\n                className='matchlist-component--header'\r\n                onClick={() => setItemIsOpen(!itemIsOpen)}\r\n            >\r\n                <div className='matchlist-component--header-name'>\r\n                    <span>\r\n                        {props.groupbyItem === 'venue_name' ? displayVenue(props.header) : props.groupbyItem === 'level' ? displayLevel(props.header) : props.header}\r\n                    </span>\r\n                    <span className='matchlist-component--header-count'><CountBadge count={props.matches.length} /></span>\r\n                </div>\r\n                <div><i className={itemIsOpen ? 'arrow-up':'arrow-down'}></i></div>\r\n            </div>\r\n            {itemIsOpen ?\r\n            <div className='matchlist-component--details'>\r\n            {props.matches.slice(0,numMatches).map(match =>\r\n                <div \r\n                    key={match['_id']}\r\n                    className='matchlist-component--match-details'\r\n                >\r\n                    <div className='matchlist-component--match-details--whenwhere'>\r\n                        \r\n                            {props.groupbyItem !== 'date' ?\r\n                            <div className='matchlist-component--match-details-date'>\r\n                                <span><i className=\"far fa-calendar\"></i></span>\r\n                                <span>{match.date}</span>\r\n                            </div>\r\n                            : <span></span>\r\n                            }\r\n                            <div className='matchlist-component--match-details-time'>\r\n                                <span><i className=\"far fa-clock\"></i></span>\r\n                                <span>{match.time}</span>\r\n                            </div>\r\n                            {props.groupbyItem !== 'venue_name' ?\r\n                            <div\r\n                                className='matchlist-component--match-details-venue'\r\n                            >\r\n                                <span><i className=\"fas fa-map-marker-alt\"></i></span>\r\n                                <span>\r\n                                {props.groupbyItem === 'city' ?\r\n                                    match.venue_name\r\n                                    :\r\n                                    displayVenue(match.venue_name)\r\n                                }\r\n                                </span>\r\n                            </div>\r\n                            : <span></span>\r\n                            }\r\n                            {!['city','venue_name'].includes(props.groupbyItem) ?\r\n                            <span\r\n                                className='matchlist-component--match-details-city'\r\n                            ></span>\r\n                            : <span></span>\r\n                            }\r\n                    </div>\r\n                    <div className='matchlist-component--match-details--who'>\r\n                        {props.groupbyItem !== 'level' ?\r\n                        <div className='matchlist-component--match-details-level'>\r\n                            <span><i className=\"fas fa-trophy\"></i></span>\r\n                            <span>{match.sport} - {match.level}</span>\r\n                        </div>\r\n                        : <span></span>\r\n                        }\r\n                        <div className='matchlist-component--match-details-team-info'>\r\n                            <div className='matchlist-component--match-details-home'>\r\n                                <span>{match.home_name}</span>\r\n                            </div>\r\n                            <div\r\n                                className='matchlist-component--match-details-score'\r\n                            >{match.score}</div>\r\n                            <div\r\n                                className='matchlist-component--match-details-away'\r\n                            >{match.away_name}</div>\r\n                        </div>\r\n                    </div>\r\n                    {matchPreviewEnabled(match.sport) && isUpcomingMatch(match.date) ?\r\n                    <div className='matchlist-component--match-preview'>\r\n                    <div \r\n                        className='matchlist-component--match-preview-btn'\r\n                        onClick={() => selectMatch(match['_id'])}\r\n                    >\r\n                        <span>Ottelun asetelmat</span>\r\n                        <span><i className={selectedMatches.includes(match['_id']) ? 'arrow-up':'arrow-down'}></i></span>\r\n                    </div>\r\n                        {selectedMatches.includes(match['_id']) ?\r\n                        <div className='matchlist-component--match-preview-content'>\r\n                            <MatchPreview\r\n                                match={match}\r\n                            />\r\n                        </div>\r\n                        :\r\n                        <span></span>\r\n                        }\r\n                    </div>\r\n                    : <span></span>\r\n                    }\r\n                    <div></div>\r\n                </div>\r\n                )}\r\n                {numMatches < props.matches.length ?\r\n                <div\r\n                    className='show-more-matches'\r\n                    onClick={() => showMoreMatches()}\r\n                >\r\n                    <span>NÄYTÄ LISÄÄ</span>\r\n                    <span><i className='arrow-down'></i></span>\r\n                </div>\r\n                : <span></span>\r\n                } \r\n            </div>\r\n            : <div></div>}\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react'\r\nimport {useSelector} from 'react-redux'\r\nimport './MatchlistComponent.css';\r\nimport MatchListItems from './MatchListItemsComponent';\r\n\r\nexport default function MatchList(props) {\r\n\r\n    const { matches } = useSelector(state => state)\r\n    const [groupbyItem, setGroupByItem] = useState('sport')\r\n    const isLoadingMatches = useSelector(state => state.isLoadingMatches)\r\n\r\n    let groupbySet = new Set([])\r\n    matches.map(match => {\r\n        groupbySet.add(match[groupbyItem])\r\n    })\r\n\r\n    function sortedGroupbySet() {\r\n        return ['date'].includes(groupbyItem) ? Array.from(groupbySet) : Array.from(groupbySet).sort()\r\n    }\r\n\r\n    function handleItemIsOpen(index) {\r\n        if (groupbySet.size === 1) {\r\n            return true\r\n        } else if (groupbyItem === 'sport') {\r\n            return false\r\n        } else if (index === 0) {\r\n            return true\r\n        } else {\r\n            return false\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='matchlist-component'>\r\n            {isLoadingMatches ?\r\n            <div>Ladataan otteluita...</div>\r\n            :\r\n            matches.length === 0 ?\r\n            null\r\n            :\r\n            <div className='matchlist-content'>\r\n                <div className='matchlist-component--grouping'>\r\n                    <div className='matchlist-component--grouping-label'>Ryhmittely:</div>\r\n                    <div>\r\n                        <select\r\n                            value={groupbyItem}\r\n                            onChange={(e) => setGroupByItem(e.target.value)}\r\n                        >\r\n                            <option value=\"sport\">Laji</option>\r\n                            <option value=\"date\">Päivämäärä</option>\r\n                            <option value=\"level\">Sarjataso</option>\r\n                            <option value=\"postoffice\">Alue</option>\r\n                            <option value=\"venue_name\">Kenttä</option>\r\n                        </select>\r\n                     </div>\r\n                </div>\r\n                <div className='matchlist-component--matchlist-items'>\r\n                {sortedGroupbySet().map((header, index) =>\r\n                    <MatchListItems\r\n                        key={header}\r\n                        header={header}\r\n                        groupbyItem={groupbyItem}\r\n                        matches={matches.filter(m => m[groupbyItem] === header)}\r\n                        itemIsOpen={handleItemIsOpen(index)}\r\n                    />\r\n                )}\r\n                </div>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport './LocationMatchlistComponent.css';\r\nimport MatchListItems from './MatchListItemsComponent'\r\nimport LocationDetails from './LocationDetailsComponent'\r\n\r\nexport default function LocationMatchlist(props) {\r\n\r\n    const location = useSelector(state => state.selectedLocation)\r\n    const {matches} = useSelector(state => state)\r\n\r\n    function getVenues() {\r\n        let venues = new Set([])\r\n        matches.filter(match => match.location_id === location._id).map(m => {\r\n            venues.add(m.venue_name)\r\n        })\r\n        return Array.from(venues)\r\n    }\r\n\r\n    return (\r\n        location === null ?\r\n        null\r\n        :\r\n        <div className='location-matchlist-component'>\r\n            <LocationDetails location={location} />\r\n            {getVenues().map(venue =>\r\n                <MatchListItems \r\n                    key={venue}\r\n                    header={venue}\r\n                    groupbyItem={'venue_name'}\r\n                    matches={matches.filter(match => match.venue_name === venue)}\r\n                    itemIsOpen={true}\r\n                />\r\n            )}\r\n        </div>\r\n    )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { useSelector } from 'react-redux'\r\nimport axios from 'axios'\r\nimport './StandingsComponent.css'\r\nimport StandingsTable from './StandingsTableComponent'\r\n\r\nexport default function Standings() {\r\n\r\n    const item = useSelector(state => state.selectedItem)\r\n    const [standings, setStandings] = useState([])\r\n    const [selectedGroup, setSelectedGroup] = useState('')\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [error, setError] = useState(false)\r\n\r\n    const groups = standings.map(group => {return group.name})\r\n\r\n    function getStandings() {\r\n        setIsLoading(true)\r\n        let data = {'standings': item}\r\n\r\n        axios.post('/api/standings', data)\r\n            .then(res => {\r\n                if (res.data.length === 0) {\r\n                    setError(true)\r\n                } else {\r\n                    setSelectedGroup(res.data[0].name)\r\n                    setStandings(res.data)\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n                setError(true)\r\n            })\r\n            .finally(() => setIsLoading(false))\r\n    }\r\n    \r\n    useEffect(() => {\r\n        if (typeof(item) !== 'undefined') {\r\n            getStandings()\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        typeof(item) === 'undefined' ?\r\n        null\r\n        :\r\n        <div id='standings-component' className='standings-component'>\r\n            <div className='standings-header'>\r\n                {item.name}\r\n            </div>\r\n            {isLoading ?\r\n            <div>Ladataan sarjatilannetta...</div>\r\n            :\r\n            error ?\r\n            <div>Sarjatilannetta ei saatavilla.</div>\r\n            :\r\n            <div className='standings-content'>\r\n                <div>\r\n                    {groups.length > 1 ?\r\n                    <select\r\n                        value={selectedGroup}\r\n                        onChange={(e) => setSelectedGroup(e.target.value)}\r\n                    >\r\n                        {groups.map(group =>\r\n                            <option value={group}>{group}</option>\r\n                        )}\r\n                    </select>\r\n                    :\r\n                    groups[0] !== 'Sarja' ?\r\n                    <span>{groups[0]}</span>\r\n                    :\r\n                    <span></span>\r\n                    }\r\n                </div>\r\n                <StandingsTable\r\n                    standings={standings}\r\n                    selectedGroup={selectedGroup}\r\n                />\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}","import React, { useEffect } from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\nimport { useSelector, useDispatch } from 'react-redux'\nimport { getInitialData } from './actions/intialData'\nimport { getMatchesData } from './actions/matchesData'\nimport './App.css';\n\nimport Map from './components/MapComponent'\nimport TopMenu from './components/TopMenuComponent'\nimport ContentMenu from './components/ContentMenuComponent'\nimport Content from './components/ContentComponent'\nimport Notification from './components/NotificationComponent'\n\nimport Matchlist from './components/MatchlistComponent'\nimport LocationMatchlist from './components/LocationMatchlistComponent'\nimport Standings from './components/StandingsComponent'\n\nfunction App() {\n\n  const { dateFrom, dateTo, selectedFilters, selectedItem, selectedLocation, matchesLimitNotification } = useSelector(state => state)\n\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(getInitialData('areas'))\n    dispatch(getInitialData('levels'))\n    dispatch(getInitialData('teams'))\n    dispatch(getInitialData('info'))\n    dispatch(getMatchesData(dateFrom+','+dateTo, selectedFilters))\n  }, []);\n\n  return(\n    <div className='App'>\n      <Router>\n        <TopMenu />\n        <Map />\n        <ContentMenu />\n        {matchesLimitNotification && <Notification />}\n        <Switch>\n          <Route\n            exact path='/'\n            render={() => <Content><Matchlist /></Content>} \n          />\n          <Route\n            exact path='/locationmatchlist'\n            render={() => selectedLocation && <Content><LocationMatchlist /></Content>} \n          />\n          <Route\n            exact path='/standings'\n            render={() => selectedItem && <Content><Standings /></Content>} \n          />\n        </Switch>\n      </Router>\n    </div>\n  )\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { Provider } from 'react-redux'\nimport { store } from './store'\n\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}